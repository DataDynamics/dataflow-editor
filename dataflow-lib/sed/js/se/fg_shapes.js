var setTagsShapeEx=function(){},setTagsShapeBasicEx=function(){},setTagsForms=function(){},setTagsShape=function(k,f,t,e){if("diagram"==k.tagName)return k=setTagsShapeEx(k,f,t);if("basic"==k.tagName||"user"==k.tagName){if(1==t){var o="path";"user"==k.tagName&&(k.options.basic=!0,k.options.figure="basic",k.options.basicData=k.options.hmiData,k.tagName="basic",k.options.d=k.options.basicData.objects[0]),sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.group.subTag=[],k.group.subGroup=[],k.group.subTag[0]=k.group.tag,k.group.subGroup[0]=k.group;var i=k.options.basicData.objects;k.options.basicData.actions;k.changeTag=function(t){k.options.basicData.objects[0]=t,k.options.d=t.d,k.resizePointTo(0,0,0)},k.changeTags=function(t){k.options.basicData.objects=t;for(var e=0;e<k.group.subGroup.length;e++)if(null!=k.group.subGroup[e].subTagLegend)for(var o=0;o<k.group.subGroup[e].subTagLegend.length;o++)0!=e&&null!=k.group.subGroup[e].subTagLegend[o]&&k.group.subGroup[e].removeChild(k.group.subGroup[e].subTagLegend[o]);for(e=0;e<k.group.subGroup.length;e++)if(null!=k.group.subGroup[e].subTagLabel)for(o=0;o<k.group.subGroup[e].subTagLabel.length;o++)0!=e&&null!=k.group.subGroup[e].subTagLabel[o]&&k.group.subGroup[e].removeChild(k.group.subGroup[e].subTagLabel[o]);for(e=0;e<k.group.subTag.length;e++)if(0!=e){if(null!=k.group.subTag[e])try{k.group.subTag[e].parentNode.removeChild(k.group.subTag[e])}catch(t){}if(null!=k.group.subGroup[e])try{k.group.subGroup[e].parentNode.removeChild(k.group.subGroup[e])}catch(t){}}for(e=0;e<t.length;e++){0==e&&k.group.removeChild(k.group.tag);var i=null,r=null;if("path"==t[e].type)i=document.createElementNS("http://www.w3.org/2000/svg","g"),(r=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("stroke",k.options.stroke),r.setAttribute("stroke-width",k.options["stroke-width"]),r.setAttribute("id",k.get("figureId")+"_"+e),r.setAttribute("fill","none"),r.setAttribute("transX","0"),r.setAttribute("transY","0"),r.setAttribute("transAngle","0"),r.setAttribute("transColor","0"),r.setAttribute("transSkew","0"),i.appendChild(r),0==e&&(k.options.tagName="path",k.options.d=t[e].d);else if("circle"==t[e].type)i=document.createElementNS("http://www.w3.org/2000/svg","g"),(r=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("stroke",k.options.stroke),r.setAttribute("stroke-width",k.options["stroke-width"]),r.setAttribute("id",k.get("figureId")+"_"+e),r.setAttribute("fill","none"),r.setAttribute("transX","0"),r.setAttribute("transY","0"),r.setAttribute("transAngle","0"),r.setAttribute("transColor","0"),r.setAttribute("transSkew","0"),i.appendChild(r),0==e&&(k.options.cx=t[e].cx,k.options.cy=t[e].cy);else if("ellipse"==t[e].type)i=document.createElementNS("http://www.w3.org/2000/svg","g"),(r=document.createElementNS("http://www.w3.org/2000/svg","ellipse")).setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("stroke",k.options.stroke),r.setAttribute("stroke-width",k.options["stroke-width"]),r.setAttribute("id",k.get("figureId")+"_"+e),r.setAttribute("fill","none"),r.setAttribute("transX","0"),r.setAttribute("transY","0"),r.setAttribute("transAngle","0"),r.setAttribute("transColor","0"),r.setAttribute("transSkew","0"),i.appendChild(r),0==e&&(k.options.cx=t[e].cx,k.options.cy=t[e].cy,k.options.rx=t[e].rx,k.options.ry=t[e].ry);else if("text"==t[e].type||"guagetext"==t[e].type)i=document.createElementNS("http://www.w3.org/2000/svg","g"),(r=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("stroke",k.options.stroke),r.setAttribute("stroke-width",k.options["stroke-width"]),r.setAttribute("id",k.get("figureId")+"_"+e),r.setAttribute("fill","none"),r.setAttribute("transX","0"),r.setAttribute("transY","0"),r.setAttribute("transAngle","0"),r.setAttribute("transColor","0"),r.setAttribute("transSkew","0"),i.appendChild(r),0==e&&(k.options.text=t[e].text,k.options.x=t[e].x,k.options.y=t[e].y);else if("legend"==t[e].type){i=document.createElementNS("http://www.w3.org/2000/svg","g"),k.group.appendChild(i),k.group.subGroup[e]=i,r=document.createElementNS("http://www.w3.org/2000/svg","text"),i.appendChild(r),k.group.subTag[e]=r,k.group.subGroup[e].subTagLegend=[];for(o=0;o<t[e].list.length;o++){var s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("stroke",k.options.stroke),s.setAttribute("stroke-width",k.options["stroke-width"]),s.setAttribute("id",k.get("figureId")+"_"+e+"_"+o),s.setAttribute("fill","none"),s.setAttribute("transX","0"),s.setAttribute("transY","0"),s.setAttribute("transAngle","0"),s.setAttribute("transColor","0"),s.setAttribute("transSkew","0"),s.textContent=t[e].list[o].text,s.setAttribute("x",t[e].list[o].x),s.setAttribute("y",t[e].list[o].y),i.appendChild(s),k.group.subGroup[e].subTagLegend[o]=s}0==e&&(k.options.x=t[e].x,k.options.y=t[e].y)}else if("textArray"==t[e].type){i=document.createElementNS("http://www.w3.org/2000/svg","g"),k.group.appendChild(i),k.group.subGroup[e]=i,r=document.createElementNS("http://www.w3.org/2000/svg","text"),i.appendChild(r),k.group.subTag[e]=r,k.group.subGroup[e].subTagText=[];for(o=0;o<t[e].list.length;o++){var a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("stroke",k.options.stroke),a.setAttribute("stroke-width",k.options["stroke-width"]),a.setAttribute("id",k.get("figureId")+"_"+e+"_"+o),a.setAttribute("fill","none"),a.setAttribute("transX","0"),a.setAttribute("transY","0"),a.setAttribute("transAngle","0"),a.setAttribute("transColor","0"),a.setAttribute("transSkew","0"),a.textContent=t[e].list[o].text,a.setAttribute("x",t[e].list[o].x),a.setAttribute("y",t[e].list[o].y),i.appendChild(a),k.group.subGroup[e].subTagText[o]=a}0==e&&(k.options.x=t[e].x,k.options.y=t[e].y)}else if("chartLine"==t[e].type||"chartBar"==t[e].type||"chartArea"==t[e].type||"chartPie"==t[e].type){i=document.createElementNS("http://www.w3.org/2000/svg","g"),k.group.subGroup[e]=i,(r=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("stroke",k.options.stroke),r.setAttribute("stroke-width",k.options["stroke-width"]),r.setAttribute("id",k.get("figureId")+"_"+e),r.setAttribute("fill","none"),r.setAttribute("transX","0"),r.setAttribute("transY","0"),r.setAttribute("transAngle","0"),r.setAttribute("transColor","0"),r.setAttribute("transSkew","0"),i.appendChild(r),k.group.subTag[e]=r,0==e&&(k.options.tagName="path"),k.group.subGroup[e].subTagLabel=[],k.group.subGroup[e].subTagChart=[];var n=t[e].list;for(o=0;o<n.length;o++){var u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("xmlns","http://www.w3.org/2000/svg"),u.setAttribute("stroke-width",k.options["stroke-width"]),u.setAttribute("id",k.get("figureId")+"_"+e+"_"+o),null!=n[e].fill?u.setAttribute("fill",n[e].fill):u.setAttribute("fill",k.options.fill),null!=n[e].stroke?u.setAttribute("stroke",n[e].stroke):u.setAttribute("stroke",k.options.stroke),u.setAttribute("transX","0"),u.setAttribute("transY","0"),u.setAttribute("transAngle","0"),u.setAttribute("transColor","0"),u.setAttribute("transSkew","0"),u.textContent="_",i.appendChild(u),k.group.subGroup[e].subTagChart[o]=u;var p=document.createElementNS("http://www.w3.org/2000/svg","text");p.setAttribute("xmlns","http://www.w3.org/2000/svg"),p.setAttribute("stroke-width",k.options["stroke-width"]),p.setAttribute("id",k.get("figureId")+"_"+e+"_"+o),null!=n[e].labelFill?p.setAttribute("fill",n[e].labelFill):p.setAttribute("fill","black"),null!=n[e].labelStroke?p.setAttribute("stroke",k.options.labelStroke):p.setAttribute("stroke","black"),p.setAttribute("font-size",k.options.fontSize),p.setAttribute("transX","0"),p.setAttribute("transY","0"),p.setAttribute("transAngle","0"),p.setAttribute("transColor","0"),p.setAttribute("transSkew","0"),p.textContent="_",i.appendChild(p),k.group.subGroup[e].subTagLabel[o]=p}0==e&&(k.options.x=t[e].x,k.options.y=t[e].y)}else if("line"==t[e].type){i=document.createElementNS("http://www.w3.org/2000/svg","g");(r=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("stroke",k.options.stroke),r.setAttribute("stroke-width",k.options["stroke-width"]),r.setAttribute("id",k.get("figureId")+"_"+e),r.setAttribute("fill","none"),r.setAttribute("transX","0"),r.setAttribute("transY","0"),r.setAttribute("transAngle","0"),r.setAttribute("transColor","0"),r.setAttribute("transSkew","0"),i.appendChild(r)}else if("guagep"==t[e].type)i=document.createElementNS("http://www.w3.org/2000/svg","g"),(r=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("id",k.get("figureId")+"_"+e),r.setAttribute("transX","0"),r.setAttribute("transY","0"),r.setAttribute("transAngle","0"),r.setAttribute("transColor","0"),r.setAttribute("transSkew","0"),null==k.options.angle&&(k.options.angle=60),i.appendChild(r);else if("guageh"==t[e].type||"guagev"==t[e].type){if(i=document.createElementNS("http://www.w3.org/2000/svg","g"),null!=k.group.defs.gradientGuageH)try{k.group.defs.removeChild(k.group.defs.gradientGuageH)}catch(t){console.log("에러",t)}(r=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("id",k.get("figureId")+"_"+e),r.setAttribute("transX","0"),r.setAttribute("transY","0"),r.setAttribute("transAngle","0"),r.setAttribute("transColor","0"),r.setAttribute("transSkew","0");var l=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.setAttribute("filterKind","gradient"),l.setAttribute("gradientKind","guage"),l.setAttribute("id","gradientGuage"+k.options.figureId),"guageh"==t[e].type?(l.setAttribute("x1","0%"),l.setAttribute("y1","100%"),l.setAttribute("x2","100%"),l.setAttribute("y2","100%")):"guagev"==t[e].type&&(l.setAttribute("x1","100%"),l.setAttribute("y1","100%"),l.setAttribute("x2","100%"),l.setAttribute("y2","0%"));var g=document.createElementNS("http://www.w3.org/2000/svg","stop");g.setAttribute("xmlns","http://www.w3.org/2000/svg"),g.setAttribute("stop-color",t[e].fill),g.setAttribute("stop-opacity",1);var d=document.createElementNS("http://www.w3.org/2000/svg","stop");d.setAttribute("xmlns","http://www.w3.org/2000/svg"),d.setAttribute("stop-color",t[e].fill),d.setAttribute("stop-opacity",1);var b=document.createElementNS("http://www.w3.org/2000/svg","stop");b.setAttribute("xmlns","http://www.w3.org/2000/svg");var h=document.createElementNS("http://www.w3.org/2000/svg","stop");h.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.appendChild(g),l.appendChild(d),l.appendChild(b),l.appendChild(b),k.group.defs.appendChild(l),k.group.defs.gradientGuageH=l,k.group.defs.gradientGuageH.stop1=g,k.group.defs.gradientGuageH.stop2=d,k.group.defs.gradientGuageH.stop3=b,k.group.defs.gradientGuageH.stop4=h,r.setAttribute("fill","url(#gradientGuage"+f.figureId+")"),i.appendChild(r)}else"guagec"==t[e].type&&(i=document.createElementNS("http://www.w3.org/2000/svg","g"),(r=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("id",k.get("figureId")+"_"+e),r.setAttribute("transX","0"),r.setAttribute("transY","0"),r.setAttribute("transAngle","0"),r.setAttribute("transColor","0"),r.setAttribute("transSkew","0"),i.appendChild(r));if(0==e){var c=sedLib.createTag(t[e].type,k.options);k.group.subGroup[e]=k.group,k.group.subTag[e]=c,k.group.appendChild(c),k.group.tag=c,k.group.subTag[0]=k.group.tag}else"chartLine"==t[e].type||"legend"==t[e].type||(k.group.appendChild(i),k.group.subGroup[e]=i,k.group.subTag[e]=r)}for(e=0;e<t.length;e++)for(o=1;o<t.length;o++)null==t[o].relationParentNum&&(t[o].relationParentNum=1),t[o].relationParentNum==e+1&&(null!=t[o].tagPosition&&"back"==t[o].tagPosition?0==e?k.group.insertBefore(k.group.subGroup[o],k.group.querySelector("g:not([tagPosition=back])")):k.group.subGroup[e].appendChild(k.group.subGroup[o]):0==e?k.group.appendChild(k.group.subGroup[o]):k.group.subGroup[e].appendChild(k.group.subGroup[o]));null!=k.group.tagText&&null!=k.group.tagText&&k.group.appendChild(k.group.tagText),null!=k.options.folder&&null!=k.options.folder&&1==k.options.folder&&k.group.tag.setAttribute("folder",!0)},k.ajaxCallback=function(t){if("value"==t.stateKey)null!=t.max&&(k.options.data.max=t.max),null!=t.min&&(k.options.data.min=t.min),k.setValue(t.value);else if("chartData"==t.stateKey)k.setChartData(t.list);else{for(var e=0;e<k.options.animsState.length;e++)k.options.animsState[e].key==t.stateKey&&k.options.animsState[e].value==t.value&&(null!=t.to&&null!=t.to&&""!=t.to&&(k.options.anims[e].to=t.to),null!=k.options.data[t.stateKey]&&null!=k.options.data[t.stateKey].value&&k.options.data[t.stateKey].value==t.value||sedLib.animate(k,e,t.stateKey,t.value));k.options.data[t.stateKey]=t}k.refresh(201)},k.setData=function(t,e){k.options.data[t]=e,"chartData"==t?k.setChartData(e.list):"value"==t&&k.setValue(e);for(var o=0;o<k.options.animsState.length;o++)k.options.animsState[o].key==t&&k.options.animsState[o].value==e.value&&sedLib.animate(k,o,t,e.value);k.refresh(202)},k.getData=function(t){return k.options.data[t]},k.getValue=function(){return k.options.data.value},k.setValue=function(t){k.options.data.value=t,k.refresh(203)},k.setMax=function(t){k.options.data.max=t},k.setMin=function(t){k.options.data.min=t},k.setChartData=function(t){if(null!=t&&null!=t){k.options.data.chartData=t;for(var e=0;e<this.options.basicData.objects.length;e++)if("chartLine"==k.options.basicData.objects[e].type||"chartArea"==k.options.basicData.objects[e].type||"chartBar"==k.options.basicData.objects[e].type||"chartPie"==k.options.basicData.objects[e].type){if("chartPie"==k.options.basicData.objects[e].type){for(;0!=k.group.subGroup[e].subTagChart.length;)k.group.subGroup[e].removeChild(k.group.subGroup[e].subTagChart[k.group.subGroup[e].subTagChart.length-1]),k.group.subGroup[e].subTagChart.splice(k.group.subGroup[e].subTagChart.length-1,1);for(;0!=k.group.subGroup[e].subTagLabel.length;)k.group.subGroup[e].removeChild(k.group.subGroup[e].subTagLabel[k.group.subGroup[e].subTagLabel.length-1]),k.group.subGroup[e].subTagLabel.splice(k.group.subGroup[e].subTagLabel.length-1,1);for(var o=0;o<t.length;o++){var i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("stroke-width",k.options["stroke-width"]),i.setAttribute("id",k.get("figureId")+"_"+e+"_"+o),null!=t[o].fill?i.setAttribute("fill",t[o].fill):i.setAttribute("fill",k.options.fill),null!=t[o].stroke?i.setAttribute("stroke",t[o].stroke):i.setAttribute("stroke",k.options.stroke),i.setAttribute("opacity",1),i.setAttribute("transX","0"),i.setAttribute("transY","0"),i.setAttribute("transAngle","0"),i.setAttribute("transColor","0"),i.setAttribute("transSkew","0"),i.textContent="_",k.group.subGroup[e].appendChild(i),k.group.subGroup[e].subTagChart[o]=i;var r=document.createElementNS("http://www.w3.org/2000/svg","text");r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("stroke-width",k.options["stroke-width"]),r.setAttribute("id",k.get("figureId")+"_"+e+"_"+o),null!=t[o].labelFill?r.setAttribute("fill",t[o].labelFill):r.setAttribute("fill","black"),null!=t[o].labelStroke?r.setAttribute("stroke",t[o].labelStroke):r.setAttribute("stroke","black"),r.setAttribute("opacity","1"),r.setAttribute("font-size",k.options.fontSize),r.setAttribute("transX","0"),r.setAttribute("transY","0"),r.setAttribute("transAngle","0"),r.setAttribute("transColor","0"),r.setAttribute("transSkew","0"),r.textContent="_",k.group.subGroup[e].appendChild(r),k.group.subGroup[e].subTagLabel[o]=r}}k.options.basicData.objects[e].list=[];for(o=0;o<t.length;o++)k.options.basicData.objects[e].list.push({label:t[o].label,value:t[o].value})}k.refresh(204)}},k.setActions=function(){var t=this.get("width"),e=this.get("height");k.options.animsState=[],k.options.anims=[];for(var o=0;o<this.options.basicData.objects.length;o++){var i=1,r=0,s=0,a=0,n="1 1";if(null==this.options.basicData.objects[o])break;r=k.options.basicData.objects[o].roX,s=k.options.basicData.objects[o].roY;null==i&&(i=1),null==n&&(n="1 1"),null==a&&(a="0");for(var u=0;u<k.options.basicData.actions.length;u++){var p=k.options.basicData.actions[u],l=p.key,g=p.value,d=p.changeIgnore,b=p.obj,h=p.isGroup,c=p.cls,f=p.dur,y=p.begin,m=p.after,A=p.repeat,w=p.to,x=p.from,v=b;if(1==isNaN(b)&&(v=sedLib.findLayerNum(k,b)),Number(v)-1==o)if(!0,"xyRate"==c){var L={key:l,value:g,changeIgnore:d,type:"translateRate",isGroup:h,obj:v,from:x,to:w,begin:y,dur:f,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("xy"==c){L={key:l,value:g,changeIgnore:d,type:"translate",isGroup:h,obj:v,from:x,to:w,begin:y,dur:f,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("position"==c){L={key:l,value:g,changeIgnore:d,type:"translatePosition",isGroup:h,obj:v,from:x,to:w,begin:y,dur:f,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("positionPath"==c){L={key:l,value:g,changeIgnore:d,type:"translatePositionPath",isGroup:h,obj:v,from:x,to:w,begin:y,dur:f,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("positionLatLng"==c){L={key:l,value:g,changeIgnore:d,type:"translateLatLng",isGroup:h,obj:v,from:x,to:w,begin:y,dur:f,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("positionRef"==c){L={key:l,value:g,changeIgnore:d,type:"translatePositionRef",isGroup:h,obj:v,from:x,to:w,begin:y,dur:f,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("patternMove"==c){L={key:l,value:g,changeIgnore:d,type:"translatePattern",isGroup:h,obj:v,from:x,to:w,begin:y,dur:f,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("rotate"==c||"rotateL"==c||"rotateR"==c||"rotateS"==c){r=k.options.basicData.objects[o].roX,s=k.options.basicData.objects[o].roY,L={key:l,value:a=g,changeIgnore:d,type:c,isGroup:h,obj:v,from:x+" "+(r*=t/100)+" "+(s*=e/100),to:w+" "+r+" "+s,begin:y,dur:f,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("opacity"==c){L={key:l,value:i=g,changeIgnore:d,type:"opacity",isGroup:h,obj:v,from:x,to:w,begin:y,dur:f,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("stroke"==c){L={key:l,value:stroke=g,changeIgnore:d,type:"stroke",isGroup:h,obj:v,from:x,to:w,begin:y,dur:f,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("fill"==c){L={key:l,value:g,changeIgnore:d,type:"fill",isGroup:h,obj:v,from:x,to:w,begin:y,dur:f,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("scale"==c){L={key:l,value:n=g,changeIgnore:d,type:"scale",isGroup:h,obj:v,from:x,to:w,begin:y,dur:f,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("strokeDashOffset"==c){L={key:l,value:g,changeIgnore:d,type:"strokeDashOffset",isGroup:h,obj:v,from:x,to:w,begin:y,dur:f,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}}}},k.setActionsData=function(t){k.options.basicData.actions=t},k.changeGradients=function(t,e){k.options.gradients[e]=t,null!=document.getElementById(t.type+k.options.figureId+"_"+t.index)&&k.group.defs.removeChild(document.getElementById(t.type+k.options.figureId+"_"+t.index));var o=null;"center"!=t.kind?((o=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",t.type+f.figureId+"_"+t.index),"hor"==t.kind?(o.setAttribute("x1","0%"),o.setAttribute("y1","0%"),o.setAttribute("x2","100%"),o.setAttribute("y2","0%")):"ver"==t.kind?(o.setAttribute("x1","0%"),o.setAttribute("y1","0%"),o.setAttribute("x2","0%"),o.setAttribute("y2","100%")):"leftright"==t.kind?(o.setAttribute("x1","0%"),o.setAttribute("y1","0%"),o.setAttribute("x2","100%"),o.setAttribute("y2","100%")):"rightleft"==t.kind&&(o.setAttribute("x1","0%"),o.setAttribute("y1","100%"),o.setAttribute("x2","100%"),o.setAttribute("y2","0%"))):((o=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",t.type+k.options.figureId+"_"+t.index),o.setAttribute("cx","50%"),o.setAttribute("cy","50%"),o.setAttribute("r","50%"));var i=t.colorNum,r=document.createElementNS("http://www.w3.org/2000/svg","stop");r.setAttribute("offset",t.colorPos1+"%"),r.setAttribute("stop-color",t.color1),r.setAttribute("stop-opacity",t.colorOpacity1);var s=document.createElementNS("http://www.w3.org/2000/svg","stop");s.setAttribute("offset",t.colorPos2+"%"),s.setAttribute("stop-color",t.color2),s.setAttribute("stop-opacity",t.colorOpacity2);var a=document.createElementNS("http://www.w3.org/2000/svg","stop");a.setAttribute("offset",t.colorPos3+"%"),a.setAttribute("stop-color",t.color3),a.setAttribute("stop-opacity",t.colorOpacity3);var n=document.createElementNS("http://www.w3.org/2000/svg","stop");n.setAttribute("offset",t.colorPos4+"%"),n.setAttribute("stop-color",t.color4),n.setAttribute("stop-opacity",t.colorOpacity4);var u=document.createElementNS("http://www.w3.org/2000/svg","stop");u.setAttribute("offset",t.colorPos5+"%"),u.setAttribute("stop-color",t.color5),u.setAttribute("stop-opacity",t.colorOpacity5),o.appendChild(r),o.appendChild(s),3<=Number(i)&&o.appendChild(a),4<=Number(i)&&o.appendChild(n),5<=Number(i)&&o.appendChild(u),k.group.defs.appendChild(o)},k.changePatterns=function(t,e){k.options.patterns[e]=t,null!=document.getElementById(t.type+k.options.figureId+"_"+t.index)&&k.group.defs.removeChild(document.getElementById(t.type+k.options.figureId+"_"+t.index));var o=document.createElementNS("http://www.w3.org/2000/svg","pattern");o.setAttribute("type",t.type),o.setAttribute("id",t.type+k.options.figureId+"_"+t.index),o.setAttribute("x",0),o.setAttribute("y",0),o.setAttribute("width",t.width),o.setAttribute("height",t.height),o.setAttribute("patternUnits","userSpaceOnUse");for(var i=t.objects,r=0;r<i.length;r++){var s=null;if("path"==i[r].type){(s=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("stroke-linecap",i[r].strokeLineCap);for(var a=i[r].d.split(" "),n=t.width,u=t.height,p=[],l=0;l<a.length;l++)if(""!=a[l].trim()){var g=a[l];if(-1!=g.indexOf("M")){var d=(g=g.replace("M","")).split(",");p.push({type:"M",x:d[0],y:d[1]})}else if(-1!=g.indexOf("L")){d=(g=g.replace("L","")).split(",");p.push({type:"L",x:d[0],y:d[1]})}else if(-1!=g.indexOf("Q")){d=(g=g.replace("Q","")).split(",");p.push({type:"Q",x:d[0],y:d[1],x2:d[2],y2:d[3]})}else if(-1!=g.indexOf("C")){d=(g=g.replace("C","")).split(",");p.push({type:"CR",x:d[0],y:d[1],x2:d[2],y2:d[3],x3:d[4],y3:d[5]})}else-1!=g.indexOf("Z")&&p.push({type:"Z"})}var b="";for(l=0;l<p.length;l++){var h=p[l];if("M"==h.type){var c=n/100*h.x+n/2,f=u/100*h.y+u/2;b=b+h.type+c+","+f+" "}else if("L"==h.type){c=n/100*h.x+n/2,f=u/100*h.y+u/2;b=b+h.type+c+","+f+" "}else if("Q"==h.type){c=n/100*h.x+n/2,f=u/100*h.y+u/2;var y=n/100*h.x2+n/2,m=u/100*h.y2+u/2;b=b+h.type+c+","+f+","+y+","+m+" "}else if("CR"==h.type){b=b+"C"+(c=n/100*h.x+n/2)+","+(f=u/100*h.y+u/2)+","+(y=n/100*h.x2+n/2)+","+(m=u/100*h.y2+u/2)+","+(n/100*h.x3+n/2)+","+(u/100*h.y3+u/2)+" "}else"Z"==h.type&&(b+="Z")}s.setAttribute("d",b)}else if("circle"==i[r].type){n=t.width,u=t.height;if((s=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("stroke-linecap",i[r].strokeLineCap),s.setAttribute("cx",i[r].cx*n/100+n/2),s.setAttribute("cy",i[r].cy*u/100+u/2),"w"==i[r].rBase)s.setAttribute("r",n/100*i[r].r);else if("h"==i[r].rBase)s.setAttribute("r",u/100*i[r].r);else if("min"==i[r].rBase){var A=n;u<n&&(A=u),s.setAttribute("r",A/100*i[r].r)}else if("max"==i[r].rBase){var w=n;u<n&&(w=u),s.setAttribute("r",w/100*i[r].r)}}else if("ellipse"==i[r].type)(s=document.createElementNS("http://www.w3.org/2000/svg","ellipse")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("stroke-linecap",i[r].strokeLineCap),s.setAttribute("cx",i[r].cx*n/100+n/2),s.setAttribute("cy",i[r].cy*u/100+u/2),s.setAttribute("rx",i[r].rx*n/100),s.setAttribute("ry",i[r].ry*u/100);else if("text"==i[r].type||"guagetext"==i[r].type)document.createElementNS("http://www.w3.org/2000/svg","g"),(s=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("x",i[r].x*n/100+n/2),s.setAttribute("y",i[r].y*u/100+u/2);else if("line"==i[r].type){document.createElementNS("http://www.w3.org/2000/svg","g");(s=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("stroke-linecap",i[r].strokeLineCap),s.setAttribute("x1",i[r].x1*n/100+n/2),s.setAttribute("y1",i[r].y1*u/100+u/2),s.setAttribute("x2",i[r].x2*n/100+n/2),s.setAttribute("y2",i[r].y2*u/100+u/2)}o.appendChild(s),k.group.defs.appendChild(o)}},k.changeTags(i),k.setActions(),null==k.options.data&&(k.options.data={}),null!=k.options.data.chartData&&k.setChartData(k.options.data.chartData);for(var r=Object.entries(k.options.data),s=0;s<r.length;s++){var a=r[s];k.setData(a[0],a[1])}null!=k.group.tagText&&null!=k.group.tagText&&k.group.appendChild(k.group.tagText)}for(var n=k.options.basicData.objects,u=0;u<n.length;u++){if("path"==(J=n[u]).type){var p=(T=J.d).split(" "),l=k.get("width"),g=k.get("height"),d=[];for(s=0;s<p.length;s++){if(""!=p[s].trim())if(-1!=(gt=p[s]).indexOf("M")){var b=(gt=gt.replace("M","")).split(",");d.push({type:"M",x:b[0],y:b[1]})}else if(-1!=gt.indexOf("L")){b=(gt=gt.replace("L","")).split(",");d.push({type:"L",x:b[0],y:b[1]})}else if(-1!=gt.indexOf("Q")){b=(gt=gt.replace("Q","")).split(",");d.push({type:"Q",x:b[0],y:b[1],x2:b[2],y2:b[3]})}else if(-1!=gt.indexOf("C")){b=(gt=gt.replace("C","")).split(",");d.push({type:"CR",x:b[0],y:b[1],x2:b[2],y2:b[3],x3:b[4],y3:b[5]})}else-1!=gt.indexOf("Z")&&d.push({type:"Z"})}var h="";for(s=0;s<d.length;s++){if("M"==(dt=d[s]).type){var c=l/100*dt.x,y=g/100*dt.y;h=h+dt.type+c+","+y+" "}else if("L"==dt.type){c=l/100*dt.x,y=g/100*dt.y;h=h+dt.type+c+","+y+" "}else if("Q"==dt.type){c=l/100*dt.x,y=g/100*dt.y;var m=l/100*dt.x2,A=g/100*dt.y2;h=h+dt.type+c+","+y+","+m+","+A+" "}else if("CR"==dt.type){h=h+"C"+(c=l/100*dt.x)+","+(y=g/100*dt.y)+","+(m=l/100*dt.x2)+","+(A=g/100*dt.y2)+","+l/100*dt.x3+","+(lt=g/100*dt.y3)+" "}else"Z"==dt.type&&(h+="Z")}k.group.subTag[u].setAttribute("d",h)}else if("circle"==J.type){l=k.get("width"),g=k.get("height");if(k.group.subTag[u].setAttribute("cx",l/100*J.cx),k.group.subTag[u].setAttribute("cy",g/100*J.cy),"w"==J.rBase)k.group.subTag[u].setAttribute("r",l/100*J.r);else if("h"==J.rBase)k.group.subTag[u].setAttribute("r",g/100*J.r);else if("min"==J.rBase){var w=l;g<l&&(w=g),k.group.subTag[u].setAttribute("r",w/100*J.r)}else if("max"==J.rBase){var x=l;g<l&&(x=g),k.group.subTag[u].setAttribute("r",x/100*J.r)}}else if("guagep"==J.type){l=k.get("width"),g=k.get("height");k.group.subTag[u].setAttribute("cx",l/100*J.cx),k.group.subTag[u].setAttribute("cy",g/100*J.cy),null==k.options.data.max&&(k.options.data.max=100),null==k.options.data.min&&(k.options.data.min=100),360<=(bt=360*(Number(k.options.data.value)-Number(k.options.data.min))/(Number(k.options.data.max)-Number(k.options.data.min)))&&(bt=359.9999),null!=bt&&null!=bt&&1!=isNaN(bt)||(bt=0);var v=J.guageStartRadian,L=J.guageEndRadian;if(null!=v&&null!=v||(v=0),null!=v&&null!=v&&""!=v&&null!=L&&null!=L&&""!=L){var S=L-v;bt=Number(S*bt/360)}if("w"==J.rBase){var T=sedLib.calcPie(l/100*J.cx,g/100*J.cy,0,l/100*J.r,-90+Number(v),bt-90+Number(v));k.group.subTag[u].setAttribute("d",T)}else if("h"==J.rBase){T=sedLib.calcPie(l/100*J.cx,g/100*J.cy,0,g/100*J.r,-90+Number(v),bt-90+Number(v));k.group.subTag[u].setAttribute("d",T)}else if("min"==J.rBase){w=l;g<l&&(w=g);T=sedLib.calcPie(l/100*J.cx,g/100*J.cy,0,w/100*J.r,-90+Number(v),bt-90+Number(v));k.group.subTag[u].setAttribute("d",T)}else if("max"==J.rBase){x=l;l<g&&(x=g);T=sedLib.calcPie(l/100*J.cx,g/100*J.cy,0,x/100*J.r,-90+Number(v),bt-90+Number(v));k.group.subTag[u].setAttribute("d",T)}}else if("ellipse"==J.type){l=k.get("width"),g=k.get("height");k.group.subTag[u].setAttribute("cx",l/100*J.cx),k.group.subTag[u].setAttribute("cy",g/100*J.cy),k.group.subTag[u].setAttribute("rx",l/100*J.rx),k.group.subTag[u].setAttribute("ry",g/100*J.ry)}else if("line"==J.type){l=k.get("width"),g=k.get("height");k.group.subTag[u].setAttribute("x1",l/100*J.x1),k.group.subTag[u].setAttribute("y1",g/100*J.y1),k.group.subTag[u].setAttribute("x2",l/100*J.x2),k.group.subTag[u].setAttribute("y2",g/100*J.y2)}else if("text"==J.type){l=k.get("width"),g=k.get("height");if(k.group.subTag[u].setAttribute("x",l/100*J.x),k.group.subTag[u].setAttribute("y",g/100*J.y),"ie"==sedLib.browserCls?k.group.subTag[u].textContent=J.text:k.group.subTag[u].innerHTML=J.text,null!=J.textRotate&&0==isNaN(J.textRotate)&&k.group.subTag[u].setAttribute("transform","rotate ("+J.textRotate+","+J.x+","+J.y+" ) "),k.group.subTag[u].setAttribute("text-anchor","middle"),null==J.fontSizeRatio||null==J.fontSizeRatio||""==J.fontSizeRatio||"n"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize);else if("w"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*l/100);else if("h"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*g/100);else if("min"==J.fontSizeRatio){w=l;g<l&&(w=g),null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*w/100)}else if("max"==J.fontSizeRatio){x=l;l<g&&(x=g),null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*x/100)}null!=J.textAnchor&&null!=J.textAnchor&&""!=J.textAnchor&&k.group.subTag[u].setAttribute("text-anchor",J.textAnchor),null!=J.alignmentBaseline&&null!=J.alignmentBaseline&&""!=J.alignmentBaseline&&k.group.subTag[u].setAttribute("alignment-baseline",J.alignmentBaseline)}else if("guagetext"==J.type){if("ie"==sedLib.browserCls?k.group.subTag[u].textContent=k.options.data.value:k.group.subTag[u].innerHTML=k.options.data.value,k.group.subTag[u].setAttribute("x",l/100*J.x),k.group.subTag[u].setAttribute("y",g/100*J.y),k.group.subTag[u].setAttribute("text-anchor","middle"),null!=J.textRotate&&0==isNaN(J.textRotate)&&k.group.subTag[u].setAttribute("transform","rotate ("+J.textRotate+","+J.x+","+J.y+" ) "),null==J.fontSizeRatio||null==J.fontSizeRatio||"n"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize);else if("w"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*l/100);else if("h"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*g/100);else if("min"==J.fontSizeRatio){w=l;g<l&&(w=g),null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*w/100)}else if("max"==J.fontSizeRatio){x=l;l<g&&(x=g),null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*x/100)}null!=J.textAnchor&&null!=J.textAnchor&&""!=J.textAnchor&&k.group.subTag[u].setAttribute("text-anchor",J.textAnchor),null!=J.alignmentBaseline&&null!=J.alignmentBaseline&&""!=J.alignmentBaseline&&k.group.subTag[u].setAttribute("alignment-baseline",J.alignmentBaseline)}else if("textArray"==J.type)for(var C=0;C<J.list.length;C++){if("ie"==sedLib.browserCls?k.group.subGroup[u].subTagText[C].textContent=J.list[C].text:k.group.subGroup[u].subTagText[C].innerHTML=J.list[C].text,k.group.subGroup[u].subTagText[C].setAttribute("x",l/100*J.list[C].x),k.group.subGroup[u].subTagText[C].setAttribute("y",g/100*J.list[C].y),k.group.subGroup[u].subTagText[C].setAttribute("text-anchor","middle"),null==J.fontSizeRatio||null==J.fontSizeRatio||""==J.fontSizeRatio||"n"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subGroup[u].subTagText[C].setAttribute("font-size",J.fontSize);else if("w"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subGroup[u].subTagText[C].setAttribute("font-size",J.fontSize*l/100);else if("h"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subGroup[u].subTagText[C].setAttribute("font-size",J.fontSize*g/100);else if("min"==J.fontSizeRatio){w=l;g<l&&(w=g),null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subGroup[u].subTagText[C].setAttribute("font-size",J.fontSize*w/100)}else if("max"==J.fontSizeRatio){x=l;l<g&&(x=g),null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subGroup[u].subTagText[C].setAttribute("font-size",J.fontSize*x/100)}null!=J.textAnchor&&null!=J.textAnchor&&""!=J.textAnchor&&k.group.subGroup[u].subTagText[C].setAttribute("text-anchor",J.textAnchor),null!=J.alignmentBaseline&&null!=J.alignmentBaseline&&""!=J.alignmentBaseline&&k.group.subGroup[u].subTagText[C].setAttribute("alignment-baseline",J.alignmentBaseline),null!=J.textRotate&&0==isNaN(J.textRotate)&&k.group.subGroup[u].subTagText[C].setAttribute("transform","rotate ("+J.textRotate+","+l/100*J.list[C].x+","+g/100*J.list[C].y+" ) ")}else if("legend"==J.type)for(C=0;C<J.list.length;C++){if("ie"==sedLib.browserCls?k.group.subGroup[u].subTagLegend[C].textContent=J.list[C].text:k.group.subGroup[u].subTagLegend[C].innerHTML=J.list[C].text,k.group.subGroup[u].subTagLegend[C].setAttribute("x",l/100*J.list[C].x),k.group.subGroup[u].subTagLegend[C].setAttribute("y",g/100*J.list[C].y),k.group.subGroup[u].subTagLegend[C].setAttribute("text-anchor","middle"),null==J.fontSizeRatio||null==J.fontSizeRatio||""==J.fontSizeRatio||"n"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subGroup[u].subTagLegend[C].setAttribute("font-size",J.fontSize);else if("w"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subGroup[u].subTagLegend[C].setAttribute("font-size",J.fontSize*l/100);else if("h"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subGroup[u].subTagLegend[C].setAttribute("font-size",J.fontSize*g/100);else if("min"==J.fontSizeRatio){w=l;g<l&&(w=g),null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subGroup[u].subTagLegend[C].setAttribute("font-size",J.fontSize*w/100)}else if("max"==J.fontSizeRatio){x=l;l<g&&(x=g),null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subGroup[u].subTagLegend[C].setAttribute("font-size",J.fontSize*x/100)}null!=J.textAnchor&&null!=J.textAnchor&&""!=J.textAnchor&&k.group.subGroup[u].subTagLegend[C].setAttribute("text-anchor",J.textAnchor),null!=J.alignmentBaseline&&null!=J.alignmentBaseline&&""!=J.alignmentBaseline&&k.group.subGroup[u].subTagLegend[C].setAttribute("alignment-baseline",J.alignmentBaseline),null!=J.textRotate&&0==isNaN(J.textRotate)&&k.group.subGroup[u].subTagLegend[C].setAttribute("transform","rotate ("+J.textRotate+","+l/100*J.list[C].x+","+g/100*J.list[C].y+" ) ")}else if("chartLine"==J.type||"chartBar"==J.type||"chartArea"==J.type||"chartPie"==J.type){l=k.get("width"),g=k.get("height");var N=J.x,D=J.y,I=J.width,z=J.height,G=I/Number(J.labelCount);if(null==(x=k.options.data.max)&&(x=100),null==(w=k.options.data.min)&&(w=0),"chartLine"==J.type){for(T="",s=0;s<J.labelCount;s++){null==J.list[s]&&(J.list[s]={},J.list[s].value=0,J.list[s].label="");var B=Number(N)+s*G,j=Number(D)+Number(z)-(J.list[s].value-w)/(x-w)*Number(z),P=(Number(N)+s*G+G/2)*l/100;B=B*l/100,j=j*g/100,T=0==s?"M"+B+","+j:T+" L"+B+","+j,k.group.subGroup[u].subTagLabel[s].textContent=J.list[s].label,k.group.subGroup[u].subTagLabel[s].setAttribute("x",P),k.group.subGroup[u].subTagLabel[s].setAttribute("text-anchor","middle"),k.group.subGroup[u].subTagLabel[s].setAttribute("y",(Number(D)+Number(z))*g/100+20)}k.group.subTag[u].setAttribute("d",T),k.group.subTag[u].setAttribute("fill","none")}else if("chartArea"==J.type){T="";var E=0,M=0,O=(Number(D)+Number(z))*g/100;for(s=0;s<J.labelCount;s++){null==J.list[s]&&(J.list[s]={},J.list[s].value=0,J.list[s].label="");B=Number(N)+s*G,P=(Number(N)+s*G+G/2)*l/100,j=Number(D)+Number(z)-(J.list[s].value-w)/(x-w)*Number(z);B=B*l/100,j=j*g/100,0==s&&(M=B),E=B,T=0==s?"M"+B+","+j:T+" L"+B+","+j,k.group.subGroup[u].subTagLabel[s].textContent=J.list[s].label,k.group.subGroup[u].subTagLabel[s].setAttribute("x",P),k.group.subGroup[u].subTagLabel[s].setAttribute("text-anchor","middle"),k.group.subGroup[u].subTagLabel[s].setAttribute("y",(Number(D)+Number(z))*g/100+20)}T=T+" L"+E+","+O+"  L"+M+","+O+" z",k.group.subTag[u].setAttribute("d",T),k.group.subTag[u].setAttribute("fill","none")}else if("chartBar"==J.type){for(T="",E=0,M=0,O=(Number(D)+Number(z))*g/100,s=0;s<J.labelCount;s++){null==J.list[s]&&(J.list[s]={},J.list[s].value=0,J.list[s].label="");B=Number(N)+s*G,P=(Number(N)+s*G+G/2)*l/100;var W=Number(N)+(s+1)*G;j=Number(D)+Number(z)-(J.list[s].value-w)/(x-w)*Number(z);B=B*l/100,W=W*l/100,j=j*g/100,0==s&&(M=B),E=B,T=0==s?"M"+B+","+O+"L"+B+","+j+" L"+W+","+j+" L"+W+","+O+" z":T+" M"+B+","+O+" L"+B+","+j+" L"+W+","+j+" L"+W+","+O+" L"+B+","+O+" z",k.group.subGroup[u].subTagLabel[s].textContent=J.list[s].label,k.group.subGroup[u].subTagLabel[s].setAttribute("x",P),k.group.subGroup[u].subTagLabel[s].setAttribute("text-anchor","middle"),k.group.subGroup[u].subTagLabel[s].setAttribute("y",(Number(D)+Number(z))*g/100+20)}T=T+" L"+E+","+O+"  L"+M+","+O+" z",k.group.subTag[u].setAttribute("d",T),k.group.subTag[u].setAttribute("fill","none")}else if("chartPie"==J.type){var R=J,_=0;for(s=0;s<R.list.length;s++)_+=Number(R.list[s].value);for(s=0;s<R.list.length;s++)R.list[s].r=R.list[s].value/_*360;(ht=J.width/2)>J.height/2&&(ht=J.height/2);var F=0,H=0,Y=null;Y=k.get("width")<k.get("height")?ht*Number(k.get("width"))/100:ht*Number(k.get("height"))/100;for(s=0;s<R.list.length;s++){var X=((H+=R.list[s].r)+F)/2;T=" "+sedLib.calcPie(0,0,0,Y,F-90,H-90);F+=R.list[s].r,k.group.subGroup[u].subTagChart[s].setAttribute("d",T);var Z=Y;Z<30&&(Z=30);var K=sedLib.getRotatePos(X,0,-.6*Z);k.group.subGroup[u].subTagLabel[s].setAttribute("x",K.x),k.group.subGroup[u].subTagLabel[s].setAttribute("text-anchor","middle"),k.group.subGroup[u].subTagLabel[s].setAttribute("alignment-baseline","middle"),k.group.subGroup[u].subTagLabel[s].setAttribute("y",K.y),k.group.subGroup[u].subTagLabel[s].textContent=R.list[s].label}}}else if("guageh"==J.type||"guagev"==J.type){for(p=(T=J.d).split(" "),l=k.get("width"),g=k.get("height"),d=[],s=0;s<p.length;s++){if(""!=p[s].trim())if(-1!=(gt=p[s]).indexOf("M")){b=(gt=gt.replace("M","")).split(",");d.push({type:"M",x:b[0],y:b[1]})}else if(-1!=gt.indexOf("L")){b=(gt=gt.replace("L","")).split(",");d.push({type:"L",x:b[0],y:b[1]})}else if(-1!=gt.indexOf("Q")){b=(gt=gt.replace("Q","")).split(",");d.push({type:"Q",x:b[0],y:b[1],x2:b[2],y2:b[3]})}else if(-1!=gt.indexOf("C")){b=(gt=gt.replace("C","")).split(",");d.push({type:"CR",x:b[0],y:b[1],x2:b[2],y2:b[3],x3:b[4],y3:b[5]})}else-1!=gt.indexOf("Z")&&d.push({type:"Z"})}for(h="",s=0;s<d.length;s++){if("M"==(dt=d[s]).type){c=l/100*dt.x,y=g/100*dt.y;h=h+dt.type+c+","+y+" "}else if("L"==dt.type){c=l/100*dt.x,y=g/100*dt.y;h=h+dt.type+c+","+y+" "}else if("Q"==dt.type){c=l/100*dt.x,y=g/100*dt.y,m=l/100*dt.x2,A=g/100*dt.y2;h=h+dt.type+c+","+y+","+m+","+A+" "}else if("CR"==dt.type){h=h+"C"+(c=l/100*dt.x)+","+(y=g/100*dt.y)+","+(m=l/100*dt.x2)+","+(A=g/100*dt.y2)+","+l/100*dt.x3+","+(lt=g/100*dt.y3)+" "}}k.group.subTag[u].setAttribute("d",h),null!=k.options.data.min&&null!=k.options.data.min||(k.options.data.min=0),null!=k.options.data.max&&null!=k.options.data.max||(k.options.data.max=100),null!=k.options.data.value&&null!=k.options.data.value||(k.options.data.value=0);var Q=100*(k.options.data.value-k.options.data.min)/(k.options.data.max-k.options.data.min);k.group.subTag[u].setAttribute("fill","url(#gradientGuage"+k.options.figureId+")"),k.group.defs.gradientGuageH.stop1.setAttribute("offset","0%"),k.group.defs.gradientGuageH.stop1.style["stop-color"]=J.fill,k.group.defs.gradientGuageH.stop2.setAttribute("offset",Q+"%"),k.group.defs.gradientGuageH.stop2.style["stop-color"]=J.fill,k.group.defs.gradientGuageH.stop3.setAttribute("offset",Q+"%"),k.group.defs.gradientGuageH.stop3.style["stop-color"]="white",k.group.defs.gradientGuageH.stop4.setAttribute("offset","100%"),k.group.defs.gradientGuageH.stop4.style["stop-color"]="white"}else if("guagec"==J.type){for(p=(T=J.d).split(" "),l=k.get("width"),g=k.get("height"),d=[],s=0;s<p.length;s++){if(""!=p[s].trim())if(-1!=(gt=p[s]).indexOf("M")){b=(gt=gt.replace("M","")).split(",");d.push({type:"M",x:b[0],y:b[1]})}else if(-1!=gt.indexOf("L")){b=(gt=gt.replace("L","")).split(",");d.push({type:"L",x:b[0],y:b[1]})}else if(-1!=gt.indexOf("Q")){b=(gt=gt.replace("Q","")).split(",");d.push({type:"Q",x:b[0],y:b[1],x2:b[2],y2:b[3]})}else if(-1!=gt.indexOf("C")){b=(gt=gt.replace("C","")).split(",");d.push({type:"CR",x:b[0],y:b[1],x2:b[2],y2:b[3],x3:b[4],y3:b[5]})}else-1!=gt.indexOf("Z")&&d.push({type:"Z"})}for(h="",s=0;s<d.length;s++){if("M"==(dt=d[s]).type){c=l/100*dt.x,y=g/100*dt.y;h=h+dt.type+c+","+y+" "}else if("L"==dt.type){c=l/100*dt.x,y=g/100*dt.y;h=h+dt.type+c+","+y+" "}else if("Q"==dt.type){c=l/100*dt.x,y=g/100*dt.y,m=l/100*dt.x2,A=g/100*dt.y2;h=h+dt.type+c+","+y+","+m+","+A+" "}else if("CR"==dt.type){h=h+"C"+(c=l/100*dt.x)+","+(y=g/100*dt.y)+","+(m=l/100*dt.x2)+","+(A=g/100*dt.y2)+","+l/100*dt.x3+","+(lt=g/100*dt.y3)+" "}}k.group.subTag[u].setAttribute("d",h),null==k.options.data.min&&(k.options.data.min=0),null==k.options.data.max&&(k.options.data.max=100),360<=(bt=360*(k.options.data.value-k.options.data.min)/(k.options.data.max-k.options.data.min))&&(bt=359.9999),null!=bt&&null!=bt&&1!=isNaN(bt)||(bt=0);v=J.guageStartRadian,L=J.guageEndRadian;if(null!=v&&null!=v&&""!=v&&null!=L&&null!=L&&""!=L){S=L-v;bt=Number(S*bt/360)+Number(v)}k.group.subTag[u].setAttribute("transform","rotate("+bt+" "+l/100*Number(k.options.basicData.objects[u].roX)+" "+g/100*Number(k.options.basicData.objects[u].roY)+") ")}null==J.fill&&(J.fill="white"),null==J.stroke&&(J.stroke="black"),null==J.strokeWidth&&(J.strokeWidth=1),null!=J.fillOpacity&&null!=J.fillOpacity&&k.group.subTag[u].setAttribute("fill-opacity",J.fillOpacity),null!=J.strokeOpacity&&null!=J.strokeOpacity&&k.group.subTag[u].setAttribute("stroke-opacity",J.strokeOpacity),null!=J.inheritFill&&1==J.inheritFill?null!=k.options.fillPattern&&""!=k.options.fillPattern?k.group.subTag[u].setAttribute("fill","url(#pattern"+k.options.figureId+"_"+k.options.fillPattern+")"):null!=k.options.fillGradient&&""!=k.options.fillGradient?k.group.subTag[u].setAttribute("fill","url(#gradient"+k.options.figureId+"_"+k.options.fillGradient+")"):null!=k.options.fill&&k.group.subTag[u].setAttribute("fill",k.options.fill):null!=J.fillPattern&&""!=J.fillPattern?k.group.subTag[u].setAttribute("fill","url(#pattern"+k.options.figureId+"_"+J.fillPattern+")"):null!=J.fillGradient&&""!=J.fillGradient?k.group.subTag[u].setAttribute("fill","url(#gradient"+k.options.figureId+"_"+J.fillGradient+")"):null!=J.fill&&k.group.subTag[u].setAttribute("fill",J.fill);var V=!1;null!=k.options.filterImage&&null!=k.options.filterImage&&""!=k.options.filterImage&&(V=!0),null!=k.options.gaussianBlurStdDeviation&&null!=k.options.gaussianBlurStdDeviation&&""!=k.options.gaussianBlurStdDeviation&&(V=!0),null!=k.options.shadowStdDeviation&&null!=k.options.shadowStdDeviation&&""!=k.options.shadowStdDeviation&&(V=!0),1==V?k.group.subTag[u].setAttribute("filter","url(#filter"+k.get("figureId")+")"):k.group.subTag[u].removeAttribute("filter"),null!=J.inheritStroke&&1==J.inheritStroke?(null!=k.options.strokePattern&&""!=k.options.strokePattern?k.group.subTag[u].setAttribute("stroke","url(#pattern"+k.options.figureId+"_"+k.options.strokePattern+")"):null!=k.options.strokeGradient&&""!=k.options.strokeGradient?k.group.subTag[u].setAttribute("stroke","url(#gradient"+k.options.figureId+"_"+k.options.strokeGradient+")"):null!=k.options.stroke&&k.group.subTag[u].setAttribute("stroke",k.options.stroke),null!=k.options.strokeWidth&&k.group.subTag[u].setAttribute("stroke-width",k.options.strokeWidth),null!=k.options.strokeLineCap&&k.group.subTag[u].setAttribute("stroke-linecap",k.options.strokeLineCap),null!=k.options.strokeDasharray&&k.group.subTag[u].setAttribute("stroke-dasharray",k.options.strokeDasharray)):(null!=J.strokePattern&&""!=J.strokePattern?k.group.subTag[u].setAttribute("stroke","url(#pattern"+k.options.figureId+"_"+J.strokePattern+")"):null!=J.strokeGradient&&""!=J.strokeGradient?k.group.subTag[u].setAttribute("stroke","url(#gradient"+k.options.figureId+"_"+J.strokeGradient+")"):null!=J.stroke&&k.group.subTag[u].setAttribute("stroke",J.stroke),null!=J.strokeDasharray&&k.group.subTag[u].setAttribute("stroke-dasharray",J.strokeDasharray),null!=J.strokeWidth&&k.group.subTag[u].setAttribute("stroke-width",J.strokeWidth),null!=J.strokeLineCap&&k.group.subTag[u].setAttribute("stroke-linecap",J.strokeLineCap)),"guageh"!=J.type&&"guagev"!=J.type||k.group.subTag[u].setAttribute("fill","url(#gradientGuage"+k.options.figureId+")")}return k}if("basic3d"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o);var q=k.options.joinDotsPosData;if(null!=k.group.joinDots)for(s=k.group.joinDots.length-1;0<=s;s--)k.group.removeChild(k.group.joinDots[s]);if(null==k.options.rotatable&&(k.options.rotatable=!1),null==k.options.resizable&&(k.options.resizable=!1),k.options.joinDotsPos=[],k.options.connectedId=[],k.options.connectedIndex=[],k.options.joinDotsPos=[],k.options.joinDotsPosCalc=[],"all"==k.options.simpleMode||(k.group.joinDots=[]),null==k.options.topDotPos&&(k.options.topDotPos={x:0,y:0}),null==k.options.bottomDotPos&&(k.options.bottomDotPos={x:0,y:0}),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),null!=k.parentLayer&&"layer3d"==k.parentLayer.options.figure)if("all"==k.options.simpleMode);else for(s=0;s<q.length;s++){k.options.joinDotsPos[s]={x:q[s].x*k.options.width/100,y:q[s].y*k.options.height/100,dir:q[s].dir},k.options.joinDotsPosCalc[s]={x:q[s].x*k.options.width/100,y:q[s].y*k.options.height/100,dir:q[s].dir},k.options.connectedId.push([]),k.options.connectedIndex.push([]),(U=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("xmlns","http://www.w3.org/2000/svg"),U.setAttribute("cx",k.options.joinDotsPos[s].x),U.setAttribute("cy",k.options.joinDotsPos[s].y),U.setAttribute("fill-opacity",1),U.setAttribute("dir",q[s].dir),U.setAttribute("r",5),U.setAttribute("stroke","black"),U.setAttribute("fill","yellow"),U.setAttribute("visibility","hidden"),U.setAttribute("dotIndex",s),U.connected=[],U.connectedIndex=[],k.group.appendChild(U),k.group.joinDots.push(U)}else if("all"==k.options.simpleMode);else{for(s=0;s<q.length;s++){var U;k.options.joinDotsPos[s]={x:q[s].x*k.options.width/100,y:q[s].y*k.options.height/100,dir:q[s].dir},k.options.joinDotsPosCalc[s]={x:q[s].x*k.options.width/100,y:q[s].y*k.options.height/100,dir:q[s].dir},k.options.connectedId.push([]),k.options.connectedIndex.push([]),(U=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("xmlns","http://www.w3.org/2000/svg"),U.setAttribute("cx",k.options.joinDotsPos[s].x),U.setAttribute("cy",k.options.joinDotsPos[s].y),U.setAttribute("fill-opacity",1),U.setAttribute("dir",q[s].dir),U.setAttribute("r",5),U.setAttribute("stroke","black"),U.setAttribute("fill","yellow"),U.setAttribute("visibility","hidden"),U.setAttribute("dotIndex",s),U.connected=[],U.connectedIndex=[],k.group.appendChild(U),k.group.joinDots.push(U)}setJoinDotsPos(k)}k.group.subTag=[],k.group.subGroup=[],k.group.subTag[0]=k.group.tag,k.group.subGroup[0]=k.group;i=k.options.basicData.objects,k.options.basicData.actions;k.getHeight3D=function(){k.get("width");return k.get("height")/100*k.options.topDotPos.y*-1},k.changeTags=function(t){null==k.options.sizeDotsPosData&&(k.options.sizeDotsPosData=[],k.options.sizeDotsPosData.push({x:0,y:-50}),k.options.sizeDotsPosData.push({x:50,y:0}),k.options.sizeDotsPosData.push({x:0,y:50}),k.options.sizeDotsPosData.push({x:-50,y:0})),k.options.basicData.objects=t;for(var e=0;e<k.group.subTag.length;e++)if(0!=e){if(null!=k.group.subTag[e])try{k.group.subTag[e].parentNode.removeChild(k.group.subTag[e])}catch(t){}if(null!=k.group.subGroup[e])try{k.group.subGroup[e].parentNode.removeChild(k.group.subGroup[e])}catch(t){}}for(e=0;e<t.length;e++){0==e&&k.group.removeChild(k.group.tag);var o=null,i=null;if("path"==t[e].type)o=document.createElementNS("http://www.w3.org/2000/svg","g"),(i=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("stroke",k.options.stroke),i.setAttribute("stroke-width",k.options["stroke-width"]),i.setAttribute("id",k.get("figureId")+"_"+e),i.setAttribute("fill","none"),o.appendChild(i),0==e&&(k.options.tagName="path",k.options.d=t[e].d);else if("circle"==t[e].type)o=document.createElementNS("http://www.w3.org/2000/svg","g"),(i=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("stroke",k.options.stroke),i.setAttribute("stroke-width",k.options["stroke-width"]),i.setAttribute("id",k.get("figureId")+"_"+e),i.setAttribute("fill","none"),0==e&&(k.options.cx=t[e].cx,k.options.cy=t[e].cy),o.appendChild(i);else if("ellipse"==t[e].type)o=document.createElementNS("http://www.w3.org/2000/svg","g"),(i=document.createElementNS("http://www.w3.org/2000/svg","ellipse")).setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("stroke",k.options.stroke),i.setAttribute("stroke-width",k.options["stroke-width"]),i.setAttribute("id",k.get("figureId")+"_"+e),i.setAttribute("fill","none"),o.appendChild(i);else if("text"==t[e].type||"guagetext"==t[e].type)o=document.createElementNS("http://www.w3.org/2000/svg","g"),(i=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("stroke",k.options.stroke),i.setAttribute("stroke-width",k.options["stroke-width"]),i.setAttribute("id",k.get("figureId")+"_"+e),i.setAttribute("fill","none"),o.appendChild(i);else if("textArray"==t[e].type){o=document.createElementNS("http://www.w3.org/2000/svg","g"),k.group.appendChild(o),k.group.subGroup[e]=o,i=document.createElementNS("http://www.w3.org/2000/svg","text"),o.appendChild(i),k.group.subTag[e]=i,k.group.subGroup[e].subTagText=[];for(var r=0;r<t[e].list.length;r++){var s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("stroke",k.options.stroke),s.setAttribute("stroke-width",k.options["stroke-width"]),s.setAttribute("id",k.get("figureId")+"_"+e+"_"+r),s.setAttribute("fill","none"),s.setAttribute("transX","0"),s.setAttribute("transY","0"),s.setAttribute("transAngle","0"),s.setAttribute("transColor","0"),s.setAttribute("transSkew","0"),s.textContent=t[e].list[r].text,s.setAttribute("x",t[e].list[r].x),s.setAttribute("y",t[e].list[r].y),o.appendChild(s),k.group.subGroup[e].subTagText[r]=s}0==e&&(k.options.x=t[e].x,k.options.y=t[e].y)}else if("line"==t[e].type)o=document.createElementNS("http://www.w3.org/2000/svg","g"),(i=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("stroke",k.options.stroke),i.setAttribute("stroke-width",k.options["stroke-width"]),i.setAttribute("id",k.get("figureId")+"_"+e),i.setAttribute("fill","none"),o.appendChild(i);else if("guagep"==t[e].type){o=document.createElementNS("http://www.w3.org/2000/svg","g"),(i=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("id",k.get("figureId")+"_"+e),null==k.options.angle&&(k.options.angle=60);i.setAttribute("d",""),o.appendChild(i)}else if("guageh"==t[e].type||"guagev"==t[e].type||"guagecylindarz"==t[e].type||"guagecubez"==t[e].type){if(null!=k.group.defs.gradientGuageH)try{k.group.defs.removeChild(k.group.defs.gradientGuageH)}catch(t){console.log("에러",t)}o=document.createElementNS("http://www.w3.org/2000/svg","g"),(i=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("id",k.get("figureId")+"_"+e);var a=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("filterKind","gradient"),a.setAttribute("gradientKind","guage"),a.setAttribute("id","gradientGuage"+k.options.figureId),"guageh"==t[e].type?(a.setAttribute("x1","0%"),a.setAttribute("y1","100%"),a.setAttribute("x2","100%"),a.setAttribute("y2","100%")):(a.setAttribute("x1","100%"),a.setAttribute("y1","100%"),a.setAttribute("x2","100%"),a.setAttribute("y2","0%"));var n=document.createElementNS("http://www.w3.org/2000/svg","stop");n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("stop-color",t[e].fill),n.setAttribute("stop-opacity",1);var u=document.createElementNS("http://www.w3.org/2000/svg","stop");u.setAttribute("xmlns","http://www.w3.org/2000/svg"),u.setAttribute("stop-color",t[e].fill),u.setAttribute("stop-opacity",1);var p=document.createElementNS("http://www.w3.org/2000/svg","stop");p.setAttribute("xmlns","http://www.w3.org/2000/svg");var l=document.createElementNS("http://www.w3.org/2000/svg","stop");if(l.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.appendChild(n),a.appendChild(u),a.appendChild(p),a.appendChild(p),k.group.defs.appendChild(a),k.group.defs.gradientGuageH=a,k.group.defs.gradientGuageH.stop1=n,k.group.defs.gradientGuageH.stop2=u,k.group.defs.gradientGuageH.stop3=p,k.group.defs.gradientGuageH.stop4=l,i.setAttribute("fill","url(#gradientGuage"+f.figureId+")"),o.appendChild(i),"guagecylindarz"==t[e].type)k.group.subGroup[e]=o,k.group.subTag[e]=i,(g=document.createElementNS("http://www.w3.org/2000/svg","ellipse")).setAttribute("xmlns","http://www.w3.org/2000/svg"),k.group.appendChild(g),k.group.subTag[e].childTag=[],k.group.subTag[e].childTag[0]=g;else if("guagecubez"==t[e].type){var g;k.group.subGroup[e]=o,k.group.subTag[e]=i,(g=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("xmlns","http://www.w3.org/2000/svg"),k.group.appendChild(g),k.group.subTag[e].childTag=[],k.group.subTag[e].childTag[0]=g}}else"guagec"==t[e].type&&(o=document.createElementNS("http://www.w3.org/2000/svg","g"),(i=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("xmlns","http://www.w3.org/2000/svg"),o.appendChild(i),k.group.subTag[e]=i);if(0==e){var d=sedLib.createTag(t[e].type,k.options);k.group.subGroup[e]=k.group,k.group.subTag[e]=d,null!=t[e].tagPosition&&"back"==t[e].tagPosition?k.group.insertBefore(d,k.group.querySelector("g:not([tagPosition=back])")):k.group.appendChild(d),k.group.tag=k.group.subTag[e]}else k.group.appendChild(o),k.group.subGroup[e]=o,k.group.subTag[e]=i;"guagecylindarz"==t[e].type?k.group.appendChild(k.group.subTag[e].childTag[0]):"guagecubez"==t[e].type&&k.group.appendChild(k.group.subTag[e].childTag[0])}null!=k.group.tagText&&null!=k.group.tagText&&k.group.appendChild(k.group.tagText),null!=k.options.folder&&null!=k.options.folder&&1==k.options.folder&&k.group.tag.setAttribute("folder",!0)},k.changePatterns=function(t,e){k.options.patterns[e]=t,null!=document.getElementById(t.type+k.options.figureId+"_"+t.index)&&k.group.defs.removeChild(document.getElementById(t.type+k.options.figureId+"_"+t.index));var o=document.createElementNS("http://www.w3.org/2000/svg","pattern");o.setAttribute("type",t.type),o.setAttribute("id",t.type+k.options.figureId+"_"+t.index),o.setAttribute("x",0),o.setAttribute("y",0),o.setAttribute("width",t.width),o.setAttribute("height",t.height),o.setAttribute("patternUnits","userSpaceOnUse");for(var i=t.objects,r=0;r<i.length;r++){var s=null;if("path"==i[r].type){(s=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("stroke-linecap",i[r].strokeLineCap);for(var a=i[r].d.split(" "),n=t.width,u=t.height,p=[],l=0;l<a.length;l++)if(""!=a[l].trim()){var g=a[l];if(-1!=g.indexOf("M")){var d=(g=g.replace("M","")).split(",");p.push({type:"M",x:d[0],y:d[1]})}else if(-1!=g.indexOf("L")){d=(g=g.replace("L","")).split(",");p.push({type:"L",x:d[0],y:d[1]})}else if(-1!=g.indexOf("Q")){d=(g=g.replace("Q","")).split(",");p.push({type:"Q",x:d[0],y:d[1],x2:d[2],y2:d[3]})}else if(-1!=g.indexOf("C")){d=(g=g.replace("C","")).split(",");p.push({type:"CR",x:d[0],y:d[1],x2:d[2],y2:d[3],x3:d[4],y3:d[5]})}else-1!=g.indexOf("Z")&&p.push({type:"Z"})}var b="";for(l=0;l<p.length;l++){var h=p[l];if("M"==h.type){var c=n/100*h.x+n/2,f=u/100*h.y+u/2;b=b+h.type+c+","+f+" "}else if("L"==h.type){c=n/100*h.x+n/2,f=u/100*h.y+u/2;b=b+h.type+c+","+f+" "}else if("Q"==h.type){c=n/100*h.x+n/2,f=u/100*h.y+u/2;var y=n/100*h.x2+n/2,m=u/100*h.y2+u/2;b=b+h.type+c+","+f+","+y+","+m+" "}else if("CR"==h.type){b=b+"C"+(c=n/100*h.x+n/2)+","+(f=u/100*h.y+u/2)+","+(y=n/100*h.x2+n/2)+","+(m=u/100*h.y2+u/2)+","+(n/100*h.x3+n/2)+","+(u/100*h.y3+u/2)+" "}else"Z"==h.type&&(b+="Z")}s.setAttribute("d",b)}else if("circle"==i[r].type){n=t.width,u=t.height;if((s=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("stroke-linecap",i[r].strokeLineCap),s.setAttribute("cx",i[r].cx*n/100+n/2),s.setAttribute("cy",i[r].cy*u/100+u/2),"w"==i[r].rBase)s.setAttribute("r",n/100*i[r].r);else if("h"==i[r].rBase)s.setAttribute("r",u/100*i[r].r);else if("min"==i[r].rBase){var A=n;u<n&&(A=u),s.setAttribute("r",A/100*i[r].r)}else if("max"==i[r].rBase){var w=n;u<n&&(w=u),s.setAttribute("r",w/100*i[r].r)}}else"ellipse"==i[r].type?((s=document.createElementNS("http://www.w3.org/2000/svg","ellipse")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("stroke-linecap",i[r].strokeLineCap),s.setAttribute("cx",i[r].cx*n/100+n/2),s.setAttribute("cy",i[r].cy*u/100+u/2),s.setAttribute("rx",i[r].rx*n/100),s.setAttribute("ry",i[r].ry*u/100)):"text"==i[r].type||"guagetext"==i[r].type?((s=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("x",i[r].x*n/100+n/2),s.setAttribute("y",i[r].y*u/100+u/2)):"line"==i[r].type&&((s=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("stroke-linecap",i[r].strokeLineCap),s.setAttribute("x1",i[r].x1*n/100+n/2),s.setAttribute("y1",i[r].y1*u/100+u/2),s.setAttribute("x2",i[r].x2*n/100+n/2),s.setAttribute("y2",i[r].y2*u/100+u/2));o.appendChild(s),k.group.defs.appendChild(o)}},k.ajaxCallback=function(t){if("value"==t.stateKey)null!=t.max&&(k.options.data.max=t.max),null!=t.min&&(k.options.data.min=t.min),k.setValue(t.value);else if("chartData"==t.stateKey)k.setChartData(t.list);else{for(var e=0;e<k.options.animsState.length;e++)k.options.animsState[e].key==t.stateKey&&k.options.animsState[e].value==t.value&&(null!=t.to&&null!=t.to&&""!=t.to&&(k.options.anims[e].to=t.to),null!=k.options.data[t.stateKey]&&null!=k.options.data[t.stateKey].value&&k.options.data[t.stateKey].value==t.value||sedLib.animate(k,e,t.stateKey,t.value));k.options.data[t.stateKey]=t}k.refresh(205)},k.setData=function(t,e){k.options.data[t]=e;for(var o=0;o<k.options.animsState.length;o++)k.options.animsState[o].key==t&&k.options.animsState[o].value==e.value&&sedLib.animate(k,o,t,e.value)},k.getData=function(t){return k.options.data[t]},k.getValue=function(){return k.options.data.value},k.setValue=function(t){k.options.data.value=t,k.refresh(206)},k.setActions=function(){var t=this.get("width"),e=this.get("height");k.options.animsState=[],k.options.anims=[];for(var o=0;o<this.options.basicData.objects.length;o++){var i=1,r=0,s=0,a=0,n="1 1";if(null==this.options.basicData.objects[o])break;r=k.options.basicData.objects[o].roX,s=k.options.basicData.objects[o].roY;null==i&&(i=1),null==n&&(n="1 1"),null==a&&(a="0");for(var u=0;u<k.options.basicData.actions.length;u++){var p=k.options.basicData.actions[u],l=p.key,g=p.value,d=p.changeIgnore,b=p.obj,h=p.cls,c=p.dur,f=p.isGroup,y=p.begin,m=p.after,A=p.repeat,w=p.from,x=p.to;null!=c&&""!=c||(c="0"),null!=y&&null!=y||(y="0"),null!=m&&null!=m||(m="0");var v=b;if(1==isNaN(b)&&(v=sedLib.findLayerNum(k,b)),Number(v)-1==o)if(!0,"xyRate"==h){var L={key:l,value:g,changeIgnore:d,type:"translateRate",isGroup:f,obj:v,from:w,to:x,begin:y,dur:c,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("xy"==h){L={key:l,value:g,changeIgnore:d,type:"translate",isGroup:f,obj:v,from:w,to:x,begin:y,dur:c,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("position"==h){L={key:l,value:g,changeIgnore:d,type:"translatePosition",isGroup:f,obj:v,from:w,to:x,begin:y,dur:c,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("positionPath"==h){L={key:l,value:g,changeIgnore:d,type:"translatePositionPath",isGroup:f,obj:v,from:w,to:x,begin:y,dur:c,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("positionRef"==h){L={key:l,value:g,changeIgnore:d,type:"translatePositionRef",isGroup:f,obj:v,from:w,to:x,begin:y,dur:c,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("patternMove"==h){L={key:l,value:g,changeIgnore:d,type:"translatePattern",isGroup:f,obj:v,from:w,to:x,begin:y,dur:c,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("rotate"==h||"rotateL"==h||"rotateR"==h||"rotateS"==h){r=k.options.basicData.objects[o].roX,s=k.options.basicData.objects[o].roY,L={key:l,value:a=g,changeIgnore:d,type:h,isGroup:f,obj:v,from:w+" "+(r*=t/100)+" "+(s*=e/100),to:x+" "+r+" "+s,begin:y,dur:c,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("opacity"==h){L={key:l,value:i=g,changeIgnore:d,type:"opacity",isGroup:f,obj:v,from:w,to:x,begin:y,dur:c,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("stroke"==h){L={key:l,value:stroke=g,changeIgnore:d,type:"stroke",isGroup:f,obj:v,from:w,to:x,begin:y,dur:c,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("fill"==h){L={key:l,value:g,changeIgnore:d,type:"fill",isGroup:f,obj:v,from:w,to:x,begin:y,dur:c,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("scale"==h){L={key:l,value:n=g,changeIgnore:d,type:"scale",isGroup:f,obj:v,from:w,to:x,begin:y,dur:c,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}else if("strokeDashOffset"==h){L={key:l,value:g,changeIgnore:d,type:"strokeDashOffset",isGroup:f,obj:v,from:w,to:x,begin:y,dur:c,after:m,repeatCount:A};k.options.animsState[u]={key:l,value:g},k.options.anims[u]=L}}}},k.setActionsData=function(t){k.options.basicData.actions=t},k.changeTags(i),k.setActions(),null==k.options.data&&(k.options.data={}),null==k.options.data&&(k.options.data={});for(r=Object.entries(k.options.data),s=0;s<r.length;s++){a=r[s];k.setData(a[0],a[1])}1==k.options.folder&&k.group.tag.setAttribute("folder",!0),null!=k.group.tagText&&null!=k.group.tagText&&k.group.appendChild(k.group.tagText),setTagsShapeBasicEx(k,f,t)}n=k.options.basicData.objects,l=k.options.width,g=k.options.height;null!=k.group.dots&&(k.group.dots[0].setAttribute("cx",k.options.sizeDotsPosData[0].x*l),k.group.dots[2].setAttribute("cx",k.options.sizeDotsPosData[1].x*l),k.group.dots[4].setAttribute("cx",k.options.sizeDotsPosData[2].x*l),k.group.dots[6].setAttribute("cx",k.options.sizeDotsPosData[3].x*l),k.group.dots[0].setAttribute("cy",k.options.sizeDotsPosData[0].y*g),k.group.dots[2].setAttribute("cy",k.options.sizeDotsPosData[1].y*g),k.group.dots[4].setAttribute("cy",k.options.sizeDotsPosData[2].y*g),k.group.dots[6].setAttribute("cy",k.options.sizeDotsPosData[3].y*g));for(u=0;u<n.length;u++){var J;if("path"==(J=n[u]).type){for(p=(T=J.d).split(" "),d=[],s=0;s<p.length;s++){if(""!=p[s].trim())if(-1!=(gt=p[s]).indexOf("M")){b=(gt=gt.replace("M","")).split(",");d.push({type:"M",x:b[0],y:b[1]})}else if(-1!=gt.indexOf("L")){b=(gt=gt.replace("L","")).split(",");d.push({type:"L",x:b[0],y:b[1]})}else if(-1!=gt.indexOf("Q")){b=(gt=gt.replace("Q","")).split(",");d.push({type:"Q",x:b[0],y:b[1],x2:b[2],y2:b[3]})}else if(-1!=gt.indexOf("C")){b=(gt=gt.replace("C","")).split(",");d.push({type:"CR",x:b[0],y:b[1],x2:b[2],y2:b[3],x3:b[4],y3:b[5]})}else-1!=gt.indexOf("Z")&&d.push({type:"Z"})}for(h="",s=0;s<d.length;s++){if("M"==(dt=d[s]).type)dt.x=l/100*dt.x,dt.y=g/100*dt.y,h=h+dt.type+dt.x+","+dt.y+" ";else if("L"==dt.type)dt.x=l/100*dt.x,dt.y=g/100*dt.y,h=h+dt.type+dt.x+","+dt.y+" ";else if("Q"==dt.type)dt.x=l/100*dt.x,dt.y=g/100*dt.y,dt.x2=l/100*dt.x2,dt.y2=g/100*dt.y2,h=h+dt.type+dt.x+","+dt.y+","+dt.x2+","+dt.y2+" ";else if("CR"==dt.type){h=h+"C"+(c=l/100*dt.x)+","+(y=g/100*dt.y)+","+(m=l/100*dt.x2)+","+(A=g/100*dt.y2)+","+l/100*dt.x3+","+(lt=g/100*dt.y3)+" "}else"Z"==dt.type&&(h+="Z")}k.group.subTag[u].setAttribute("d",h)}else if("circle"==J.type){if("w"==J.rBase)k.group.subTag[u].setAttribute("r",l/100*J.r);else if("h"==J.rBase)k.group.subTag[u].setAttribute("r",g/100*J.r);else if("min"==J.rBase){w=l;g<l&&(w=g),k.group.subTag[u].setAttribute("r",w/100*J.r)}else if("max"==J.rBase){x=l;g<l&&(x=g),k.group.subTag[u].setAttribute("r",x/100*J.r)}null==J.skew||"N"==J.skew?k.group.subTag[u].setAttribute("transform","translate("+l/100*J.cx+","+g/100*J.cy+")"):"X"==J.skew?k.group.subTag[u].setAttribute("transform","translate("+l/100*J.cx+","+g/100*J.cy+") rotate(33.3) skewX(33.3)"):"Y"==J.skew?k.group.subTag[u].setAttribute("transform","translate("+l/100*J.cx+","+g/100*J.cy+") rotate(-33.3) skewX(-33.3)"):"ZX"==J.skew?k.group.subTag[u].setAttribute("transform","translate("+l/100*J.cx+","+g/100*J.cy+") rotate(33.3) skewX(-21.3)"):"ZY"==J.skew&&k.group.subTag[u].setAttribute("transform","translate("+l/100*J.cx+","+g/100*J.cy+") rotate(-33.3) skewX(21.3)")}else if("guagep"==J.type){if(k.group.subTag[u].setAttribute("cx",l/100*J.cx),k.group.subTag[u].setAttribute("cy",g/100*J.cy),360<=(bt=360*(k.options.data.value-k.options.data.min)/(k.options.data.max-k.options.data.min))&&(bt=359.9999),"w"==J.rBase){T=sedLib.calcPie(l/100*J.cx,g/100*J.cy,0,l/100*J.r,-90,bt-90);k.group.subTag[u].setAttribute("d",T)}else if("h"==J.rBase){T=sedLib.calcPie(l/100*J.cx,g/100*J.cy,0,g/100*J.r,-90,bt-90);k.group.subTag[u].setAttribute("d",T)}else if("min"==J.rBase){w=l;g<l&&(w=g);T=sedLib.calcPie(l/100*J.cx,g/100*J.cy,0,w/100*J.r,-90,bt-90);k.group.subTag[u].setAttribute("d",T)}else if("max"==J.rBase){x=l;l<g&&(x=g);T=sedLib.calcPie(l/100*J.cx,g/100*J.cy,0,x/100*J.r,-90,bt-90);k.group.subTag[u].setAttribute("d",T)}}else if("ellipse"==J.type)k.group.subTag[u].setAttribute("rx",l/100*J.rx),k.group.subTag[u].setAttribute("ry",g/100*J.ry),null==J.skew||"N"==J.skew?k.group.subTag[u].setAttribute("transform","translate("+l/100*J.cx+","+g/100*J.cy+")"):"X"==J.skew?k.group.subTag[u].setAttribute("transform","translate("+l/100*J.cx+","+g/100*J.cy+") rotate(33.3) skewX(33.3)"):"Y"==J.skew?k.group.subTag[u].setAttribute("transform","translate("+l/100*J.cx+","+g/100*J.cy+") rotate(-33.3) skewX(-33.3)"):"ZX"==J.skew?k.group.subTag[u].setAttribute("transform","translate("+l/100*J.cx+","+g/100*J.cy+") rotate(33.3) skewX(-21.3)"):"ZY"==J.skew&&k.group.subTag[u].setAttribute("transform","translate("+l/100*J.cx+","+g/100*J.cy+") rotate(-33.3) skewX(21.3)");else if("line"==J.type){l=k.get("width"),g=k.get("height");k.group.subTag[u].setAttribute("x1",l/100*J.x1),k.group.subTag[u].setAttribute("y1",g/100*J.y1),k.group.subTag[u].setAttribute("x2",l/100*J.x2),k.group.subTag[u].setAttribute("y2",g/100*J.y2)}else if("text"==J.type){l=k.get("width"),g=k.get("height");if("ie"==sedLib.browserCls?k.group.subTag[u].textContent=J.text:k.group.subTag[u].innerHTML=J.text,k.group.subTag[u].setAttribute("text-anchor","middle"),null==J.fontSizeRatio||null==J.fontSizeRatio||"n"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize);else if("w"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*l/100);else if("h"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*g/100);else if("min"==J.fontSizeRatio){w=l;g<l&&(w=g),null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*w/100)}else if("max"==J.fontSizeRatio){x=l;l<g&&(x=g),null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*x/100)}null!=J.textAnchor&&null!=J.textAnchor&&""!=J.textAnchor&&k.group.subTag[u].setAttribute("text-anchor",J.textAnchor),null!=J.alignmentBaseline&&null!=J.alignmentBaseline&&""!=J.alignmentBaseline&&k.group.subTag[u].setAttribute("alignment-baseline",J.alignmentBaseline),null==J.skew||"N"==J.skew?k.group.subTag[u].setAttribute("transform","translate("+l/100*J.x+","+g/100*J.y+")"):"X"==J.skew?k.group.subTag[u].setAttribute("transform","translate("+l/100*J.x+","+g/100*J.y+") rotate(33.3) skewX(33.3)"):"Y"==J.skew?k.group.subTag[u].setAttribute("transform","translate("+l/100*J.x+","+g/100*J.y+") rotate(-33.3) skewX(-33.3)"):"ZX"==J.skew?k.group.subTag[u].setAttribute("transform","translate("+l/100*J.x+","+g/100*J.y+") rotate(33.3) skewX(-21.3)"):"ZY"==J.skew&&k.group.subTag[u].setAttribute("transform","translate("+l/100*J.x+","+g/100*J.y+") rotate(-33.3) skewX(21.3)")}else if("guagetext"==J.type){if("ie"==sedLib.browserCls?k.group.subTag[u].textContent=k.options.data.value:k.group.subTag[u].innerHTML=k.options.data.value,k.group.subTag[u].setAttribute("x",l/100*J.x),k.group.subTag[u].setAttribute("y",g/100*J.y),k.group.subTag[u].setAttribute("text-anchor","middle"),null==J.fontSizeRatio||null==J.fontSizeRatio||"n"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize);else if("w"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*l/100);else if("h"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*g/100);else if("min"==J.fontSizeRatio){w=l;g<l&&(w=g),null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*w/100)}else if("max"==J.fontSizeRatio){x=l;l<g&&(x=g),null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subTag[u].setAttribute("font-size",J.fontSize*x/100)}null!=J.textAnchor&&null!=J.textAnchor&&""!=J.textAnchor&&k.group.subTag[u].setAttribute("text-anchor",J.textAnchor),null!=J.alignmentBaseline&&null!=J.alignmentBaseline&&""!=J.alignmentBaseline&&k.group.subTag[u].setAttribute("alignment-baseline",J.alignmentBaseline)}else if("guageh"==J.type||"guagev"==J.type||"guagecylindarz"==J.type||"guagecubez"==J.type){for(p=(T=J.d).split(" "),l=k.get("width"),g=k.get("height"),d=[],s=0;s<p.length;s++){if(""!=p[s].trim())if(-1!=(gt=p[s]).indexOf("M")){b=(gt=gt.replace("M","")).split(",");d.push({type:"M",x:b[0],y:b[1]})}else if(-1!=gt.indexOf("L")){b=(gt=gt.replace("L","")).split(",");d.push({type:"L",x:b[0],y:b[1]})}else if(-1!=gt.indexOf("Q")){b=(gt=gt.replace("Q","")).split(",");d.push({type:"Q",x:b[0],y:b[1],x2:b[2],y2:b[3]})}else-1!=gt.indexOf("Z")&&d.push({type:"Z"})}for(h="",s=0;s<d.length;s++){"M"==(dt=d[s]).type?(dt.x=l/100*dt.x,dt.y=g/100*dt.y,h=h+dt.type+dt.x+","+dt.y+" "):"L"==dt.type?(dt.x=l/100*dt.x,dt.y=g/100*dt.y,h=h+dt.type+dt.x+","+dt.y+" "):"Q"==dt.type?(dt.x=l/100*dt.x,dt.y=g/100*dt.y,dt.x2=l/100*dt.x2,dt.y2=g/100*dt.y2,h=h+dt.type+dt.x+","+dt.y+","+dt.x2+","+dt.y2+" "):"Z"==dt.type&&(h+="Z"),0==s?(st=dt.x,nt=dt.x,at=dt.y,ut=dt.y):(dt.x<st&&(st=dt.x),dt.x>nt&&(nt=dt.x),dt.y<at&&(at=dt.y),dt.y>ut&&(ut=dt.y))}k.group.subTag[u].setAttribute("d",h),null==k.options.data.min&&(k.options.data.min=0),null==k.options.data.max&&(k.options.data.max=100);Q=100*(k.options.data.value-k.options.data.min)/(k.options.data.max-k.options.data.min);if(k.group.subTag[u].setAttribute("fill","url(#gradientGuage"+k.options.figureId+")"),"guagecylindarz"==J.type||"guagecubez"==J.type){var $=(st+nt)/2,tt=100*(it=6*(ot=(nt-st)/2)/9)/(ut-at);k.group.defs.gradientGuageH.stop1.setAttribute("offset","0%"),k.group.defs.gradientGuageH.stop1.style["stop-color"]=J.fill,k.group.defs.gradientGuageH.stop2.setAttribute("offset",Q*(100-2*tt)/100+tt+"%"),k.group.defs.gradientGuageH.stop2.style["stop-color"]=J.fill,k.group.defs.gradientGuageH.stop3.setAttribute("offset",Q*(100-2*tt)/100+tt+"%"),k.group.defs.gradientGuageH.stop3.style["stop-color"]="white",k.group.defs.gradientGuageH.stop4.setAttribute("offset","100%"),k.group.defs.gradientGuageH.stop4.style["stop-color"]="white"}else{$=(st+nt)/2,tt=100*(it=6*(ot=(nt-st)/2)/9)/(ut-at);k.group.defs.gradientGuageH.stop1.setAttribute("offset","0%"),k.group.defs.gradientGuageH.stop1.style["stop-color"]=J.fill,k.group.defs.gradientGuageH.stop2.setAttribute("offset",Q+"%"),k.group.defs.gradientGuageH.stop2.style["stop-color"]=J.fill,k.group.defs.gradientGuageH.stop3.setAttribute("offset",Q+"%"),k.group.defs.gradientGuageH.stop3.style["stop-color"]="white",k.group.defs.gradientGuageH.stop4.setAttribute("offset","100%"),k.group.defs.gradientGuageH.stop4.style["stop-color"]="white"}if("guagecylindarz"==J.type){$=(st+nt)/2;var et=ut-(it=6*(ot=(nt-st)/2)/9)-(ut-it-(at+it))*Q/100;k.group.subTag[u].childTag[0].setAttribute("cx",$),k.group.subTag[u].childTag[0].setAttribute("cy",et),k.group.subTag[u].childTag[0].setAttribute("rx",ot),k.group.subTag[u].childTag[0].setAttribute("ry",it),null!=J.capFill&&null!=J.capFill&&"none"!=J.capFill&&"NONE"!=J.capFill?k.group.subTag[u].childTag[0].setAttribute("fill",J.capFill):k.group.subTag[u].childTag[0].setAttribute("fill",J.fill),k.group.subTag[u].childTag[0].setAttribute("stroke",J.stroke),k.group.subTag[u].childTag[0].setAttribute("stroke-width",J.strokeWidth),k.group.subTag[u].childTag[0].setAttribute("stroke-dasharray",J.strokeDasharray)}else if("guagecubez"==J.type){var ot,it,rt="M"+st+","+(et=ut-(it=6*(ot=(nt-st)/2)/9)-(ut-it-(at+it))*Q/100)+" L"+($=(st+nt)/2)+","+(et-it)+" L"+nt+","+et+" L"+$+","+(et+it)+"Z";k.group.subTag[u].childTag[0].setAttribute("d",rt),null!=J.capFill&&null!=J.capFill&&"none"!=J.capFill&&"NONE"!=J.capFill?k.group.subTag[u].childTag[0].setAttribute("fill",J.capFill):k.group.subTag[u].childTag[0].setAttribute("fill",J.fill),k.group.subTag[u].childTag[0].setAttribute("stroke",J.stroke),k.group.subTag[u].childTag[0].setAttribute("stroke-width",J.strokeWidth),k.group.subTag[u].childTag[0].setAttribute("stroke-dasharray",J.strokeDasharray)}}else if("guagec"==J.type){for(p=(T=J.d).split(" "),l=k.get("width"),g=k.get("height"),d=[],s=0;s<p.length;s++){if(""!=p[s].trim())if(-1!=(gt=p[s]).indexOf("M")){b=(gt=gt.replace("M","")).split(",");d.push({type:"M",x:b[0],y:b[1]})}else if(-1!=gt.indexOf("L")){b=(gt=gt.replace("L","")).split(",");d.push({type:"L",x:b[0],y:b[1]})}else if(-1!=gt.indexOf("Q")){b=(gt=gt.replace("Q","")).split(",");d.push({type:"Q",x:b[0],y:b[1],x2:b[2],y2:b[3]})}else-1!=gt.indexOf("Z")&&d.push({type:"Z"})}var st,at,nt,ut;for(h="",s=0;s<d.length;s++){"M"==(dt=d[s]).type?(dt.x=l/100*dt.x,dt.y=g/100*dt.y,h=h+dt.type+dt.x+","+dt.y+" "):"L"==dt.type?(dt.x=l/100*dt.x,dt.y=g/100*dt.y,h=h+dt.type+dt.x+","+dt.y+" "):"Q"==dt.type?(dt.x=l/100*dt.x,dt.y=g/100*dt.y,dt.x2=l/100*dt.x2,dt.y2=g/100*dt.y2,h=h+dt.type+dt.x+","+dt.y+","+dt.x2+","+dt.y2+" "):"Z"==dt.type&&(h+="Z"),0==s?(st=dt.x,nt=dt.x,at=dt.y,ut=dt.y):(dt.x<st&&(st=dt.x),dt.x>nt&&(nt=dt.x),dt.y<at&&(at=dt.y),dt.y>ut&&(ut=dt.y))}k.group.subTag[u].setAttribute("d",h),null==k.options.data.min&&(k.options.data.min=0),null==k.options.data.max&&(k.options.data.max=100),360<=(bt=360*(k.options.data.value-k.options.data.min)/(k.options.data.max-k.options.data.min))&&(bt=359.9999),k.group.subTag[u].setAttribute("transform","rotate("+bt+" "+l/100*Number(k.options.basicData.objects[u].roX)+" "+g/100*Number(k.options.basicData.objects[u].roY)+") ")}else if("textArray"==J.type)for(C=0;C<J.list.length;C++){if("ie"==sedLib.browserCls?k.group.subGroup[u].subTagText[C].textContent=J.list[C].text:k.group.subGroup[u].subTagText[C].innerHTML=J.list[C].text,k.group.subGroup[u].subTagText[C].setAttribute("x",l/100*J.list[C].x),k.group.subGroup[u].subTagText[C].setAttribute("y",g/100*J.list[C].y),k.group.subGroup[u].subTagText[C].setAttribute("text-anchor","middle"),null==J.fontSizeRatio||null==J.fontSizeRatio||""==J.fontSizeRatio||"n"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subGroup[u].subTagText[C].setAttribute("font-size",J.fontSize);else if("w"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subGroup[u].subTagText[C].setAttribute("font-size",J.fontSize*l/100);else if("h"==J.fontSizeRatio)null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subGroup[u].subTagText[C].setAttribute("font-size",J.fontSize*g/100);else if("min"==J.fontSizeRatio){w=l;g<l&&(w=g),null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subGroup[u].subTagText[C].setAttribute("font-size",J.fontSize*w/100)}else if("max"==J.fontSizeRatio){x=l;l<g&&(x=g),null!=J.fontSize&&null!=J.fontSize&&""!=J.fontSize&&k.group.subGroup[u].subTagText[C].setAttribute("font-size",J.fontSize*x/100)}null!=J.textAnchor&&null!=J.textAnchor&&""!=J.textAnchor&&k.group.subGroup[u].subTagText[C].setAttribute("text-anchor",J.textAnchor),null!=J.alignmentBaseline&&null!=J.alignmentBaseline&&""!=J.alignmentBaseline&&k.group.subGroup[u].subTagText[C].setAttribute("alignment-baseline",J.alignmentBaseline),null!=J.textRotate&&0==isNaN(J.textRotate)&&k.group.subGroup[u].subTagText[C].setAttribute("transform","rotate ("+J.textRotate+","+l/100*J.list[C].x+","+g/100*J.list[C].y+" ) ")}null==J.fill&&(J.fill="white"),null==J.stroke&&(J.stroke="black"),null==J.strokeDasharray&&(J["stroke-dasharray"]=""),null==J.strokeWidth&&(J.strokeWidth=1),null!=J.inheritFill&&1==J.inheritFill?null!=k.options.fillPattern&&""!=k.options.fillPattern?k.group.subTag[u].setAttribute("fill","url(#pattern"+k.options.figureId+"_"+k.options.fillPattern+")"):null!=k.options.fillGradient&&""!=k.options.fillGradient?k.group.subTag[u].setAttribute("fill","url(#gradient"+k.options.figureId+"_"+k.options.fillGradient+")"):null!=k.options.fill&&k.group.subTag[u].setAttribute("fill",k.options.fill):null!=J.fillPattern&&""!=J.fillPattern?k.group.subTag[u].setAttribute("fill","url(#pattern"+k.options.figureId+"_"+J.fillPattern+")"):null!=J.fillGradient&&""!=J.fillGradient?k.group.subTag[u].setAttribute("fill","url(#gradient"+k.options.figureId+"_"+J.fillGradient+")"):null!=J.fill&&k.group.subTag[u].setAttribute("fill",J.fill);V=!1;null!=k.options.filterImage&&null!=k.options.filterImage&&""!=k.options.filterImage&&(V=!0),null!=k.options.gaussianBlurStdDeviation&&null!=k.options.gaussianBlurStdDeviation&&""!=k.options.gaussianBlurStdDeviation&&(V=!0),null!=k.options.shadowStdDeviation&&null!=k.options.shadowStdDeviation&&""!=k.options.shadowStdDeviation&&(V=!0),1==V?k.group.subTag[u].setAttribute("filter","url(#filter"+k.get("figureId")+")"):k.group.subTag[u].removeAttribute("filter"),null!=J.inheritStroke&&1==J.inheritStroke?(null!=k.options.strokePattern&&""!=k.options.strokePattern?k.group.subTag[u].setAttribute("stroke","url(#pattern"+k.options.figureId+"_"+k.options.strokePattern+")"):null!=k.options.strokeGradient&&""!=k.options.strokeGradient?k.group.subTag[u].setAttribute("stroke","url(#gradient"+k.options.figureId+"_"+k.options.strokeGradient+")"):null!=k.options.stroke&&k.group.subTag[u].setAttribute("stroke",k.options.stroke),null!=k.options.strokeWidth&&k.group.subTag[u].setAttribute("stroke-width",k.options.strokeWidth),null!=k.options.strokeLineCap&&k.group.subTag[u].setAttribute("stroke-linecap",k.options.strokeLineCap),null!=k.options.strokeDasharray&&k.group.subTag[u].setAttribute("stroke-dasharray",k.options.strokeDasharray)):(null!=J.strokePattern&&""!=J.strokePattern?k.group.subTag[u].setAttribute("stroke","url(#pattern"+k.options.figureId+"_"+J.strokePattern+")"):null!=J.strokeGradient&&""!=J.strokeGradient?k.group.subTag[u].setAttribute("stroke","url(#gradient"+k.options.figureId+"_"+J.strokeGradient+")"):null!=J.stroke&&k.group.subTag[u].setAttribute("stroke",J.stroke),null!=J.strokeDasharray&&k.group.subTag[u].setAttribute("stroke-dasharray",J.strokeDasharray),null!=J.strokeWidth&&k.group.subTag[u].setAttribute("stroke-width",J.strokeWidth),null!=J.strokeLineCap&&k.group.subTag[u].setAttribute("stroke-linecap",J.strokeLineCap)),"guageh"!=J.type&&"guagev"!=J.type&&"guagecylindarz"!=J.type&&"guagecubez"!=J.type||k.group.subTag[u].setAttribute("fill","url(#gradientGuage"+k.options.figureId+")")}return k}if("line"==k.tagName||"seqLine"==k.tagName){if(1==t){o="line";if(sedLib.createBasicLine(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.group.tag.setAttribute("stroke-dasharray",k.options.strokeDasharray),sedLib.addArrowLine(k),1==k.options.distance)k.options.distanceTextAlign="center",(Nt=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("xmlns","http://www.w3.org/2000/svg"),Nt.setAttribute("stroke",k.options.stroke),Nt.setAttribute("stroke-width",k.options["stroke-width"]),Nt.setAttribute("id",k.get("figureId")+"_"+s),Nt.setAttribute("fill","none"),Nt.textContent="AAA",k.group.appendChild(Nt),k.group.textDistance=Nt;k.changeGradients=function(t,e){k.options.gradients[e]=t,null!=document.getElementById(t.type+k.options.figureId+"_"+t.index)&&k.group.defs.removeChild(document.getElementById(t.type+k.options.figureId+"_"+t.index));var o=null;"center"!=t.kind?((o=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",t.type+f.figureId+"_"+t.index),"hor"==t.kind?(o.setAttribute("x1","0%"),o.setAttribute("y1","0%"),o.setAttribute("x2","100%"),o.setAttribute("y2","0%")):"ver"==t.kind?(o.setAttribute("x1","0%"),o.setAttribute("y1","0%"),o.setAttribute("x2","0%"),o.setAttribute("y2","100%")):"leftright"==t.kind?(o.setAttribute("x1","0%"),o.setAttribute("y1","0%"),o.setAttribute("x2","100%"),o.setAttribute("y2","100%")):"rightleft"==t.kind&&(o.setAttribute("x1","0%"),o.setAttribute("y1","100%"),o.setAttribute("x2","100%"),o.setAttribute("y2","0%"))):((o=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",t.type+k.options.figureId+"_"+t.index),o.setAttribute("cx","50%"),o.setAttribute("cy","50%"),o.setAttribute("r","50%"));var i=t.colorNum,r=document.createElementNS("http://www.w3.org/2000/svg","stop");r.setAttribute("offset",t.colorPos1+"%"),r.setAttribute("stop-color",t.color1),r.setAttribute("stop-opacity",t.colorOpacity1);var s=document.createElementNS("http://www.w3.org/2000/svg","stop");s.setAttribute("offset",t.colorPos2+"%"),s.setAttribute("stop-color",t.color2),s.setAttribute("stop-opacity",t.colorOpacity2);var a=document.createElementNS("http://www.w3.org/2000/svg","stop");a.setAttribute("offset",t.colorPos3+"%"),a.setAttribute("stop-color",t.color3),a.setAttribute("stop-opacity",t.colorOpacity3);var n=document.createElementNS("http://www.w3.org/2000/svg","stop");n.setAttribute("offset",t.colorPos4+"%"),n.setAttribute("stop-color",t.color4),n.setAttribute("stop-opacity",t.colorOpacity4);var u=document.createElementNS("http://www.w3.org/2000/svg","stop");u.setAttribute("offset",t.colorPos5+"%"),u.setAttribute("stop-color",t.color5),u.setAttribute("stop-opacity",t.colorOpacity5),o.appendChild(r),o.appendChild(s),3<=Number(i)&&o.appendChild(a),4<=Number(i)&&o.appendChild(n),5<=Number(i)&&o.appendChild(u),k.group.defs.appendChild(o)},k.changePatterns=function(t,e){k.options.patterns[e]=t,null!=document.getElementById(t.type+k.options.figureId+"_"+t.index)&&k.group.defs.removeChild(document.getElementById(t.type+k.options.figureId+"_"+t.index));var o=document.createElementNS("http://www.w3.org/2000/svg","pattern");o.setAttribute("type",t.type),o.setAttribute("id",t.type+k.options.figureId+"_"+t.index),o.setAttribute("x",0),o.setAttribute("y",0),o.setAttribute("width",t.width),o.setAttribute("height",t.height),o.setAttribute("patternUnits","userSpaceOnUse");for(var i=t.objects,r=0;r<i.length;r++){var s=null;if("path"==i[r].type){(s=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth);for(var a=i[r].d.split(" "),n=t.width,u=t.height,p=[],l=0;l<a.length;l++)if(""!=a[l].trim()){var g=a[l];if(-1!=g.indexOf("M")){var d=(g=g.replace("M","")).split(",");p.push({type:"M",x:d[0],y:d[1]})}else if(-1!=g.indexOf("L")){d=(g=g.replace("L","")).split(",");p.push({type:"L",x:d[0],y:d[1]})}else if(-1!=g.indexOf("Q")){d=(g=g.replace("Q","")).split(",");p.push({type:"Q",x:d[0],y:d[1],x2:d[2],y2:d[3]})}else if(-1!=g.indexOf("C")){d=(g=g.replace("C","")).split(",");p.push({type:"CR",x:d[0],y:d[1],x2:d[2],y2:d[3],x3:d[4],y3:d[5]})}else-1!=g.indexOf("Z")&&p.push({type:"Z"})}var b="";for(l=0;l<p.length;l++){var h=p[l];if("M"==h.type){var c=n/100*h.x+n/2,f=u/100*h.y+u/2;b=b+h.type+c+","+f+" "}else if("L"==h.type){c=n/100*h.x+n/2,f=u/100*h.y+u/2;b=b+h.type+c+","+f+" "}else if("Q"==h.type){c=n/100*h.x+n/2,f=u/100*h.y+u/2;var y=n/100*h.x2+n/2,m=u/100*h.y2+u/2;b=b+h.type+c+","+f+","+y+","+m+" "}else if("CR"==h.type){b=b+"C"+(c=n/100*h.x+n/2)+","+(f=u/100*h.y+u/2)+","+(y=n/100*h.x2+n/2)+","+(m=u/100*h.y2+u/2)+","+(n/100*h.x3+n/2)+","+(u/100*h.y3+u/2)+" "}else"Z"==h.type&&(b+="Z")}s.setAttribute("d",b)}else if("circle"==i[r].type){n=t.width,u=t.height;if((s=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("cx",i[r].cx*n/100+n/2),s.setAttribute("cy",i[r].cy*u/100+u/2),"w"==i[r].rBase)s.setAttribute("r",n/100*i[r].r);else if("h"==i[r].rBase)s.setAttribute("r",u/100*i[r].r);else if("min"==i[r].rBase){var A=n;u<n&&(A=u),s.setAttribute("r",A/100*i[r].r)}else if("max"==i[r].rBase){var w=n;u<n&&(w=u),s.setAttribute("r",w/100*i[r].r)}}else"ellipse"==i[r].type?((s=document.createElementNS("http://www.w3.org/2000/svg","ellipse")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("cx",i[r].cx*n/100+n/2),s.setAttribute("cy",i[r].cy*u/100+u/2),s.setAttribute("rx",i[r].rx*n/100),s.setAttribute("ry",i[r].ry*u/100)):"text"==i[r].type||"guagetext"==i[r].type?((s=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("x",i[r].x*n/100+n/2),s.setAttribute("y",i[r].y*u/100+u/2)):"line"==i[r].type&&((s=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("x1",i[r].x1*n/100+n/2),s.setAttribute("y1",i[r].y1*u/100+u/2),s.setAttribute("x2",i[r].x2*n/100+n/2),s.setAttribute("y2",i[r].y2*u/100+u/2));o.appendChild(s),k.group.defs.appendChild(o)}},k.stopFlow=function(){for(var t=k.group.tag.querySelectorAll("animate[attributeName=stroke-dashoffset]"),e=t.length-1;0<=e;e--)k.group.tag.removeChild(t[e]),t[e]=void 0},k.startFlow=function(t,e){null!=k.group.tag.getAttribute("stroke-dasharray")&&null!=k.group.tag.getAttribute("stroke-dasharray")&&""!=k.group.tag.getAttribute("stroke-dasharray")||k.group.tag.setAttribute("stroke-dasharray","10,10");for(var o=k.group.tag.querySelectorAll("animate[attributeName=stroke-dashoffset]"),i=o.length-1;0<=i;i--)k.group.tag.removeChild(o[i]),o[i]=void 0;var r=document.createElementNS("http://www.w3.org/2000/svg","animate");r.setAttribute("attributeType","CSS"),r.setAttribute("attributeName","stroke-dashoffset"),null==t&&(t="front"),null==e&&(e=3),"front"==t?(r.setAttribute("from",100),r.setAttribute("to",1)):"back"==t&&(r.setAttribute("from",1),r.setAttribute("to",100)),r.setAttribute("dur",e),r.setAttribute("repeatCount","indefinite"),k.group.tag.appendChild(r)},k.ajaxCallback=function(t){if("value"==t.stateKey)null!=t.max&&(k.options.data.max=t.max),null!=t.min&&(k.options.data.min=t.min),k.setValue(t.value);else if("chartData"==t.stateKey)k.setChartData(t.list);else{for(var e=0;e<k.options.animsState.length;e++)k.options.animsState[e].key==t.stateKey&&k.options.animsState[e].value==t.value&&(null!=t.to&&null!=t.to&&""!=t.to&&(k.options.anims[e].to=t.to),null!=k.options.data[t.stateKey]&&null!=k.options.data[t.stateKey].value&&k.options.data[t.stateKey].value==t.value||sedLib.animate(k,e,t.stateKey,t.value));k.options.data[t.stateKey]=t}k.refresh(207)},k.setData=function(t,e){k.options.data[t]=e;for(var o=0;o<k.options.animsState.length;o++)k.options.animsState[o].key==t&&k.options.animsState[o].value==e.value&&sedLib.animate(k,o,t,e.value);k.refresh(208)},k.getData=function(t){return k.options.data[t]},k.setActions=function(){this.get("width"),this.get("height");k.options.animsState=[],k.options.anims=[];var t="1 1",e=(k.options.x1,k.options.y1,k.options.opacity),o=(t=k.options.scale,k.options.rotate);null==e&&(e=1),null==t&&(t="1 1"),null==o&&(o="0");if(null!=k.options.basicData&&null!=k.options.basicData.actions)for(var i=0;i<k.options.basicData.actions.length;i++){var r=k.options.basicData.actions[i],s=r.key,a=r.value,n=r.changeIgnore,u=r.obj,p=r.isGroup,l=r.cls,g=r.dur,d=r.begin,b=r.after,h=r.repeat,c=r.to,f=r.from,y=u;if(1==isNaN(u)&&(y=sedLib.findLayerNum(k,u)),Number(y)-1==0)if(!0,"linePatternMove"==l){var m={key:s,value:a,changeIgnore:n,type:"linePatternMove",isGroup:p,obj:y,from:f,to:c,begin:d,after:b,dur:g,repeatCount:h};k.options.animsState[i]={key:s,value:a},k.options.anims[i]=m}else if("lineGradientMove"==l){m={key:s,value:a,changeIgnore:n,type:"lineGradientMove",isGroup:p,obj:y,from:f,to:c,begin:d,after:b,dur:g,repeatCount:h};k.options.animsState[i]={key:s,value:a},k.options.anims[i]=m}else if("lineOpacity"==l){m={key:s,value:e=a,changeIgnore:n,type:"lineOpacity",isGroup:p,obj:y,from:f,to:c,begin:d,after:b,dur:g,repeatCount:h};k.options.animsState[i]={key:s,value:a},k.options.anims[i]=m}else if("lineStroke"==l){m={key:s,value:stroke=a,changeIgnore:n,type:"lineStroke",isGroup:p,obj:y,from:f,to:c,begin:d,after:b,dur:g,repeatCount:h};k.options.animsState[i]={key:s,value:a},k.options.anims[i]=m}else if("lineStrokeDashOffset"==l){m={key:s,value:a,changeIgnore:n,type:"lineStrokeDashOffset",isGroup:p,obj:y,from:f,to:c,begin:d,after:b,dur:g,repeatCount:h};k.options.animsState[i]={key:s,value:a},k.options.anims[i]=m}}},k.setActionsData=function(t){null!=k.options.basicData&&null!=k.options.basicData||(k.options.basicData={}),k.options.basicData.actions=t},k.setActions(),null==k.options.data&&(k.options.data={});for(r=Object.entries(k.options.data),s=0;s<r.length;s++){a=r[s];k.setData(a[0],a[1])}}return null!=k.options.strokeGradient&&null!=k.options.strokeGradient&&""!=k.options.strokeGradient?k.group.tag.setAttribute("stroke","url(#gradient"+k.options.figureId+"_"+k.options.strokeGradient+")"):null!=k.options.strokePattern&&null!=k.options.strokePattern&&""!=k.options.strokePattern?k.group.tag.setAttribute("stroke","url(#pattern"+k.options.figureId+"_"+k.options.strokePattern+")"):k.group.tag.setAttribute("stroke",k.options.stroke),null!=k.options.opacity&&""!=k.options.opacity&&k.group.tag.setAttribute("opacity",k.options.opacity),null!=k.options.strokeDasharray&&""!=k.options.strokeDasharray&&k.group.tag.setAttribute("stroke-dasharray",k.options.strokeDasharray),k.group.tag.setAttribute("fill",""),k}if("ajax"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.loop=function(){sedLib.ajax(k.options.ajaxUrl,k.callback,"get")},k.callback=function(t,e,o){var i=document.createEvent("Event");i.success=t,i.data=e,i.msg=o,i.initEvent("ajaxCallback",!0,!0),k.group.dispatchEvent(i);for(var r=k.sed.svg.querySelectorAll("[baseFg=true]"),s=0;s<r.length;s++){var a=r[s].parentNode.fg;null!=a&&""!=a.options.ajaxObj&&a.options.ajaxObj==k.options.fgRef&&null!=a&&null!=a.ajaxCallback&&"ajax"!=a.tagName&&null!=a.options.transObj&&null!=a.options.transObj&&null!=e[a.options.transObj]&&a.ajaxCallback(e[a.options.transObj])}},k.getUrl=function(){return k.options.ajaxUrl},k.setUrl=function(t){k.options.ajaxUrl=t},k.ajaxCallback=function(t){for(var e=Object.entries(t),o=0;o<e.length;o++){var i=e[o];k.options.data[i[0]]!=i[1]&&this.setData(i[0],i[1])}},k.setData=function(t,e){k.options.data[t]=e;for(var o=0;o<k.options.animsState.length;o++)k.options.animsState[o].key==t&&k.options.animsState[o].value==e&&sedLib.animate(k,o,t,e)},k.getData=function(t){return k.options.data[t]},k.startAjax=function(){this.options.ajaxStart="true",k.intervalId=setInterval(function(){k.loop()},1e3*Number(k.options.ajaxTimer))},k.stopAjax=function(){"false"!=this.options.ajaxStart&&(this.options.ajaxStart="false",null!=k.intervalId&&clearInterval(k.intervalId))},null!=k.options.ajaxStart&&"true"==k.options.ajaxStart&&k.startAjax()}return k}if("freeline"==k.tagName){if(1==t){o="path";f.dotsPos=[{x:200,y:200},{x:250,y:250},{x:300,y:300}],f.joinDotsPos=[{x:200,y:200},{x:250,y:250},{x:300,y:300}],sedLib.createBasicLine(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.stopFlow=function(){for(var t=k.group.tag.querySelectorAll("animate[attributeName=stroke-dashoffset]"),e=t.length-1;0<=e;e--)k.group.tag.removeChild(t[e]),t[e]=void 0},k.startFlow=function(t,e){null!=k.group.tag.getAttribute("stroke-dasharray")&&null!=k.group.tag.getAttribute("stroke-dasharray")&&""!=k.group.tag.getAttribute("stroke-dasharray")||k.group.tag.setAttribute("stroke-dasharray","10,10");for(var o=k.group.tag.querySelectorAll("animate[attributeName=stroke-dashoffset]"),i=o.length-1;0<=i;i--)k.group.tag.removeChild(o[i]),o[i]=void 0;var r=document.createElementNS("http://www.w3.org/2000/svg","animate");r.setAttribute("attributeType","CSS"),r.setAttribute("attributeName","stroke-dashoffset"),null==t&&(t="front"),null==e&&(e=3),"front"==t?(r.setAttribute("from",100),r.setAttribute("to",1)):"back"==t&&(r.setAttribute("from",1),r.setAttribute("to",100)),r.setAttribute("dur",e),r.setAttribute("repeatCount",k.options.animLineRepeatCount),k.group.tag.appendChild(r)}}for(T="",s=0;s<k.options.dotsPos.length;s++)T=0==s?T+"M"+k.options.dotsPos[s].x+","+k.options.dotsPos[s].y+" ":T+"L"+k.options.dotsPos[s].x+","+k.options.dotsPos[s].y+" ";return 1==k.options.closePath?k.group.tag.setAttribute("d",T):k.group.tag.setAttribute("d",T+"Z"),k}if("basicPathDot"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.sed.svg.selectedFg.group.lines=[],k.stopFlow=function(){for(var t=k.group.tag.querySelectorAll("animate[attributeName=stroke-dashoffset]"),e=t.length-1;0<=e;e--)k.group.tag.removeChild(t[e]),t[e]=void 0},k.startFlow=function(t,e){null!=k.group.tag.getAttribute("stroke-dasharray")&&null!=k.group.tag.getAttribute("stroke-dasharray")&&""!=k.group.tag.getAttribute("stroke-dasharray")||k.group.tag.setAttribute("stroke-dasharray","10,10");for(var o=k.group.tag.querySelectorAll("animate[attributeName=stroke-dashoffset]"),i=o.length-1;0<=i;i--)k.group.tag.removeChild(o[i]),o[i]=void 0;var r=document.createElementNS("http://www.w3.org/2000/svg","animate");r.setAttribute("attributeType","CSS"),r.setAttribute("attributeName","stroke-dashoffset"),null==t&&(t="front"),null==e&&(e=3),"front"==t?(r.setAttribute("from",100),r.setAttribute("to",1)):"back"==t&&(r.setAttribute("from",1),r.setAttribute("to",100)),r.setAttribute("dur",e),r.setAttribute("repeatCount",k.options.animLineRepeatCount),k.group.tag.appendChild(r)}}T="";var pt=k.options.dotsPos;for(s=0;s<pt.length;s++){y=pt[s].y*k.options.height/100,c=pt[s].x*k.options.width/100;if("M"==pt[s].type)T=T+"M"+c+","+y+" ";else if("L"==pt[s].type)T=T+"L"+c+","+y+" ";else if("Q"==pt[s].type){A=pt[s+1].y*k.options.height/100;T=T+"Q"+c+","+y+","+(m=pt[s+1].x*k.options.width/100)+","+A+" "}else if("CR"==pt[s].type){A=pt[s+1].y*k.options.height/100,m=pt[s+1].x*k.options.width/100;var lt=pt[s+2].y*k.options.height/100;T=T+"C"+c+","+y+","+m+","+A+","+pt[s+2].x*k.options.width/100+","+lt+" "}}return k.group.tag.setAttribute("d",T),k.group.tag.setAttribute("fill",k.options.fill),k}if("flowline"==k.tagName){if(1==t){o="path";sedLib.createBasicLine(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),sedLib.addArrowFlowLine(k),k.changeGradients=function(t,e){k.options.gradients[e]=t,null!=document.getElementById(t.type+k.options.figureId+"_"+t.index)&&k.group.defs.removeChild(document.getElementById(t.type+k.options.figureId+"_"+t.index));var o=null;"center"!=t.kind?((o=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",t.type+f.figureId+"_"+t.index),"hor"==t.kind?(o.setAttribute("x1","0%"),o.setAttribute("y1","0%"),o.setAttribute("x2","100%"),o.setAttribute("y2","0%")):"ver"==t.kind?(o.setAttribute("x1","0%"),o.setAttribute("y1","0%"),o.setAttribute("x2","0%"),o.setAttribute("y2","100%")):"leftright"==t.kind?(o.setAttribute("x1","0%"),o.setAttribute("y1","0%"),o.setAttribute("x2","100%"),o.setAttribute("y2","100%")):"rightleft"==t.kind&&(o.setAttribute("x1","0%"),o.setAttribute("y1","100%"),o.setAttribute("x2","100%"),o.setAttribute("y2","0%"))):((o=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",t.type+k.options.figureId+"_"+t.index),o.setAttribute("cx","50%"),o.setAttribute("cy","50%"),o.setAttribute("r","50%"));var i=t.colorNum,r=document.createElementNS("http://www.w3.org/2000/svg","stop");r.setAttribute("offset",t.colorPos1+"%"),r.setAttribute("stop-color",t.color1),r.setAttribute("stop-opacity",t.colorOpacity1);var s=document.createElementNS("http://www.w3.org/2000/svg","stop");s.setAttribute("offset",t.colorPos2+"%"),s.setAttribute("stop-color",t.color2),s.setAttribute("stop-opacity",t.colorOpacity2);var a=document.createElementNS("http://www.w3.org/2000/svg","stop");a.setAttribute("offset",t.colorPos3+"%"),a.setAttribute("stop-color",t.color3),a.setAttribute("stop-opacity",t.colorOpacity3);var n=document.createElementNS("http://www.w3.org/2000/svg","stop");n.setAttribute("offset",t.colorPos4+"%"),n.setAttribute("stop-color",t.color4),n.setAttribute("stop-opacity",t.colorOpacity4);var u=document.createElementNS("http://www.w3.org/2000/svg","stop");u.setAttribute("offset",t.colorPos5+"%"),u.setAttribute("stop-color",t.color5),u.setAttribute("stop-opacity",t.colorOpacity5),o.appendChild(r),o.appendChild(s),3<=Number(i)&&o.appendChild(a),4<=Number(i)&&o.appendChild(n),5<=Number(i)&&o.appendChild(u),k.group.defs.appendChild(o)},k.changePatterns=function(t,e){k.options.patterns[e]=t,null!=document.getElementById(t.type+k.options.figureId+"_"+t.index)&&k.group.defs.removeChild(document.getElementById(t.type+k.options.figureId+"_"+t.index));var o=document.createElementNS("http://www.w3.org/2000/svg","pattern");o.setAttribute("type",t.type),o.setAttribute("id",t.type+k.options.figureId+"_"+t.index),o.setAttribute("x",0),o.setAttribute("y",0),o.setAttribute("width",t.width),o.setAttribute("height",t.height),o.setAttribute("patternUnits","userSpaceOnUse");for(var i=t.objects,r=0;r<i.length;r++){var s=null;if("path"==i[r].type){(s=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth);for(var a=i[r].d.split(" "),n=t.width,u=t.height,p=[],l=0;l<a.length;l++)if(""!=a[l].trim()){var g=a[l];if(-1!=g.indexOf("M")){var d=(g=g.replace("M","")).split(",");p.push({type:"M",x:d[0],y:d[1]})}else if(-1!=g.indexOf("L")){d=(g=g.replace("L","")).split(",");p.push({type:"L",x:d[0],y:d[1]})}else if(-1!=g.indexOf("Q")){d=(g=g.replace("Q","")).split(",");p.push({type:"Q",x:d[0],y:d[1],x2:d[2],y2:d[3]})}else if(-1!=g.indexOf("C")){d=(g=g.replace("C","")).split(",");p.push({type:"CR",x:d[0],y:d[1],x2:d[2],y2:d[3],x3:d[4],y3:d[5]})}else-1!=g.indexOf("Z")&&p.push({type:"Z"})}var b="";for(l=0;l<p.length;l++){var h=p[l];if("M"==h.type){var c=n/100*h.x+n/2,f=u/100*h.y+u/2;b=b+h.type+c+","+f+" "}else if("L"==h.type){c=n/100*h.x+n/2,f=u/100*h.y+u/2;b=b+h.type+c+","+f+" "}else if("Q"==h.type){c=n/100*h.x+n/2,f=u/100*h.y+u/2;var y=n/100*h.x2+n/2,m=u/100*h.y2+u/2;b=b+h.type+c+","+f+","+y+","+m+" "}else if("CR"==h.type){b=b+"C"+(c=n/100*h.x+n/2)+","+(f=u/100*h.y+u/2)+","+(y=n/100*h.x2+n/2)+","+(m=u/100*h.y2+u/2)+","+(n/100*h.x3+n/2)+","+(u/100*h.y3+u/2)+" "}else"Z"==h.type&&(b+="Z")}s.setAttribute("d",b)}else if("circle"==i[r].type){n=t.width,u=t.height;if((s=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("cx",i[r].cx*n/100+n/2),s.setAttribute("cy",i[r].cy*u/100+u/2),"w"==i[r].rBase)s.setAttribute("r",n/100*i[r].r);else if("h"==i[r].rBase)s.setAttribute("r",u/100*i[r].r);else if("min"==i[r].rBase){var A=n;u<n&&(A=u),s.setAttribute("r",A/100*i[r].r)}else if("max"==i[r].rBase){var w=n;u<n&&(w=u),s.setAttribute("r",w/100*i[r].r)}}else if("ellipse"==i[r].type)(s=document.createElementNS("http://www.w3.org/2000/svg","ellipse")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("cx",i[r].cx*n/100+n/2),s.setAttribute("cy",i[r].cy*u/100+u/2),s.setAttribute("rx",i[r].rx*n/100),s.setAttribute("ry",i[r].ry*u/100);else if("text"==i[r].type||"guagetext"==i[r].type)document.createElementNS("http://www.w3.org/2000/svg","g"),(s=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("x",i[r].x*n/100+n/2),s.setAttribute("y",i[r].y*u/100+u/2);else if("line"==i[r].type){document.createElementNS("http://www.w3.org/2000/svg","g");(s=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("id",k.get("figureId")+"_"+r),s.setAttribute("fill",i[r].fill),s.setAttribute("stroke",i[r].stroke),s.setAttribute("stroke-width",i[r].strokeWidth),s.setAttribute("x1",i[r].x1*n/100+n/2),s.setAttribute("y1",i[r].y1*u/100+u/2),s.setAttribute("x2",i[r].x2*n/100+n/2),s.setAttribute("y2",i[r].y2*u/100+u/2)}o.appendChild(s),k.group.defs.appendChild(o)}},k.stopFlow=function(){for(var t=k.group.tag.querySelectorAll("animate[attributeName=stroke-dashoffset]"),e=t.length-1;0<=e;e--)k.group.tag.removeChild(t[e]),t[e]=void 0},k.startFlow=function(t,e){null!=k.group.tag.getAttribute("stroke-dasharray")&&null!=k.group.tag.getAttribute("stroke-dasharray")&&""!=k.group.tag.getAttribute("stroke-dasharray")||k.group.tag.setAttribute("stroke-dasharray","10,10");for(var o=k.group.tag.querySelectorAll("animate[attributeName=stroke-dashoffset]"),i=o.length-1;0<=i;i--)k.group.tag.removeChild(o[i]),o[i]=void 0;var r=document.createElementNS("http://www.w3.org/2000/svg","animate");r.setAttribute("attributeType","CSS"),r.setAttribute("attributeName","stroke-dashoffset"),null==t&&(t="front"),null==e&&(e=3),"front"==t?(r.setAttribute("from",100),r.setAttribute("to",1)):"back"==t&&(r.setAttribute("from",1),r.setAttribute("to",100)),r.setAttribute("dur",e),r.setAttribute("repeatCount","indefinite"),k.group.tag.appendChild(r)},k.ajaxCallback=function(t){if("value"==t.stateKey)null!=t.max&&(k.options.data.max=t.max),null!=t.min&&(k.options.data.min=t.min),k.setValue(t.value);else if("chartData"==t.stateKey)k.setChartData(t.list);else{for(var e=0;e<k.options.animsState.length;e++)k.options.animsState[e].key==t.stateKey&&k.options.animsState[e].value==t.value&&(null!=t.to&&null!=t.to&&""!=t.to&&(k.options.anims[e].to=t.to),null!=k.options.data[t.stateKey]&&null!=k.options.data[t.stateKey].value&&k.options.data[t.stateKey].value==t.value||sedLib.animate(k,e,t.stateKey,t.value));k.options.data[t.stateKey]=t}k.refresh(209)},k.setData=function(t,e){k.options.data[t]=e;for(var o=0;o<k.options.animsState.length;o++)k.options.animsState[o].key==t&&k.options.animsState[o].value==e.value&&sedLib.animate(k,o,t,e.value);k.refresh(210)},k.getData=function(t){return k.options.data[t]},k.setActions=function(){this.get("width"),this.get("height");k.options.animsState=[],k.options.anims=[];var t="1 1",e=(k.options.x1,k.options.y1,k.options.opacity),o=(t=k.options.scale,k.options.rotate);null==e&&(e=1),null==t&&(t="1 1"),null==o&&(o="0");if(null!=k.options.basicData&&null!=k.options.basicData.actions)for(var i=0;i<k.options.basicData.actions.length;i++){var r=k.options.basicData.actions[i],s=r.key,a=r.value,n=r.changeIgnore,u=r.obj,p=r.isGroup,l=r.cls,g=r.dur,d=r.begin,b=r.after,h=r.repeat,c=r.to,f=r.from,y=u;if(1==isNaN(u)&&(y=sedLib.findLayerNum(k,u)),Number(y)-1==0)if(!0,"linePatternMove"==l){var m={key:s,value:a,changeIgnore:n,type:"linePatternMove",isGroup:p,obj:y,from:f,to:c,begin:d,after:b,dur:g,repeatCount:h};k.options.animsState[i]={key:s,value:a},k.options.anims[i]=m}else if("lineGradientMove"==l){m={key:s,value:a,changeIgnore:n,type:"lineGradientMove",isGroup:p,obj:y,from:f,to:c,begin:d,after:b,dur:g,repeatCount:h};k.options.animsState[i]={key:s,value:a},k.options.anims[i]=m}else if("lineOpacity"==l){m={key:s,value:e=a,changeIgnore:n,type:"lineOpacity",isGroup:p,obj:y,from:f,to:c,begin:d,after:b,dur:g,repeatCount:h};k.options.animsState[i]={key:s,value:a},k.options.anims[i]=m}else if("lineStroke"==l){m={key:s,value:stroke=a,changeIgnore:n,type:"lineStroke",isGroup:p,obj:y,from:f,to:c,begin:d,after:b,dur:g,repeatCount:h};k.options.animsState[i]={key:s,value:a},k.options.anims[i]=m}else if("lineStrokeDashOffset"==l){m={key:s,value:a,changeIgnore:n,type:"lineStrokeDashOffset",isGroup:p,obj:y,from:f,to:c,begin:d,after:b,dur:g,repeatCount:h};k.options.animsState[i]={key:s,value:a},k.options.anims[i]=m}}},k.setActionsData=function(t){null!=k.options.basicData&&null!=k.options.basicData||(k.options.basicData={}),k.options.basicData.actions=t},k.setActions(),null==k.options.data&&(k.options.data={});for(r=Object.entries(k.options.data),s=0;s<r.length;s++){a=r[s];k.setData(a[0],a[1])}}return null!=k.options.strokeGradient&&null!=k.options.strokeGradient&&""!=k.options.strokeGradient?k.group.tag.setAttribute("stroke","url(#gradient"+k.options.figureId+"_"+k.options.strokeGradient+")"):null!=k.options.strokePattern&&null!=k.options.strokePattern&&""!=k.options.strokePattern?k.group.tag.setAttribute("stroke","url(#pattern"+k.options.figureId+"_"+k.options.strokePattern+")"):k.group.tag.setAttribute("stroke",k.options.stroke),null!=k.options.opacity&&""!=k.options.opacity&&k.group.tag.setAttribute("opacity",k.options.opacity),null!=k.options.strokeDasharray&&""!=k.options.strokeDasharray&&k.group.tag.setAttribute("stroke-dasharray",k.options.strokeDasharray),k.group.tag.setAttribute("fill","none"),k}if("rect"==k.tagName||"windowonedoor"==k.tagName||"table"==k.tagName||"process"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}return k}if("userpath"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.group.tag.setAttribute("d",k.options.d),k.sed.svg.selectedLayer.group.appendChild(k.group),k.setPath=function(t){k.options.d=t,k.group.tag.setAttribute("d",t)}}T=k.options.d;return k.group.tag.setAttribute("d",T),k}if("path"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.group.tag.setAttribute("d",k.options.d),k.sed.svg.selectedLayer.group.appendChild(k.group)}for(p=(T=k.options.d).split(" "),l=k.get("width"),g=k.get("height"),d=[],s=0;s<p.length;s++){var gt;if(""!=p[s].trim())if(-1!=(gt=p[s]).indexOf("M")){b=(gt=gt.replace("M","")).split(",");d.push({type:"M",x:b[0],y:b[1]})}else if(-1!=gt.indexOf("L")){b=(gt=gt.replace("L","")).split(",");d.push({type:"L",x:b[0],y:b[1]})}else if(-1!=gt.indexOf("Q")){b=(gt=gt.replace("Q","")).split(",");d.push({type:"Q",x:b[0],y:b[1],x2:b[2],y2:b[3]})}else if(-1!=gt.indexOf("C")){b=(gt=gt.replace("C","")).split(",");d.push({type:"CR",x:b[0],y:b[1],x2:b[2],y2:b[3],x3:b[4],y3:b[5]})}else-1!=gt.indexOf("Z")&&d.push({type:"Z"})}for(h="",s=0;s<d.length;s++){var dt;"M"==(dt=d[s]).type?(dt.x=l/100*dt.x,dt.y=g/100*dt.y,h=h+dt.type+dt.x+","+dt.y+" "):"L"==dt.type?(dt.x=l/100*dt.x,dt.y=g/100*dt.y,h=h+dt.type+dt.x+","+dt.y+" "):"Q"==dt.type?(dt.x=l/100*dt.x,dt.y=g/100*dt.y,dt.x2=l/100*dt.x2,dt.y2=g/100*dt.y2,h=h+dt.type+dt.x+","+dt.y+","+dt.x2+","+dt.y2+" "):"CR"==dt.type?(dt.x=l/100*dt.x,dt.y=g/100*dt.y,dt.x2=l/100*dt.x2,dt.y2=g/100*dt.y2,dt.x3=l/100*dt.x3,dt.y3=g/100*dt.y3,h=h+dt.type+dt.x+","+dt.y+","+dt.x2+","+dt.y2+","+dt.x3+","+dt.y3+" "):"Z"==dt.type&&(h+="Z")}return k.group.tag.setAttribute("d",h),k}if("roundrect"==k.tagName||"table2"==k.tagName||"alternateprocess"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}return k.group.tag.setAttribute("rx",k.options.rx),k.group.tag.setAttribute("ry",k.options.ry),k}if("video"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.set("videoSrc",k.get("videoSrc")),k.set("videoType",k.get("videoType")),k.group.addEventListener("dblclick",function(){var t=this.fg,e=document.createElement("div");e.setAttribute("videoRoot",!0),e.setAttribute("id","video"+t.sed.svg.selectedLayer.get("figureId")),e.setAttribute("display","none"),e.setAttribute("top",screen.height-300),e.setAttribute("left",screen.width-400),e.style.top=screen.height-300+"px",e.style.left=screen.width-400+"px",e.setAttribute("width",800),e.setAttribute("height",600),e.style.position="absolute",e.style.left="300px",e.style.top="150px",e.style["background-color"]="white",e.style["border-color"]="black",e.style["border-width"]="2px";var o=document.createElement("button");o.setAttribute("id","btnClose"+t.sed.svg.selectedLayer.get("figureId")),o.innerHTML="Close";var i=document.createElement("video");i.setAttribute("controls",!0);var r=document.createElement("source");r.setAttribute("src",t.get("videoSrc")),r.setAttribute("type","video/mp4"),i.appendChild(r),i.setAttribute("width",800),i.setAttribute("height",570),i.style.display="block",e.appendChild(i),document.body.appendChild(e),e.appendChild(o),o.onclick=function(){var t=this.parentNode,e=t.querySelector("video");e.pause(),t.style.display="none",e.style.display="none",document.body.removeChild(t,!0),t=void 0}})}return k}if("wall"==k.tagName){if(1==t){o="rect";f.dot4Way=!0,sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}return k}if("image"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}return k}if("text"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}return k}if("text3d"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}return k}if("circle"==k.tagName||"connector"==k.tagName){if(1==t){o="circle";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}return k.group.tag.setAttribute("cx",0),k.group.tag.setAttribute("cy",0),k.group.tag.setAttribute("r",k.options.width/2),k}if("ellipse"==k.tagName||"table3"==k.tagName){if(1==t){o="ellipse";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}return k.group.tag.setAttribute("cx",0),k.group.tag.setAttribute("cy",0),k.group.tag.setAttribute("rx",k.options.width/2),k.group.tag.setAttribute("ry",k.options.height/2),k}if("arc"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}l=k.options.width/2,g=k.options.height/2;null==k.options.angle&&(k.options.angle=60);var bt=180-Number(k.options.angle);90==k.options.angle?bt=89.9999:270==k.options.angle&&(bt=-89.9999);var ht=sedLib.getAngleToRadian(bt),ct=Math.tan(ht);D=(N=Math.sqrt(l*l*g*g/(l*l+g*g*ct*ct)))*ct;if(k.options.angle<90?N*=-1:k.options.angle<180?D*=-1:k.options.angle<270?D*=-1:N*=-1,k.options.angle<180){T="M"+-1*l+",0 A"+l+" "+g+" 0 0 1 "+N+" "+D;k.group.tag.setAttribute("d",T)}else{T="M"+-1*l+",0 A"+l+" "+g+" 0 1 1 "+N+" "+D;k.group.tag.setAttribute("d",T)}return k}if("map"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}M=0,E=0;var ft=0,yt=(O=0,[]);if(count=0,null==k.options.map)return null;for(s=0;s<k.options.map.length;s+=2)yt.push({x:k.options.map[s+1],y:k.options.map[s]}),-1!=k.options.map[s]&&-1!=k.options.map[s+1]&&(0==count?(M=k.options.map[s+1],E=k.options.map[s+1],ft=k.options.map[s],O=k.options.map[s]):(k.options.map[s+1]<M&&(M=k.options.map[s+1]),k.options.map[s+1]>E&&(E=k.options.map[s+1]),k.options.map[s]<ft&&(ft=k.options.map[s]),k.options.map[s]>O&&(O=k.options.map[s])),count++);"layerMap"==k.parentLayer.tagName&&(k.options.mapScale=k.parentLayer.options.mapScale);g=O-ft;var mt=100*(l=E-M)*k.options.mapScale,At=130*g*k.options.mapScale;for(s=0;s<yt.length;s++)-1!=yt[s].x&&-1!=yt[s].y&&(null!=k.options.mapName&&"russia"==k.options.mapName&&yt[s].x<0?yt[s].x=(yt[s].x+360-M-l/2)/l*mt:yt[s].x=(yt[s].x-M-l/2)/l*mt,yt[s].y=(ft-yt[s].y+g/2)/g*At);for(T="",s=0;s<yt.length;s++)T=-1==yt[s].x&&-1==yt[s].y?T+"M"+yt[++s].x+","+yt[s].y+" ":T+"L"+yt[s].x+","+yt[s].y+" ";return k.options.width=l,k.options.height=g,k.group.tag.setAttribute("width",l),k.group.tag.setAttribute("height",g),k.group.tag.setAttribute("d",T+"Z"),"layerMap"==k.parentLayer.tagName&&(E>=k.parentLayer.options.longitude?(k.options.longitude=(E+M)/2,k.options.latitude=(O+ft)/2,k.options.x=100*(k.options.longitude-k.parentLayer.options.longitude)/2*k.options.mapScale):(k.options.longitude=(E+M)/2,k.options.latitude=(O+ft)/2,k.options.x=100*(k.options.longitude-k.parentLayer.options.longitude+360)/2*k.options.mapScale),k.options.y=130*(k.parentLayer.options.latitude-k.options.latitude)/2*k.options.mapScale,k.moveTo(k.options.x,k.options.y)),k}if("mapChild"==k.tagName){if(1==t){var wt=k.sed.svg.querySelector("[figureId="+k.options.parentFigureId+"]");o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.options.parentFigureId),k.parentLayer=k.sed.svg.selectedLayer,wt.parentNode.appendChild(k.group),k.resizePointTo(0,0,0)}M=0,E=0,ft=0,O=0,yt=[];if(count=0,null==k.options.map)return null;for(s=0;s<k.options.map.length;s+=2)yt.push({x:k.options.map[s+1],y:k.options.map[s]}),-1!=k.options.map[s]&&-1!=k.options.map[s+1]&&(0==count?(M=k.options.map[s+1],E=k.options.map[s+1],ft=k.options.map[s],O=k.options.map[s]):(k.options.map[s+1]<M&&(M=k.options.map[s+1]),k.options.map[s+1]>E&&(E=k.options.map[s+1]),k.options.map[s]<ft&&(ft=k.options.map[s]),k.options.map[s]>O&&(O=k.options.map[s])),count++);for(g=O-ft,mt=1*(l=E-M)*k.options.mapScale,At=1.3*g*k.options.mapScale,s=0;s<yt.length;s++)-1!=yt[s].x&&-1!=yt[s].y&&(null!=k.options.mapName&&"russia"==k.options.mapName&&yt[s].x<0?yt[s].x=(yt[s].x+360-M-l/2)/l*mt:yt[s].x=(yt[s].x-M-l/2)/l*mt,yt[s].y=(ft-yt[s].y+g/2)/g*At);for(T="",s=0;s<yt.length;s++)T=-1==yt[s].x&&-1==yt[s].y?T+"M"+yt[++s].x+","+yt[s].y+" ":T+"L"+yt[s].x+","+yt[s].y+" ";return k.options.width=l,k.options.height=g,k.group.tag.setAttribute("width",l),k.group.tag.setAttribute("height",g),k.group.tag.setAttribute("d",T+"Z"),E>=k.options.parentStartLongitude?(k.options.longitude=(E+M)/2,k.options.latitude=(O+ft)/2,k.options.x=1*(k.options.longitude-k.options.parentStartLongitude)/2*k.options.mapScale):(k.options.longitude=(E+M)/2,k.options.latitude=(O+ft)/2,k.options.x=1*(k.options.longitude-k.options.parentStartLongitude+360)/2*k.options.mapScale),k.options.y=1.3*(k.options.parentStartLatitude-k.options.latitude)/2*k.options.mapScale,k.moveTo(k.options.x,k.options.y),k}if("mapComp"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}M=0,E=0,ft=0,O=0,yt=[];if(count=0,null==k.options.map)return null;for(s=0;s<k.options.map.length;s+=2)yt.push({x:k.options.map[s+1],y:k.options.map[s]}),-1!=k.options.map[s]&&-1!=k.options.map[s+1]&&(0==count?(M=k.options.map[s+1],E=k.options.map[s+1],ft=k.options.map[s],O=k.options.map[s]):(k.options.map[s+1]<M&&(M=k.options.map[s+1]),k.options.map[s+1]>E&&(E=k.options.map[s+1]),k.options.map[s]<ft&&(ft=k.options.map[s]),k.options.map[s]>O&&(O=k.options.map[s])),count++);l=E-M,g=O-ft;var xt=k.parentLayer.options.mapScale,vt=1;for(s=0;s<Math.floor(xt)-1;s++)vt*=2;xt%1==.5&&(vt+=vt/2);for(At=g/1.030645*909*512/vt,mt=l/2.791505*1920*512/vt,s=0;s<yt.length;s++)-1!=yt[s].x&&-1!=yt[s].y&&(null!=k.options.mapName&&"russia"==k.options.mapName?yt[s].x<0?yt[s].x=(yt[s].x+360-M-l/2)/l*mt:yt[s].x=(yt[s].x-M-l/2)/l*mt:(yt[s].x,yt[s].x=(yt[s].x-M-l/2)/l*mt),yt[s].y=(ft-yt[s].y+g/2)/g*At);for(T="",s=0;s<yt.length;s++)T=-1==yt[s].x&&-1==yt[s].y?T+"M"+yt[++s].x+","+yt[s].y+" ":T+"L"+yt[s].x+","+yt[s].y+" ";return k.options.width=l,k.options.height=g,k.group.tag.setAttribute("width",l),k.group.tag.setAttribute("height",g),k.group.tag.setAttribute("d",T+"Z"),k.options.longitude=(E+M)/2,k.options.latitude=(O+ft)/2,sedLib.calcLatLngToXY(k,k.options.latitude,k.options.longitude),k.moveXY(k.options.x,k.options.y),k}if("pie"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}l=k.options.width/2,g=k.options.height/2;null==k.options.angle&&(k.options.angle=60);T=sedLib.calcPie(0,0,0,l,-90,k.options.angle-90);return k.group.tag.setAttribute("d",T),k}if("piechart"==k.tagName){if(k.setData=function(t){k.options.chartData.radian=t.radian,k.options.chartData.dataFontSize=t.dataFontSize,k.options.chartData.max=t.max},k.setDataList=function(t){if(null!=k.group.chartItem)for(var e=k.group.chartItem.length-1;0<=e;e--)k.group.removeChild(k.group.chartItem[e]),k.group.removeChild(k.group.chartItemText[e]);k.options.chartData.list=t,k.options.listCount=t.length,k.group.chartItem=[],k.group.chartItemText=[];for(e=0;e<k.options.listCount;e++){var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("stroke",k.options.stroke),o.setAttribute("stroke-width",k.options["stroke-width"]),o.setAttribute("fill","none"),k.group.appendChild(o),k.group.chartItem.push(o)}for(e=0;e<k.options.listCount;e++){var i=document.createElementNS("http://www.w3.org/2000/svg","text");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("fill",k.options.chartData.list[e].fc),i.setAttribute("font-size",k.options.chartData.dataFontSize),i.setAttribute("text-anchor","middle"),null!=k.options.chartData.list[e].text&&null!=k.options.chartData.list[e].text&&(i.textContent=k.options.chartData.list[e].text),k.group.appendChild(i),k.group.chartItemText.push(i)}k.refresh(211)},k.ajaxCallback=function(t){k.setDataList(t)},1==t){o="path";if(sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),null==k.options.chartData||null==k.options.chartData){R={radian:100,dataFontSize:10,max:100,list:[{v:100,c:"red",fc:"white",fs:16,text:"100s"},{v:200,c:"yellow",fc:"black",fs:16,text:"200s"},{v:300,c:"blue",fc:"white",fs:16,text:"300s"}]};k.options.chartData=R,k.setData(R),k.setDataList(R.list)}else k.setData(k.options.chartData),k.setDataList(k.options.chartData.list)}l=k.options.width/2,g=k.options.height/2;if(null==k.options.angle&&(k.options.angle=60),null!=k.options.chartData&&null!=k.options.chartData){for(R=k.options.chartData,_=0,s=0;s<R.list.length;s++)_+=R.list[s].v;for(s=0;s<R.list.length;s++)R.list[s].r=R.list[s].v/_*360;for(F=0,H=0,Y=R.radian/R.max*l,s=0;s<R.list.length;s++){X=((H+=R.list[s].r)+F)/2,T=" "+sedLib.calcPie(0,0,0,Y,F-90,H-90);F+=R.list[s].r,k.group.chartItem[s].setAttribute("d",T),k.group.chartItem[s].setAttribute("stroke",k.options.stroke),k.group.chartItem[s].setAttribute("fill",R.list[s].c);k.group.chartItem[s].getAttribute("fill"),K=sedLib.getRotatePos(X,0,-.6*Y),k.group.chartItemText[s].getClientRects();k.group.chartItemText[s].setAttribute("x",K.x),k.group.chartItemText[s].setAttribute("y",K.y)}}return k}if("linechart"==k.tagName){if(k.setData=function(t){k.options.data.max=t.max,k.options.data.min=t.min,k.options.axisLabelWidth=t.axisLabelWidth,k.options.axisFontSize=t.axisFontSize,k.options.axisColor=t.axisColor,k.options.axisFontColor=t.axisFontColor,k.options.dataFontSize=t.dataFontSize,k.options.dataFontColor=t.dataFontColor,k.options.dataLineColor=t.dataLineColor},k.setDataList=function(t){if(null!=k.group.chartItemLine)for(var e=k.group.chartItemLine.length-1;0<=e;e--)k.group.removeChild(k.group.chartItemLine[e]);if(null!=k.group.chartItemTextValue)for(e=k.group.chartItemTextValue.length-1;0<=e;e--)k.group.removeChild(k.group.chartItemTextValue[e]);if(null!=k.group.chartItemTextLabelX)for(e=k.group.chartItemTextLabelX.length-1;0<=e;e--)k.group.removeChild(k.group.chartItemTextLabelX[e]);if(null!=k.group.chartItemTextLabelY)for(e=k.group.chartItemTextLabelY.length-1;0<=e;e--)k.group.removeChild(k.group.chartItemTextLabelY[e]);if(null!=k.group.chartItemAxis)for(e=k.group.chartItemAxis.length-1;0<=e;e--)k.group.removeChild(k.group.chartItemAxis[e]);k.options.chartData.list=t,k.group.chartItemAxis=[],k.group.chartItemLine=[],k.group.chartItemTextValue=[],k.group.chartItemTextLabelX=[],k.group.chartItemTextLabelY=[];var o=[],i=[];o[0]=document.createElementNS("http://www.w3.org/2000/svg","path"),i[0]=document.createElementNS("http://www.w3.org/2000/svg","path");var r=k.options.width;k.options.height,k.options.chartData.axisLabelWidth,k.options.chartData.list.length;o[0].setAttribute("d",""),o[0].setAttribute("stroke",k.options.chartData.axisColor),o[0].setAttribute("stroke-width",k.options["stroke-width"]),o[0].setAttribute("fill","none"),i[0].setAttribute("d",""),i[0].setAttribute("stroke",k.options.chartData.dataLineColor),i[0].setAttribute("stroke-width",k.options["stroke-width"]),i[0].setAttribute("fill","none"),k.group.appendChild(o[0]),k.group.appendChild(i[0]),k.group.chartItemAxis.push(o[0]),k.group.chartItemLine.push(i[0]);for(e=0;e<3;e++){var s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("font-size",k.options.chartData.axisFontSize),s.setAttribute("stroke",k.options.chartData.axisColor),k.group.appendChild(s),k.group.chartItemTextLabelY.push(s)}for(e=0;e<k.options.chartData.list.length;e++){var a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("font-size",k.options.chartData.dataFontSize),a.setAttribute("stroke","none"),a.setAttribute("fill",k.options.chartData.dataFontColor),null!=k.options.chartData.list[e].text&&null!=k.options.chartData.list[e].text&&(a.textContent=k.options.chartData.list[e].value),k.group.appendChild(a),k.group.chartItemTextValue.push(a);var n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("font-size",k.options.chartData.axisFontSize),n.setAttribute("stroke",k.options.chartData.axisFontColor),null!=k.options.chartData.list[e].text&&null!=k.options.chartData.list[e].text&&(n.textContent=k.options.chartData.list[e].value),k.group.appendChild(n),k.group.chartItemTextLabelX.push(n)}k.refresh(212)},k.ajaxCallback=function(t){k.setDataList(t)},1==t){o="rect";if(sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),null==k.options.chartData||null==k.options.chartData){R={max:100,min:0,axisLabelWidth:50,axisFontSize:12,axisColor:"black",axisFontColor:"#222222",dataFontSize:8,dataFontColor:"darkblue",dataLineColor:"blue",list:[{label:"a",value:10},{label:"b",value:20},{label:"c",value:30},{label:"d",value:90},{label:"e",value:100},{label:"f",value:30},{label:"g",value:44},{label:"h",value:33},{label:"i",value:79}]};k.options.chartData=R,k.setData(R),k.setDataList(R.list)}else k.setData(k.options.chartData),k.setDataList(k.options.chartData.list)}l=k.options.width/2,g=k.options.height/2;if(null!=k.options.chartData&&null!=k.options.chartData){if(null==(x=(R=k.options.chartData).max))for(s=0;s<R.list.length;s++)0==s?x=R.list[s].value:R.list[s].value>x&&(x=R.list[s].value);if(null==(w=R.min))for(s=0;s<R.list.length;s++)0==s?w=R.list[s].value:R.list[s].value<w&&(w=R.list[s].value);for(l=k.options.width,g=k.options.height-30,G=(l-k.options.chartData.axisLabelWidth)/k.options.chartData.list.length,T="",s=0;s<k.options.chartData.list.length;s++){N=s*G+k.options.chartData.axisLabelWidth-k.options.width/2,D=g-(g-30)*(k.options.chartData.list[s].value-w)/(x-w)-g/2-30;T=0==s?"M"+N+","+D:T+" L"+N+","+D}k.group.chartItemLine[0].setAttribute("d",T);var Lt="";Lt="M "+(l/-2+k.options.chartData.axisLabelWidth)+","+g/-2+" L"+(l/-2+k.options.chartData.axisLabelWidth)+","+(g/2-30)+" L"+l/2+","+(g/2-30),k.group.chartItemAxis[0].setAttribute("d",Lt);for(s=0;s<k.options.chartData.list.length;s++){N=s*G+k.options.chartData.axisLabelWidth-k.options.width/2,D=g-(g-30)*(k.options.chartData.list[s].value-w)/(x-w)-g/2-30;k.group.chartItemTextValue[s].setAttribute("x",N),k.group.chartItemTextValue[s].setAttribute("y",D-2),k.group.chartItemTextValue[s].setAttribute("text-anchor","middle"),null!=k.options.chartData.list[s].value&&null!=k.options.chartData.list[s].value&&(k.group.chartItemTextValue[s].textContent=k.options.chartData.list[s].value),k.group.chartItemTextLabelX[s].setAttribute("x",N),k.group.chartItemTextLabelX[s].setAttribute("y",g/2-10),k.group.chartItemTextLabelX[s].setAttribute("text-anchor","middle"),null!=k.options.chartData.list[s].label&&null!=k.options.chartData.list[s].label&&(k.group.chartItemTextLabelX[s].textContent=k.options.chartData.list[s].label)}k.group.chartItemTextLabelY[0].setAttribute("x",l/-2+45),k.group.chartItemTextLabelY[0].setAttribute("y",g/2-30),k.group.chartItemTextLabelY[0].setAttribute("text-anchor","end"),k.group.chartItemTextLabelY[0].textContent=w,k.group.chartItemTextLabelY[1].setAttribute("x",l/-2+45),k.group.chartItemTextLabelY[1].setAttribute("y",g/-2),k.group.chartItemTextLabelY[1].setAttribute("text-anchor","end"),k.group.chartItemTextLabelY[1].textContent=x,k.group.chartItemTextLabelY[2].setAttribute("x",l/-2+45),k.group.chartItemTextLabelY[2].setAttribute("y",-10),k.group.chartItemTextLabelY[2].textContent=(x-w)/2,k.group.chartItemTextLabelY[2].setAttribute("text-anchor","end")}return k}if("areachart"==k.tagName){if(k.setData=function(t){k.options.data.max=t.max,k.options.data.min=t.min,k.options.axisLabelWidth=t.axisLabelWidth,k.options.axisFontSize=t.axisFontSize,k.options.axisColor=t.axisColor,k.options.axisFontColor=t.axisFontColor,k.options.dataFontSize=t.dataFontSize,k.options.dataFontColor=t.dataFontColor,k.options.dataLineColor=t.dataLineColor,k.options.dataFillColor=t.dataFillColor},k.setDataList=function(t){if(null!=k.group.chartItemLine)for(var e=k.group.chartItemLine.length-1;0<=e;e--)k.group.removeChild(k.group.chartItemLine[e]);if(null!=k.group.chartItemTextValue)for(e=k.group.chartItemTextValue.length-1;0<=e;e--)k.group.removeChild(k.group.chartItemTextValue[e]);if(null!=k.group.chartItemTextLabelX)for(e=k.group.chartItemTextLabelX.length-1;0<=e;e--)k.group.removeChild(k.group.chartItemTextLabelX[e]);if(null!=k.group.chartItemTextLabelY)for(e=k.group.chartItemTextLabelY.length-1;0<=e;e--)k.group.removeChild(k.group.chartItemTextLabelY[e]);if(null!=k.group.chartItemAxis)for(e=k.group.chartItemAxis.length-1;0<=e;e--)k.group.removeChild(k.group.chartItemAxis[e]);k.options.chartData.list=t,k.group.chartItemAxis=[],k.group.chartItemLine=[],k.group.chartItemTextValue=[],k.group.chartItemTextLabelX=[],k.group.chartItemTextLabelY=[];var o=[],i=[];o[0]=document.createElementNS("http://www.w3.org/2000/svg","path"),i[0]=document.createElementNS("http://www.w3.org/2000/svg","path");var r=k.options.width;k.options.height,k.options.chartData.axisLabelWidth,k.options.chartData.list.length;o[0].setAttribute("d",""),o[0].setAttribute("stroke",k.options.chartData.axisColor),o[0].setAttribute("stroke-width",k.options["stroke-width"]),o[0].setAttribute("fill","none"),i[0].setAttribute("d",""),i[0].setAttribute("stroke",k.options.chartData.dataLineColor),i[0].setAttribute("stroke-width",k.options["stroke-width"]),i[0].setAttribute("fill",k.options.chartData.dataFillColor),k.group.appendChild(o[0]),k.group.appendChild(i[0]),k.group.chartItemAxis.push(o[0]),k.group.chartItemLine.push(i[0]);for(e=0;e<3;e++){var s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("font-size",k.options.chartData.axisFontSize),s.setAttribute("stroke",k.options.chartData.axisColor),k.group.appendChild(s),k.group.chartItemTextLabelY.push(s)}for(e=0;e<k.options.chartData.list.length;e++){var a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("font-size",k.options.chartData.dataFontSize),a.setAttribute("stroke","none"),a.setAttribute("fill",k.options.chartData.dataFontColor),null!=k.options.chartData.list[e].text&&null!=k.options.chartData.list[e].text&&(a.textContent=k.options.chartData.list[e].value),k.group.appendChild(a),k.group.chartItemTextValue.push(a);var n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("font-size",k.options.chartData.axisFontSize),n.setAttribute("stroke",k.options.chartData.axisFontColor),null!=k.options.chartData.list[e].text&&null!=k.options.chartData.list[e].text&&(n.textContent=k.options.chartData.list[e].value),k.group.appendChild(n),k.group.chartItemTextLabelX.push(n)}k.refresh(213)},k.ajaxCallback=function(t){k.setDataList(t)},1==t){o="rect";if(sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),null==k.options.chartData||null==k.options.chartData){R={max:100,min:0,axisLabelWidth:50,axisFontSize:12,axisColor:"black",axisFontColor:"#222222",dataFontSize:8,dataFontColor:"darkblue",dataLineColor:"blue",dataFillColor:"yellow",list:[{label:"a",value:10},{label:"b",value:20},{label:"c",value:30},{label:"d",value:90},{label:"e",value:100},{label:"f",value:30},{label:"g",value:44},{label:"h",value:33},{label:"i",value:79}]};k.options.chartData=R,k.setData(R),k.setDataList(R.list)}else k.setData(k.options.chartData),k.setDataList(k.options.chartData.list)}l=k.options.width/2,g=k.options.height/2;if(null!=k.options.chartData&&null!=k.options.chartData){if(null==(x=(R=k.options.chartData).max))for(s=0;s<R.list.length;s++)0==s?x=R.list[s].value:R.list[s].value>x&&(x=R.list[s].value);if(null==(w=R.min))for(s=0;s<R.list.length;s++)0==s?w=R.list[s].value:R.list[s].value<w&&(w=R.list[s].value);l=k.options.width,g=k.options.height-30,G=(l-k.options.chartData.axisLabelWidth)/k.options.chartData.list.length,T="";var kt=g-(g-30)*(0-w)/(x-w)-g/2-30,St=0,Tt=0,Ct=0;for(s=0;s<k.options.chartData.list.length;s++){N=s*G+k.options.chartData.axisLabelWidth-k.options.width/2,D=g-(g-30)*(k.options.chartData.list[s].value-w)/(x-w)-g/2-30;T=0==s?"M"+(Tt=N)+","+(Ct=D):T+" L"+N+","+D,St=N}T=T+"L"+St+","+kt+" L"+Tt+","+kt+" L"+Tt+","+Ct,k.group.chartItemLine[0].setAttribute("d",T);Lt="";Lt="M "+(l/-2+k.options.chartData.axisLabelWidth)+","+g/-2+" L"+(l/-2+k.options.chartData.axisLabelWidth)+","+(g/2-30)+" L"+l/2+","+(g/2-30),k.group.chartItemAxis[0].setAttribute("d",Lt);for(s=0;s<k.options.chartData.list.length;s++){N=s*G+k.options.chartData.axisLabelWidth-k.options.width/2,D=g-(g-30)*(k.options.chartData.list[s].value-w)/(x-w)-g/2-30;k.group.chartItemTextValue[s].setAttribute("x",N),k.group.chartItemTextValue[s].setAttribute("y",D-2),k.group.chartItemTextValue[s].setAttribute("text-anchor","middle"),null!=k.options.chartData.list[s].value&&null!=k.options.chartData.list[s].value&&(k.group.chartItemTextValue[s].textContent=k.options.chartData.list[s].value),k.group.chartItemTextLabelX[s].setAttribute("x",N),k.group.chartItemTextLabelX[s].setAttribute("y",g/2-10),k.group.chartItemTextLabelX[s].setAttribute("text-anchor","middle"),null!=k.options.chartData.list[s].label&&null!=k.options.chartData.list[s].label&&(k.group.chartItemTextLabelX[s].textContent=k.options.chartData.list[s].label)}k.group.chartItemTextLabelY[0].setAttribute("x",l/-2+45),k.group.chartItemTextLabelY[0].setAttribute("y",g/2-30),k.group.chartItemTextLabelY[0].setAttribute("text-anchor","end"),k.group.chartItemTextLabelY[0].textContent=w,k.group.chartItemTextLabelY[1].setAttribute("x",l/-2+45),k.group.chartItemTextLabelY[1].setAttribute("y",g/-2),k.group.chartItemTextLabelY[1].setAttribute("text-anchor","end"),k.group.chartItemTextLabelY[1].textContent=x,k.group.chartItemTextLabelY[2].setAttribute("x",l/-2+45),k.group.chartItemTextLabelY[2].setAttribute("y",-10),k.group.chartItemTextLabelY[2].textContent=(x-w)/2,k.group.chartItemTextLabelY[2].setAttribute("text-anchor","end")}return k}if("barchart"==k.tagName){if(k.setData=function(t){k.options.data.max=t.max,k.options.data.min=t.min,k.options.axisLabelWidth=t.axisLabelWidth,k.options.axisFontSize=t.axisFontSize,k.options.axisColor=t.axisColor,k.options.axisFontColor=t.axisFontColor,k.options.dataFontSize=t.dataFontSize,k.options.dataFontColor=t.dataFontColor,k.options.dataLineColor=t.dataLineColor,k.options.dataFillColor=t.dataFillColor},k.setDataList=function(t){if(null!=k.group.chartItemLine)for(var e=k.group.chartItemLine.length-1;0<=e;e--)k.group.removeChild(k.group.chartItemLine[e]);if(null!=k.group.chartItemTextValue)for(e=k.group.chartItemTextValue.length-1;0<=e;e--)k.group.removeChild(k.group.chartItemTextValue[e]);if(null!=k.group.chartItemTextLabelX)for(e=k.group.chartItemTextLabelX.length-1;0<=e;e--)k.group.removeChild(k.group.chartItemTextLabelX[e]);if(null!=k.group.chartItemTextLabelY)for(e=k.group.chartItemTextLabelY.length-1;0<=e;e--)k.group.removeChild(k.group.chartItemTextLabelY[e]);if(null!=k.group.chartItemAxis)for(e=k.group.chartItemAxis.length-1;0<=e;e--)k.group.removeChild(k.group.chartItemAxis[e]);k.options.chartData.list=t,k.group.chartItemAxis=[],k.group.chartItemLine=[],k.group.chartItemTextValue=[],k.group.chartItemTextLabelX=[],k.group.chartItemTextLabelY=[];var o=[],i=[];o[0]=document.createElementNS("http://www.w3.org/2000/svg","path"),i[0]=document.createElementNS("http://www.w3.org/2000/svg","path");var r=k.options.width;k.options.height,k.options.chartData.axisLabelWidth,k.options.chartData.list.length;o[0].setAttribute("d",""),o[0].setAttribute("stroke",k.options.chartData.axisColor),o[0].setAttribute("stroke-width",k.options["stroke-width"]),o[0].setAttribute("fill","none"),i[0].setAttribute("d",""),i[0].setAttribute("stroke",k.options.chartData.dataLineColor),i[0].setAttribute("fill",k.options.chartData.dataFillColor),i[0].setAttribute("stroke-width",k.options["stroke-width"]),k.group.appendChild(o[0]),k.group.appendChild(i[0]),k.group.chartItemAxis.push(o[0]),k.group.chartItemLine.push(i[0]);for(e=0;e<3;e++){var s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("font-size",k.options.chartData.axisFontSize),s.setAttribute("stroke",k.options.chartData.axisColor),k.group.appendChild(s),k.group.chartItemTextLabelY.push(s)}for(e=0;e<k.options.chartData.list.length;e++){var a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("font-size",k.options.chartData.dataFontSize),a.setAttribute("stroke","none"),a.setAttribute("fill",k.options.chartData.dataFontColor),null!=k.options.chartData.list[e].text&&null!=k.options.chartData.list[e].text&&(a.textContent=k.options.chartData.list[e].value),k.group.appendChild(a),k.group.chartItemTextValue.push(a);var n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("font-size",k.options.chartData.axisFontSize),n.setAttribute("stroke",k.options.chartData.axisFontColor),null!=k.options.chartData.list[e].text&&null!=k.options.chartData.list[e].text&&(n.textContent=k.options.chartData.list[e].value),k.group.appendChild(n),k.group.chartItemTextLabelX.push(n)}k.refresh(214)},k.ajaxCallback=function(t){k.setDataList(t)},1==t){o="rect";if(sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),null==k.options.chartData||null==k.options.chartData){R={max:100,min:0,axisLabelWidth:50,axisFontSize:12,axisColor:"black",axisFontColor:"#222222",dataFontSize:8,dataFontColor:"darkblue",dataLineColor:"blue",dataFillColor:"yellow",list:[{label:"a",value:10},{label:"b",value:20},{label:"c",value:30},{label:"d",value:90},{label:"e",value:100},{label:"f",value:30},{label:"g",value:44},{label:"h",value:33},{label:"i",value:79}]};k.options.chartData=R,k.setData(R),k.setDataList(R.list)}else k.setData(k.options.chartData),k.setDataList(k.options.chartData.list)}l=k.options.width/2,g=k.options.height/2;if(null!=k.options.chartData&&null!=k.options.chartData){if(null==(x=(R=k.options.chartData).max))for(s=0;s<R.list.length;s++)0==s?x=R.list[s].value:R.list[s].value>x&&(x=R.list[s].value);if(null==(w=R.min))for(s=0;s<R.list.length;s++)0==s?w=R.list[s].value:R.list[s].value<w&&(w=R.list[s].value);for(l=k.options.width,g=k.options.height-30,G=(l-k.options.chartData.axisLabelWidth)/k.options.chartData.list.length,T="",kt=g-(g-30)*(0-w)/(x-w)-g/2-30,s=0;s<k.options.chartData.list.length;s++){N=s*G+k.options.chartData.axisLabelWidth-k.options.width/2,D=g-(g-30)*(k.options.chartData.list[s].value-w)/(x-w)-g/2-30;T=0==s?"M"+N+","+D+"L"+(N+G)+","+D+" L"+(N+G)+","+kt+" L"+N+","+kt+" L"+N+","+D:T+"M"+N+","+D+"L"+(N+G)+","+D+" L"+(N+G)+","+kt+" L"+N+","+kt+" L"+N+","+D}k.group.chartItemLine[0].setAttribute("d",T);Lt="";Lt="M "+(l/-2+k.options.chartData.axisLabelWidth)+","+g/-2+" L"+(l/-2+k.options.chartData.axisLabelWidth)+","+(g/2-30)+" L"+l/2+","+(g/2-30),k.group.chartItemAxis[0].setAttribute("d",Lt);for(s=0;s<k.options.chartData.list.length;s++){N=s*G+k.options.chartData.axisLabelWidth-k.options.width/2+G/2,D=g-(g-30)*(k.options.chartData.list[s].value-w)/(x-w)-g/2-30;k.group.chartItemTextValue[s].setAttribute("x",N),k.group.chartItemTextValue[s].setAttribute("y",D-2),k.group.chartItemTextValue[s].setAttribute("text-anchor","middle"),null!=k.options.chartData.list[s].value&&null!=k.options.chartData.list[s].value&&(k.group.chartItemTextValue[s].textContent=k.options.chartData.list[s].value),k.group.chartItemTextLabelX[s].setAttribute("x",N),k.group.chartItemTextLabelX[s].setAttribute("y",g/2-10),k.group.chartItemTextLabelX[s].setAttribute("text-anchor","middle"),null!=k.options.chartData.list[s].label&&null!=k.options.chartData.list[s].label&&(k.group.chartItemTextLabelX[s].textContent=k.options.chartData.list[s].label)}k.group.chartItemTextLabelY[0].setAttribute("x",l/-2+45),k.group.chartItemTextLabelY[0].setAttribute("y",g/2-30),k.group.chartItemTextLabelY[0].setAttribute("text-anchor","end"),k.group.chartItemTextLabelY[0].textContent=w,k.group.chartItemTextLabelY[1].setAttribute("x",l/-2+45),k.group.chartItemTextLabelY[1].setAttribute("y",g/-2),k.group.chartItemTextLabelY[1].setAttribute("text-anchor","end"),k.group.chartItemTextLabelY[1].textContent=x,k.group.chartItemTextLabelY[2].setAttribute("x",l/-2+45),k.group.chartItemTextLabelY[2].setAttribute("y",-10),k.group.chartItemTextLabelY[2].textContent=(x-w)/2,k.group.chartItemTextLabelY[2].setAttribute("text-anchor","end")}return k}if("rulerDot"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.options.distanceTextAlign="top",k.group.tag.setAttribute("baseRulerDot",!0)}l=k.get("width"),g=k.get("height"),T="M"+-.5*l+","+-.5*g+" L"+.5*l+","+-.5*g+" L"+.5*l+","+.5*g+" L"+-.5*l+","+.5*g+" Z";return k.group.tag.setAttribute("d",T),k}if("rulerHor"==k.tagName){if(1==t){o="path";if(sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.options.distanceTextAlignVer="top",1==k.options.distance)(Nt=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("xmlns","http://www.w3.org/2000/svg"),Nt.setAttribute("stroke",k.options.stroke),Nt.setAttribute("stroke-width",k.options["stroke-width"]),Nt.setAttribute("id",k.get("figureId")+"_"+s),Nt.setAttribute("fill","none"),Nt.textContent="AAA",k.group.appendChild(Nt),k.group.textDistance=Nt}l=k.get("width"),T="M0,"+-.5*(g=k.get("height"))+" L-5,"+(-.5*g+5)+" L-5,"+(-.5*g+15)+" L0,"+(-.5*g+20)+" L5,"+(-.5*g+15)+" L5,"+(-.5*g+5)+" L0,"+-.5*g+" M0,"+.5*g+" L-5,"+(.5*g-5)+" L-5,"+(.5*g-15)+" L0,"+(.5*g-20)+" L5,"+(.5*g-15)+" L5,"+(.5*g-5)+" L0,"+.5*g+" M0,"+(-.5*g+20)+" L0,"+(.5*g-20)+" ";return k.group.tag.setAttribute("d",T),k}if("rulerVer"==k.tagName){if(1==t){var Nt;o="path";if(sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.options.distanceTextAlign="left",1==k.options.distance)(Nt=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("xmlns","http://www.w3.org/2000/svg"),Nt.setAttribute("stroke",k.options.stroke),Nt.setAttribute("stroke-width",k.options["stroke-width"]),Nt.setAttribute("id",k.get("figureId")+"_"+s),Nt.setAttribute("fill","none"),Nt.textContent="AAA",k.group.appendChild(Nt),k.group.textDistance=Nt}l=k.get("width"),g=k.get("height"),T="M"+-.5*l+",0 L"+(-.5*l+5)+",-5 L"+(-.5*l+15)+",-5 L"+(-.5*l+20)+",0 L"+(-.5*l+15)+",5 L"+(-.5*l+5)+",5 L"+-.5*l+",0 M"+.5*l+",0 L"+(.5*l-5)+",-5 L"+(.5*l-15)+",-5 L"+(.5*l-20)+",0 L"+(.5*l-15)+",5 L"+(.5*l-5)+",5 L"+.5*l+",0 M"+(-.5*l+20)+",0 L"+(.5*l-20)+",0 ";return k.group.tag.setAttribute("d",T),k}if("seqObject"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.group.tag.setAttribute("groupAction",!0),(de=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options["stroke-width"]),de.setAttribute("fill","none"),k.group.appendChild(de),k.group.subTag1=de,k.options.joinDotsPosCalc.push({}),(zt=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx",0),zt.setAttribute("cy",k.options.outerHeight),zt.setAttribute("fill-opacity",1),zt.setAttribute("r",5),zt.setAttribute("stroke","black"),zt.setAttribute("fill","red"),zt.setAttribute("visibility","visible"),zt.setAttribute("dotIndex",8),k.options.dotsPos.push({x:0,y:k.options.outerHeight}),k.group.appendChild(zt),k.group.dots.push(zt)}return k.group.subTag1.setAttribute("x1",0),k.group.subTag1.setAttribute("y1",k.get("height")),k.group.subTag1.setAttribute("x2",0),k.group.subTag1.setAttribute("y2",k.get("outerHeight")),k}if("seqMultipleObject"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.group.tag.setAttribute("groupAction",!0),(le=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("stroke",k.options.stroke),le.setAttribute("stroke-width",k.options["stroke-width"]),le.setAttribute("fill","none"),le.style.fill="none",(pe=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("stroke",k.options.stroke),pe.setAttribute("stroke-width",k.options["stroke-width"]),pe.setAttribute("fill","none"),pe.style.fill="none",k.group.subTag3=le,k.group.subTag2=pe,k.group.appendChild(le),k.group.appendChild(pe),(de=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options["stroke-width"]),de.setAttribute("fill","none"),k.group.appendChild(de),k.group.subTag1=de,k.options.joinDotsPosCalc.push({}),(zt=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx",0),zt.setAttribute("cy",k.options.outerHeight),zt.setAttribute("fill-opacity",1),zt.setAttribute("r",5),zt.setAttribute("stroke","black"),zt.setAttribute("fill","red"),zt.setAttribute("visibility","visible"),zt.setAttribute("dotIndex",8),k.options.dotsPos.push({x:0,y:k.options.outerHeight}),k.group.appendChild(zt),k.group.dots.push(zt)}k.group.subTag1.setAttribute("x1",0),k.group.subTag1.setAttribute("y1",k.get("height")),k.group.subTag1.setAttribute("x2",0),k.group.subTag1.setAttribute("y2",k.get("outerHeight")),Xt=Number(k.get("width"))/-2,B=-.4*Number(k.get("width")),W=-.4*Number(k.get("width")),ee=-.3*Number(k.get("width")),Ut=-.3*Number(k.get("width")),ie=Number(k.get("width"))/2,ne=Number(k.get("width"))/2,Pt=.4*Number(k.get("width")),Et=.4*Number(k.get("width")),Mt=.3*Number(k.get("width")),Ot=.25*Number(k.get("width")),Wt=0,x13=-.25*Number(k.get("width")),x14=Number(k.get("width"))/-2,Zt=-.3*Number(k.get("height")),j=-.3*Number(k.get("height")),qt=-.4*Number(k.get("height")),oe=-.4*Number(k.get("height")),Jt=Number(k.get("height"))/-2,re=Number(k.get("height"))/-2,ue=.3*Number(k.get("height")),Rt=.3*Number(k.get("height")),_t=.4*Number(k.get("height")),Ft=.4*Number(k.get("height")),Ht=.3*Number(k.get("height")),Yt=Number(k.get("height"))/2,y13=.7*Number(k.get("height")),y14=.6*Number(k.get("height"));T="M"+Xt+","+Zt+" L"+B+","+j+" L"+W+","+qt+" L"+ee+","+oe+" L"+Ut+","+Jt+" L"+ie+","+re+" L"+ne+","+ue+" L"+Pt+","+Rt+" L"+Et+","+_t+" L"+Mt+","+Ft+" Q"+Ot+","+Ht+" "+Wt+","+Yt+" Q"+x13+","+y13+" "+x14+","+y14+" L"+Xt+","+Zt+" Z";k.group.tag.setAttribute("d",T);var Dt="M"+Number(-.4*k.get("width"))+","+Number(-.3*k.get("height"))+" L"+Number(.3*k.get("width"))+","+Number(-.3*k.get("height"))+" L"+Number(.3*k.get("width"))+","+Number(.4*k.get("height"));k.group.subTag3.setAttribute("d",Dt);var It="M"+Number(-.3*k.get("width"))+","+Number(-.4*k.get("height"))+" L"+Number(.4*k.get("width"))+","+Number(-.4*k.get("height"))+" L"+Number(.4*k.get("width"))+","+Number(.3*k.get("height"));return k.group.subTag2.setAttribute("d",It),k}if("seqActor"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.group.tag.setAttribute("groupAction",!0),(de=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options["stroke-width"]),de.setAttribute("fill","none"),k.group.appendChild(de),k.group.subTag1=de,k.options.joinDotsPosCalc.push({}),(zt=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx",0),zt.setAttribute("cy",k.options.outerHeight),zt.setAttribute("fill-opacity",1),zt.setAttribute("r",5),zt.setAttribute("stroke","black"),zt.setAttribute("fill","red"),zt.setAttribute("visibility","visible"),zt.setAttribute("dotIndex",8),k.options.dotsPos.push({x:0,y:k.options.outerHeight}),k.group.appendChild(zt),k.group.dots.push(zt)}l=k.get("width"),g=k.get("height");return B=Xt=0,Ot=-.15*k.get("width"),Wt=.15*k.get("width"),Zt=-.2*k.get("height"),j=-.5*k.get("height"),Ht=-.35*k.get("height"),Yt=-.35*k.get("height"),ee=0,oe=.15*k.get("height"),Ut=k.get("width")/-2,ie=k.get("width")/2,Jt=-.1*k.get("height"),re=-.1*k.get("height"),ne=0,Pt=k.get("width")/-2,Et=k.get("width")/2,ue=.15*k.get("height"),Rt=.5*k.get("height"),_t=.5*k.get("height"),T="M0,"+-.5*g+" a"+.15*g+" "+.15*g+" 0 1 1 -0.00001 0 M"+ee+","+-.2*g+" L"+ee+","+oe+" M"+Ut+","+Jt+" L"+ie+","+re+" M"+ne+","+ue+" L"+Pt+","+Rt+" M"+ne+","+ue+" L"+Et+","+_t+" ",k.group.tag.setAttribute("d",T),k.group.subTag1.setAttribute("x1",0),k.group.subTag1.setAttribute("y1",k.get("height")),k.group.subTag1.setAttribute("x2",0),k.group.subTag1.setAttribute("y2",k.get("outerHeight")),k}if("seqEditDialog"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.group.tag.setAttribute("groupAction",!0),k.group.tag.setAttribute("visibility","hidden"),(ge=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("stroke",f.stroke),ge.setAttribute("stroke-width",f["stroke-width"]),ge.setAttribute("fill",f.fill),ge.setAttribute("groupAction",!0),(pe=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),pe.setAttribute("stroke-width",k.options["stroke-width"]),pe.setAttribute("fill","none"),pe.setAttribute("groupAction",!0),(le=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),le.setAttribute("stroke-width",k.options["stroke-width"]),le.setAttribute("fill","none"),le.setAttribute("groupAction",!0),(de=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options["stroke-width"]),de.setAttribute("fill","none"),k.group.appendChild(pe),k.group.appendChild(le),k.group.appendChild(ge),k.group.appendChild(de),k.group.subTag2=pe,k.group.subTag3=le,k.group.subTag4=ge,k.group.subTag1=de,k.options.joinDotsPosCalc.push({}),(zt=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx",0),zt.setAttribute("cy",k.options.outerHeight),zt.setAttribute("fill-opacity",1),zt.setAttribute("r",5),zt.setAttribute("stroke","black"),zt.setAttribute("fill","red"),zt.setAttribute("visibility","visible"),zt.setAttribute("dotIndex",8),k.options.dotsPos.push({x:0,y:k.options.outerHeight}),k.group.appendChild(zt),k.group.dots.push(zt)}return k.group.subTag4.setAttribute("cx",.2*k.get("width")),k.group.subTag4.setAttribute("cy",0),k.group.subTag4.setAttribute("r",.5*k.get("height")),k.group.subTag2.setAttribute("x1",k.get("width")/-2),k.group.subTag2.setAttribute("y1",-.5*k.get("height")),k.group.subTag2.setAttribute("x2",k.get("width")/-2),k.group.subTag2.setAttribute("y2",.5*k.get("height")),k.group.subTag3.setAttribute("x1",k.get("width")/-2),k.group.subTag3.setAttribute("y1",0),k.group.subTag3.setAttribute("x2",-.1*k.get("height")),k.group.subTag3.setAttribute("y2",0),k.group.subTag1.setAttribute("x1",0),k.group.subTag1.setAttribute("y1",k.get("height")),k.group.subTag1.setAttribute("x2",0),k.group.subTag1.setAttribute("y2",k.get("outerHeight")),k}if("seqEditController"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.group.tag.setAttribute("visibility","hidden"),k.group.tag.setAttribute("groupAction",!0),(ge=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("stroke",f.stroke),ge.setAttribute("stroke-width",f["stroke-width"]),ge.setAttribute("fill",f.fill),ge.setAttribute("groupAction",!0),(pe=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),pe.setAttribute("stroke-width",k.options["stroke-width"]),pe.setAttribute("fill","none"),pe.setAttribute("groupAction",!0),(le=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),le.setAttribute("stroke-width",k.options["stroke-width"]),le.setAttribute("fill","none"),le.setAttribute("groupAction",!0),(de=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options["stroke-width"]),de.setAttribute("fill","none"),k.group.appendChild(de),k.group.appendChild(pe),k.group.appendChild(le),k.group.appendChild(ge),k.group.subTag1=de,k.group.subTag2=pe,k.group.subTag3=le,k.group.subTag4=ge,k.options.joinDotsPosCalc.push({}),(zt=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx",0),zt.setAttribute("cy",k.options.outerHeight),zt.setAttribute("fill-opacity",1),zt.setAttribute("r",5),zt.setAttribute("stroke","black"),zt.setAttribute("fill","red"),zt.setAttribute("visibility","visible"),zt.setAttribute("dotIndex",8),k.options.dotsPos.push({x:0,y:k.options.outerHeight}),k.group.appendChild(zt),k.group.dots.push(zt)}return k.group.subTag4.setAttribute("cx",0),k.group.subTag4.setAttribute("cy",0),k.group.subTag4.setAttribute("r",.5*k.get("height")),k.group.subTag2.setAttribute("x1",0),k.group.subTag2.setAttribute("y1",-.5*k.get("height")),k.group.subTag2.setAttribute("x2",.1*k.get("width")),k.group.subTag2.setAttribute("y2",-.6*k.get("height")),k.group.subTag3.setAttribute("x1",0),k.group.subTag3.setAttribute("y1",-.5*k.get("height")),k.group.subTag3.setAttribute("x2",.1*k.get("width")),k.group.subTag3.setAttribute("y2",-.4*k.get("height")),k.group.subTag1.setAttribute("x1",0),k.group.subTag1.setAttribute("y1",k.get("height")),k.group.subTag1.setAttribute("x2",0),k.group.subTag1.setAttribute("y2",k.get("outerHeight")),k}if("seqEditEntity"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.group.tag.setAttribute("visibility","hidden"),k.group.tag.setAttribute("groupAction",!0),(le=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("stroke",f.stroke),le.setAttribute("stroke-width",f["stroke-width"]),le.setAttribute("fill",f.fill),le.setAttribute("groupAction",!0),(pe=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),pe.setAttribute("stroke-width",k.options["stroke-width"]),pe.setAttribute("fill","none"),pe.setAttribute("groupAction",!0),(de=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options["stroke-width"]),de.setAttribute("fill","none"),k.group.appendChild(pe),k.group.appendChild(le),k.group.appendChild(de),k.group.subTag2=pe,k.group.subTag3=le,k.group.subTag1=de,k.options.joinDotsPosCalc.push({}),(zt=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx",0),zt.setAttribute("cy",k.options.outerHeight),zt.setAttribute("fill-opacity",1),zt.setAttribute("r",5),zt.setAttribute("stroke","black"),zt.setAttribute("fill","red"),zt.setAttribute("visibility","visible"),zt.setAttribute("dotIndex",8),k.options.dotsPos.push({x:0,y:k.options.outerHeight}),k.group.appendChild(zt),k.group.dots.push(zt)}return k.group.subTag3.setAttribute("cx",0),k.group.subTag3.setAttribute("cy",0),k.group.subTag3.setAttribute("r",.5*k.get("height")),k.group.subTag2.setAttribute("x1",-.5*k.get("width")),k.group.subTag2.setAttribute("y1",.5*k.get("height")),k.group.subTag2.setAttribute("x2",.5*k.get("width")),k.group.subTag2.setAttribute("y2",.5*k.get("height")),k.group.subTag1.setAttribute("x1",0),k.group.subTag1.setAttribute("y1",k.get("height")),k.group.subTag1.setAttribute("x2",0),k.group.subTag1.setAttribute("y2",k.get("outerHeight")),k}if("seqEditDatabase"==k.tagName){if(1==t){var zt;o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.group.tag.setAttribute("groupAction",!0),(pe=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("stroke",k.options.stroke),pe.setAttribute("stroke-width",k.options["stroke-width"]),pe.setAttribute("fill","none"),pe.setAttribute("groupAction",!0),k.group.appendChild(pe),k.group.subTag2=pe,(de=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options["stroke-width"]),de.setAttribute("fill","none"),de.style.fill="none",k.options.joinDotsPosCalc.push({}),(zt=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx",0),zt.setAttribute("cy",k.options.outerHeight),zt.setAttribute("fill-opacity",1),zt.setAttribute("r",5),zt.setAttribute("stroke","black"),zt.setAttribute("fill","red"),zt.setAttribute("visibility","visible"),zt.setAttribute("dotIndex",8),k.options.dotsPos.push({x:0,y:k.options.outerHeight}),k.group.appendChild(zt),k.group.dots.push(zt),k.group.appendChild(de),k.group.subTag1=de}Xt=-.5*Number(k.get("width")),B=0*Number(k.get("width")),W=.5*Number(k.get("width")),ee=.5*Number(k.get("width")),Ut=0*Number(k.get("width")),ie=-.5*Number(k.get("width"));T="M"+Xt+","+(Zt=Number(-.35*k.get("height")))+" Q"+B+","+(j=Number(-.65*k.get("height")))+" "+W+","+(qt=Number(-.35*k.get("height")))+" L"+ee+","+(oe=Number(.35*k.get("height")))+" Q"+Ut+","+(Jt=Number(.65*k.get("height")))+" "+ie+","+(re=Number(.35*k.get("height")))+" L"+Xt+","+Zt+" ";k.group.tag.setAttribute("d",T);var Gt=-.5*Number(k.get("width")),Bt=0*Number(k.get("width")),jt=.5*Number(k.get("width"));Dt="M"+Gt+","+-.35*Number(k.get("height"))+" Q"+Bt+","+-.15*Number(k.get("height"))+" "+jt+","+-.35*Number(k.get("height"))+" ";return k.group.subTag2.setAttribute("d",Dt),k.group.subTag1.setAttribute("x1",0),k.group.subTag1.setAttribute("y1",k.get("height")),k.group.subTag1.setAttribute("x2",0),k.group.subTag1.setAttribute("y2",k.get("outerHeight")),k}if("seqDescription"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),(de=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options["stroke-width"]),de.setAttribute("fill","none"),k.group.appendChild(de),k.group.subTag1=de,(pe=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),pe.setAttribute("stroke-width",k.options["stroke-width"]),pe.setAttribute("fill","none"),k.group.appendChild(pe),k.group.subTag2=pe}Xt=-.5*Number(k.get("width")),B=.35*Number(k.get("width")),W=.5*Number(k.get("width")),ee=.5*Number(k.get("width")),Ut=-.5*Number(k.get("width"));T="M"+Xt+","+(Zt=Number(k.get("height"))/-2)+" L"+B+","+(j=Number(k.get("height"))/-2)+" L"+W+","+(qt=-.3*Number(k.get("height")))+" L"+ee+","+(oe=.5*Number(k.get("height")))+" L"+Ut+","+(Jt=.5*Number(k.get("height")))+" z";return k.group.tag.setAttribute("d",T),k.group.subTag1.setAttribute("x1",.35*k.get("width")),k.group.subTag1.setAttribute("y1",-.5*k.get("height")),k.group.subTag1.setAttribute("x2",.35*k.get("width")),k.group.subTag1.setAttribute("y2",-.3*k.get("height")),k.group.subTag2.setAttribute("x1",.35*k.get("width")),k.group.subTag2.setAttribute("y1",-.3*k.get("height")),k.group.subTag2.setAttribute("x2",.5*k.get("width")),k.group.subTag2.setAttribute("y2",-.3*k.get("height")),k}if("seqDestroy"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}var Pt,Et,Mt,Ot,Wt,Rt,_t,Ft,Ht,Yt;Xt=-.4*Number(k.get("width")),B=0*Number(k.get("width")),W=.4*Number(k.get("width")),ee=.5*Number(k.get("width")),Ut=.1*Number(k.get("width")),ie=.5*Number(k.get("width")),ne=.4*Number(k.get("width")),Pt=0*Number(k.get("width")),Et=-.4*Number(k.get("width")),Mt=-.5*Number(k.get("width")),Ot=-.1*Number(k.get("width")),Wt=-.5*Number(k.get("width"));T="M"+Xt+","+(Zt=-.5*Number(k.get("width")))+" L"+B+","+(j=-.1*Number(k.get("width")))+" L"+W+","+(qt=-.5*Number(k.get("width")))+" L"+ee+","+(oe=-.4*Number(k.get("width")))+" L"+Ut+","+(Jt=0*Number(k.get("width")))+" L"+ie+","+(re=.4*Number(k.get("width")))+" L"+ne+","+(ue=.5*Number(k.get("width")))+" L"+Pt+","+(Rt=.1*Number(k.get("width")))+" L"+Et+","+(_t=.5*Number(k.get("width")))+" L"+Mt+","+(Ft=.4*Number(k.get("width")))+" L"+Ot+","+(Ht=0*Number(k.get("width")))+" L"+Wt+","+(Yt=-.4*Number(k.get("width")))+" z";return k.group.tag.setAttribute("d",T),k}if("seqArea"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}return k}if("seqRect"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}return k}if("syncmessage"==k.tagName||"syncmessagedot"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),(de=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options["stroke-width"]),de.setAttribute("stroke-array","none"),de.setAttribute("fill","none"),k.group.appendChild(de),k.group.subTag1=de}var Xt=-.5*k.options.width,Zt=0,Kt=1;(B=.5*k.options.width)<=Xt&&(Kt=-1);T="M"+Xt+","+Zt+" L"+B+","+(j=0)+" ",It="M"+(B-10*Kt)+","+(j-5)+" L"+(B-10*Kt)+","+(j+5)+" L"+B+","+j;return k.group.subTag1.setAttribute("d",It),k.group.tag.setAttribute("d",T),k}if("asyncmessage"==k.tagName||"asyncmessagedot"==k.tagName){if(1==t){o="path";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),(de=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options["stroke-width"]),de.setAttribute("stroke-array","none"),de.setAttribute("fill","none"),k.group.appendChild(de),k.group.subTag1=de}T="M"+(Xt=-.5*k.options.width)+","+(Zt=0)+" L"+(B=.5*k.options.width)+","+(j=0)+" ";k.group.tag.setAttribute("d",T);Kt=1;B<=Xt&&(Kt=-1);It="M"+B+","+j+" L"+(B-10*Kt)+","+(j-5)+" M"+B+","+j+" L"+(B-10*Kt)+","+(j+5)+" ";return k.group.subTag1.setAttribute("stroke-array","none"),k.group.subTag1.setAttribute("d",It),k}if("layer"==k.tagName){if(1==t){var Qt=sedLib.createLayer(f);k.options=f,(Qt.fg=k).group=Qt,k.sed.svg.appendChild(k.group)}return k}if("layerMap"==k.tagName){if(1==t){Qt=sedLib.createLayer(f);k.options=f,(Qt.fg=k).group=Qt,k.sed.svg.appendChild(k.group)}return k}if("layerDistance"==k.tagName){if(1==t){Qt=sedLib.createLayer(f);k.options=f,(Qt.fg=k).group=Qt,k.sed.svg.appendChild(k.group)}return k}if("layer3d"==k.tagName){l=(k.options.rowBlock+k.options.colBlock)*k.unitWidth,g=(k.options.rowBlock+k.options.colBlock)*k.unitHeight;if(1==t){o="path";f.width=l,f.height=g,sedLib.createBasicLayer3D(k,f,o),k.sed.svg.appendChild(k.group),(de=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options["stroke-width"]),de.setAttribute("fill","none"),k.group.appendChild(de),k.group.subTag1=de}T="M"+0*k.unitWidth+","+0*k.unitHeight*-1+" L"+(0*k.options.rowBlock+k.options.colBlock)*k.unitWidth+","+(0*k.options.rowBlock+-1*k.options.colBlock)*k.unitHeight+" L"+(1*k.options.rowBlock+k.options.colBlock)*k.unitWidth+","+(1*k.options.rowBlock+-1*k.options.colBlock)*k.unitHeight+" L"+(1*k.options.rowBlock+0*k.options.colBlock)*k.unitWidth+","+(1*k.options.rowBlock+0*k.options.colBlock)*k.unitHeight+"  z";k.group.tag.setAttribute("d",T);var Vt="";for(s=0;s<k.options.rowBlock;s++)Vt=Vt+"M"+(0+s)*k.unitWidth+","+-s*k.unitHeight*-1+" L"+(k.options.colBlock+s)*k.unitWidth+","+(k.options.colBlock-s)*k.unitHeight*-1+"  ";for(s=0;s<k.options.colBlock;s++)Vt=Vt+"M"+(0+s)*k.unitWidth+","+s*k.unitHeight*-1+" L"+(k.options.rowBlock+s)*k.unitWidth+","+(s-k.options.rowBlock)*k.unitHeight*-1+"  ";k.group.subTag1.setAttribute("d",Vt);V=!1;return null!=k.options.filterImage&&null!=k.options.filterImage&&""!=k.options.filterImage&&(V=!0),null!=k.options.gaussianBlurStdDeviation&&null!=k.options.gaussianBlurStdDeviation&&""!=k.options.gaussianBlurStdDeviation&&(V=!0),null!=k.options.shadowStdDeviation&&null!=k.options.shadowStdDeviation&&""!=k.options.shadowStdDeviation&&(V=!0),1==V?k.group.tag.setAttribute("filter","url(#filter"+k.get("figureId")+")"):k.group.tag.removeAttribute("filter"),k}if("rect3d"==k.tagName){l=(k.options.rowBlock+k.options.colBlock)*k.unitWidth,g=(k.options.rowBlock+k.options.colBlock)*k.unitHeight;if(1==t){o="path";f.width=l,f.height=g,sedLib.createBasicShape3D(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}T="M0,0 L"+Number(k.options.colBlock)*k.unitWidth+","+Number(k.options.colBlock)*k.unitHeight*-1+" L"+(Number(k.options.colBlock)+Number(k.options.rowBlock))*k.unitWidth+","+(Number(k.options.colBlock)-Number(k.options.rowBlock))*k.unitHeight*-1+" L"+Number(k.options.rowBlock)*k.unitWidth+","+Number(k.options.rowBlock)*k.unitHeight*1+"  z";return k.group.tag.setAttribute("d",T),k}if("arrowbar3d"==k.tagName){l=(k.options.rowBlock+k.options.colBlock)*k.unitWidth,g=(k.options.rowBlock+k.options.colBlock)*k.unitHeight;if(1==t){o="path";f.width=l,f.height=g,sedLib.createBasicShape3D(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}W=Number(k.options.rowBlock)*k.unitWidth;var qt=Number(k.options.rowBlock)*k.unitHeight*1,Ut=0,Jt=0,$t=(Xt=(Number(k.options.colBlock)+Number(k.options.rowBlock))*k.unitWidth,Zt=(Number(k.options.colBlock)-Number(k.options.rowBlock))*k.unitHeight*-1,(Xt+(ne=Number(k.options.colBlock)*k.unitWidth))/2),te=(Zt+(ue=Number(k.options.colBlock)*k.unitHeight*-1))/2,ee=(B=(Xt+W)/2,j=(Zt+qt)/2,(W+Ut)/2),oe=(qt+Jt)/2,ie=(Ut+ne)/2,re=(Jt+ue)/2,se=(Xt+Ut)/2,ae=(Zt+Jt)/2;T="";return 0==k.get("rotate3D")?T="M"+$t+","+te+" L"+B+","+j+" L"+(B+se)/2+","+(j+ae)/2+" L"+(W+ee)/2+","+(qt+oe)/2+" L"+(ee+Ut)/2+","+(oe+Jt)/2+" L"+(ie+se)/2+","+(re+ae)/2+" L"+ie+","+re+" z":1==k.get("rotate3D")?T="M"+B+","+j+" L"+ee+","+oe+" L"+(ee+se)/2+","+(oe+ae)/2+" L"+(Ut+ie)/2+","+(Jt+re)/2+" L"+(ie+ne)/2+","+(re+ue)/2+" L"+($t+se)/2+","+(te+ae)/2+" L"+$t+","+te+" z":2==k.get("rotate3D")?T="M"+ee+","+oe+" L"+ie+","+re+" L"+(ie+se)/2+","+(re+ae)/2+" L"+(ne+$t)/2+","+(ue+te)/2+" L"+($t+Xt)/2+","+(te+Zt)/2+" L"+(B+se)/2+","+(j+ae)/2+" L"+B+","+j+" z":3==k.get("rotate3D")&&(T="M"+ie+","+re+" L"+$t+","+te+" L"+($t+se)/2+","+(te+ae)/2+" L"+(B+Xt)/2+","+(j+Zt)/2+" L"+(W+B)/2+","+(qt+j)/2+" L"+(ee+se)/2+","+(oe+ae)/2+" L"+ee+","+oe+" z"),k.group.tag.setAttribute("d",T),k}if("linebar3d"==k.tagName){l=(k.options.rowBlock+k.options.colBlock)*k.unitWidth,g=(k.options.rowBlock+k.options.colBlock)*k.unitHeight;if(1==t){o="path";f.width=l,f.height=g,sedLib.createBasicShape3D(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}W=Number(k.options.rowBlock)*k.unitWidth,qt=Number(k.options.rowBlock)*k.unitHeight*1,Ut=0,Jt=0,Xt=(Number(k.options.colBlock)+Number(k.options.rowBlock))*k.unitWidth,Zt=(Number(k.options.colBlock)-Number(k.options.rowBlock))*k.unitHeight*-1,$t=(Xt+(ne=Number(k.options.colBlock)*k.unitWidth))/2,te=(Zt+(ue=Number(k.options.colBlock)*k.unitHeight*-1))/2,B=(Xt+W)/2,j=(Zt+qt)/2,ee=(W+Ut)/2,oe=(qt+Jt)/2,ie=(Ut+ne)/2,re=(Jt+ue)/2,se=(Xt+Ut)/2,ae=(Zt+Jt)/2,T="";return 0==k.get("rotate3D")?T="M"+($t+Xt)/2+","+(te+Zt)/2+" L"+(W+ee)/2+","+(qt+oe)/2+" L"+(ee+Ut)/2+","+(oe+Jt)/2+" L"+(ne+$t)/2+","+(ue+te)/2+" z":1==k.get("rotate3D")?T="M"+(Xt+B)/2+","+(Zt+j)/2+" L"+(B+W)/2+","+(j+qt)/2+" L"+(Ut+ie)/2+","+(Jt+re)/2+" L"+(ie+ne)/2+","+(re+ue)/2+" z":2==k.get("rotate3D")?T="M"+($t+Xt)/2+","+(te+Zt)/2+" L"+(W+ee)/2+","+(qt+oe)/2+" L"+(ee+Ut)/2+","+(oe+Jt)/2+" L"+(ne+$t)/2+","+(ue+te)/2+" z":3==k.get("rotate3D")&&(T="M"+(Xt+B)/2+","+(Zt+j)/2+" L"+(B+W)/2+","+(j+qt)/2+" L"+(Ut+ie)/2+","+(Jt+re)/2+" L"+(ie+ne)/2+","+(re+ue)/2+" z"),k.group.tag.setAttribute("d",T),k}if("linecurvebar3d"==k.tagName){l=(k.options.rowBlock+k.options.colBlock)*k.unitWidth,g=(k.options.rowBlock+k.options.colBlock)*k.unitHeight;if(1==t){o="path";f.width=l,f.height=g,sedLib.createBasicShape3D(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}W=Number(k.options.rowBlock)*k.unitWidth,qt=Number(k.options.rowBlock)*k.unitHeight*1,Ut=0,Jt=0,Xt=(Number(k.options.colBlock)+Number(k.options.rowBlock))*k.unitWidth,Zt=(Number(k.options.colBlock)-Number(k.options.rowBlock))*k.unitHeight*-1,$t=(Xt+(ne=Number(k.options.colBlock)*k.unitWidth))/2,te=(Zt+(ue=Number(k.options.colBlock)*k.unitHeight*-1))/2,B=(Xt+W)/2,j=(Zt+qt)/2,ee=(W+Ut)/2,oe=(qt+Jt)/2,ie=(Ut+ne)/2,re=(Jt+ue)/2,se=(Xt+Ut)/2,ae=(Zt+Jt)/2,T="";return 0==k.get("rotate3D")?T="M"+($t+Xt)/2+","+(te+Zt)/2+" L"+($t+B)/2+","+(te+j)/2+" L"+(Xt+B)/2+","+(Zt+j)/2+" L"+(B+W)/2+","+(j+qt)/2+" L"+(ee+ie)/2+","+(oe+re)/2+" L"+(ne+$t)/2+","+(ue+te)/2+" z":1==k.get("rotate3D")?T="M"+(B+W)/2+","+(j+qt)/2+" L"+(B+ee)/2+","+(j+oe)/2+" L"+(W+ee)/2+","+(qt+oe)/2+" L"+(ee+Ut)/2+","+(oe+Jt)/2+" L"+(ie+$t)/2+","+(re+te)/2+" L"+(Xt+B)/2+","+(Zt+j)/2+" z":2==k.get("rotate3D")?T="M"+(ee+Ut)/2+","+(oe+Jt)/2+" L"+(ee+ie)/2+","+(oe+re)/2+" L"+(Ut+ie)/2+","+(Jt+re)/2+" L"+(ie+ne)/2+","+(re+ue)/2+" L"+($t+B)/2+","+(te+j)/2+" L"+(W+ee)/2+","+(qt+oe)/2+" z":3==k.get("rotate3D")&&(T="M"+(ie+ne)/2+","+(re+ue)/2+" L"+(ie+$t)/2+","+(re+te)/2+" L"+(ne+$t)/2+","+(ue+te)/2+" L"+($t+Xt)/2+","+(te+Zt)/2+" L"+(B+ee)/2+","+(j+oe)/2+" L"+(Ut+ie)/2+","+(Jt+re)/2+" z"),k.group.tag.setAttribute("d",T),k}if("line3waybar3d"==k.tagName){l=(k.options.rowBlock+k.options.colBlock)*k.unitWidth,g=(k.options.rowBlock+k.options.colBlock)*k.unitHeight;if(1==t){o="path";f.width=l,f.height=g,sedLib.createBasicShape3D(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}W=Number(k.options.rowBlock)*k.unitWidth,qt=Number(k.options.rowBlock)*k.unitHeight*1,Ut=0,Jt=0,Xt=(Number(k.options.colBlock)+Number(k.options.rowBlock))*k.unitWidth,Zt=(Number(k.options.colBlock)-Number(k.options.rowBlock))*k.unitHeight*-1,$t=(Xt+(ne=Number(k.options.colBlock)*k.unitWidth))/2,te=(Zt+(ue=Number(k.options.colBlock)*k.unitHeight*-1))/2,B=(Xt+W)/2,j=(Zt+qt)/2,ee=(W+Ut)/2,oe=(qt+Jt)/2,ie=(Ut+ne)/2,re=(Jt+ue)/2,se=(Xt+Ut)/2,ae=(Zt+Jt)/2,T="";return 0==k.get("rotate3D")?T="M"+($t+Xt)/2+","+(te+Zt)/2+" L"+($t+B)/2+","+(te+j)/2+" L"+(Xt+B)/2+","+(Zt+j)/2+" L"+(B+W)/2+","+(j+qt)/2+" L"+(Ut+ie)/2+","+(Jt+re)/2+" L"+(ie+ne)/2+","+(re+ue)/2+" L"+(ie+$t)/2+","+(re+te)/2+" L"+(ne+$t)/2+","+(ue+te)/2+" z":1==k.get("rotate3D")?T="M"+(B+W)/2+","+(j+qt)/2+" L"+(B+ee)/2+","+(j+oe)/2+" L"+(W+ee)/2+","+(qt+oe)/2+" L"+(ee+Ut)/2+","+(oe+Jt)/2+" L"+(ne+$t)/2+","+(ue+te)/2+" L"+($t+Xt)/2+","+(te+Zt)/2+" L"+($t+B)/2+","+(te+j)/2+" L"+(Xt+B)/2+","+(Zt+j)/2+" z":2==k.get("rotate3D")?T="M"+(ee+Ut)/2+","+(oe+Jt)/2+" L"+(ee+ie)/2+","+(oe+re)/2+" L"+(Ut+ie)/2+","+(Jt+re)/2+" L"+(ie+ne)/2+","+(re+ue)/2+" L"+(Xt+B)/2+","+(Zt+j)/2+" L"+(B+W)/2+","+(j+qt)/2+" L"+(B+ee)/2+","+(j+oe)/2+" L"+(W+ee)/2+","+(qt+oe)/2+" z":3==k.get("rotate3D")&&(T="M"+(ie+ne)/2+","+(re+ue)/2+" L"+(ie+$t)/2+","+(re+te)/2+" L"+(ne+$t)/2+","+(ue+te)/2+" L"+($t+Xt)/2+","+(te+Zt)/2+" L"+(W+ee)/2+","+(qt+oe)/2+" L"+(ee+Ut)/2+","+(oe+Jt)/2+" L"+(ee+ie)/2+","+(oe+re)/2+" L"+(Ut+ie)/2+","+(Jt+re)/2+" z"),k.group.tag.setAttribute("d",T),k}if("linecrossbar3d"==k.tagName){l=(k.options.rowBlock+k.options.colBlock)*k.unitWidth,g=(k.options.rowBlock+k.options.colBlock)*k.unitHeight;if(1==t){o="path";f.width=l,f.height=g,sedLib.createBasicShape3D(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}var ne,ue;W=Number(k.options.rowBlock)*k.unitWidth,qt=Number(k.options.rowBlock)*k.unitHeight*1,Ut=0,Jt=0,se=((Xt=(Number(k.options.colBlock)+Number(k.options.rowBlock))*k.unitWidth)+Ut)/2,ae=((Zt=(Number(k.options.colBlock)-Number(k.options.rowBlock))*k.unitHeight*-1)+Jt)/2,T="";return T="M"+(($t=(Xt+(ne=Number(k.options.colBlock)*k.unitWidth))/2)+Xt)/2+","+((te=(Zt+(ue=Number(k.options.colBlock)*k.unitHeight*-1))/2)+Zt)/2+" L"+($t+(B=(Xt+W)/2))/2+","+(te+(j=(Zt+qt)/2))/2+" L"+(Xt+B)/2+","+(Zt+j)/2+" L"+(B+W)/2+","+(j+qt)/2+" L"+(B+(ee=(W+Ut)/2))/2+","+(j+(oe=(qt+Jt)/2))/2+" L"+(W+ee)/2+","+(qt+oe)/2+" L"+(ee+Ut)/2+","+(oe+Jt)/2+" L"+(ee+(ie=(Ut+ne)/2))/2+","+(oe+(re=(Jt+ue)/2))/2+" L"+(Ut+ie)/2+","+(Jt+re)/2+" L"+(ie+ne)/2+","+(re+ue)/2+" L"+(ie+$t)/2+","+(re+te)/2+" L"+(ne+$t)/2+","+(ue+te)/2+" z",k.group.tag.setAttribute("d",T),k}if("flowline3d"==k.tagName){if(1==t){var pe,le,ge,de;o="polyline";if(sedLib.createBasicLine3D(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.group.tag.setAttribute("stroke-dasharray",k.options.strokeDasharray),"line"==k.options.arrowType1)(de=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options.strokeWidth),de.setAttribute("stroke-linecap",k.options.strokeLineCap),de.setAttribute("fill",k.options.fill),de.setAttribute("x1",k.get("x2")),de.setAttribute("y1",k.get("y2")),de.setAttribute("x2",k.get("x2")-5),de.setAttribute("y2",k.get("y2")+5),(pe=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),pe.setAttribute("stroke-width",k.options.strokeWidth),pe.setAttribute("stroke-linecap",k.options.strokeLineCap),pe.setAttribute("fill",k.options.fill),pe.setAttribute("x1",k.get("x2")),pe.setAttribute("y1",k.get("y2")),pe.setAttribute("x2",k.get("x2")-5),pe.setAttribute("y2",k.get("y2")+5),k.group.appendChild(de),k.group.appendChild(pe),k.group.subTag1=de,k.group.subTag2=pe;if("line"==k.options.arrowType2)(be=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),be.setAttribute("stroke-width",k.options.strokeWidth),be.setAttribute("stroke-linecap",k.options.strokeLineCap),be.setAttribute("fill",k.options.fill),be.setAttribute("x1",k.get("x2")),be.setAttribute("y1",k.get("y2")),be.setAttribute("x2",k.get("x2")-5),be.setAttribute("y2",k.get("y2")+5),(he=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),he.setAttribute("stroke-width",k.options.strokeWidth),he.setAttribute("stroke-linecap",k.options.strokeLineCap),he.setAttribute("fill",k.options.fill),he.setAttribute("x1",k.get("x2")),he.setAttribute("y1",k.get("y2")),he.setAttribute("x2",k.get("x2")-5),he.setAttribute("y2",k.get("y2")+5),k.group.appendChild(be),k.group.appendChild(he),k.group.subTag11=be,k.group.subTag12=he;if("ruler"==k.options.arrowType1)(de=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options.strokeWidth),de.setAttribute("stroke-linecap",k.options.strokeLineCap),de.setAttribute("fill",k.options.fill),de.setAttribute("x1",k.get("x2")),de.setAttribute("y1",k.get("y2")),de.setAttribute("x2",k.get("x2")-5),de.setAttribute("y2",k.get("y2")+5),(pe=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),pe.setAttribute("stroke-width",k.options.strokeWidth),pe.setAttribute("stroke-linecap",k.options.strokeLineCap),pe.setAttribute("fill",k.options.fill),pe.setAttribute("x1",k.get("x2")),pe.setAttribute("y1",k.get("y2")),pe.setAttribute("x2",k.get("x2")-5),pe.setAttribute("y2",k.get("y2")+5),(le=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),le.setAttribute("stroke-width",k.options.strokeWidth),le.setAttribute("stroke-linecap",k.options.strokeLineCap),le.setAttribute("fill",k.options.fill),le.setAttribute("x1",k.get("x1")),le.setAttribute("y1",k.get("y1")-5),le.setAttribute("x2",k.get("x1")),le.setAttribute("y2",k.get("y1")+5),(ge=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),ge.setAttribute("stroke-width",k.options.strokeWidth),ge.setAttribute("stroke-linecap",k.options.strokeLineCap),ge.setAttribute("fill",k.options.fill),ge.setAttribute("x1",k.get("x1")),ge.setAttribute("y1",k.get("y1")-5),ge.setAttribute("x2",k.get("x1")),ge.setAttribute("y2",k.get("y1")+5),k.group.appendChild(de),k.group.appendChild(pe),k.group.appendChild(le),k.group.appendChild(ge),k.group.subTag1=de,k.group.subTag2=pe,k.group.subTag3=le,k.group.subTag4=ge;if("ruler"==k.options.arrowType2){var be,he;(be=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),be.setAttribute("stroke-width",k.options.strokeWidth),be.setAttribute("stroke-linecap",k.options.strokeLineCap),be.setAttribute("fill",k.options.fill),be.setAttribute("x1",k.get("x2")),be.setAttribute("y1",k.get("y2")),be.setAttribute("x2",k.get("x2")-5),be.setAttribute("y2",k.get("y2")+5),(he=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("stroke",k.options.stroke),he.setAttribute("stroke-width",k.options.strokeWidth),he.setAttribute("fill",k.options.fill),he.setAttribute("x1",k.get("x2")),he.setAttribute("y1",k.get("y2")),he.setAttribute("x2",k.get("x2")-5),he.setAttribute("y2",k.get("y2")+5);var ce=document.createElementNS("http://www.w3.org/2000/svg","line");ce.setAttribute("stroke",k.options.stroke),ce.setAttribute("stroke-width",k.options.strokeWidth),ce.setAttribute("stroke-linecap",k.options.strokeLineCap),ce.setAttribute("fill",k.options.fill),ce.setAttribute("x1",k.get("x2")),ce.setAttribute("y1",k.get("y2")-5),ce.setAttribute("x2",k.get("x2")),ce.setAttribute("y2",k.get("y2")+5);var fe=document.createElementNS("http://www.w3.org/2000/svg","line");fe.setAttribute("stroke",k.options.stroke),fe.setAttribute("stroke-width",k.options.strokeWidth),fe.setAttribute("stroke-linecap",k.options.strokeLineCap),fe.setAttribute("fill",k.options.fill),fe.setAttribute("x1",k.get("x2")),fe.setAttribute("y1",k.get("y2")-5),fe.setAttribute("x2",k.get("x2")),fe.setAttribute("y2",k.get("y2")+5),k.group.appendChild(be),k.group.appendChild(he),k.group.appendChild(ce),k.group.appendChild(fe),k.group.subTag11=be,k.group.subTag12=he,k.group.subTag13=ce,k.group.subTag14=fe}if("triangle"==k.options.arrowType1)(de=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options.strokeWidth),de.setAttribute("stroke-linecap",k.options.strokeLineCap),de.setAttribute("fill",k.options.fill),de.setAttribute("d","M"+k.get("x1")+"  0 L"+Number(k.get("x1")-5)+" "+Number(k.get("y1")+5)+" L"+Number(k.get("x1")+5)+" "+Number(k.get("y1")+5)+" Z"),k.group.appendChild(de),k.group.subTag1=de;if("triangle"==k.options.arrowType2)(be=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("stroke",k.options.stroke),be.setAttribute("stroke-width",k.options.strokeWidth),be.setAttribute("stroke-linecap",k.options.strokeLineCap),be.setAttribute("fill",k.options.fill),be.setAttribute("d","M"+k.get("x2")+" "+k.get("y2")+" L"+Number(k.get("x2")-5)+" "+Number(k.get("y2")+5)+" L"+Number(k.get("x2")+5)+" "+Number(k.get("y2")+5)+" Z"),k.group.appendChild(be),k.group.subTag11=be;if("bigTriangle"==k.options.arrowType1)(de=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options.strokeWidth),de.setAttribute("stroke-linecap",k.options.strokeLineCap),de.setAttribute("fill",k.options.fill),de.setAttribute("d","M"+k.get("x1")+"  0 L"+Number(k.get("x1")-10)+" "+Number(k.get("y1")+10)+" L"+Number(k.get("x1")+10)+" "+Number(k.get("y1")+10)+" Z"),k.group.appendChild(de),k.group.subTag1=de;if("bigTriangle"==k.options.arrowType2)(be=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("stroke",k.options.stroke),be.setAttribute("stroke-width",k.options.strokeWidth),be.setAttribute("stroke-linecap",k.options.strokeLineCap),be.setAttribute("fill",k.options.fill),be.setAttribute("d","M"+k.get("x2")+" "+k.get("y2")+" L"+Number(k.get("x2")-10)+" "+Number(k.get("y2")+10)+" L"+Number(k.get("x2")+10)+" "+Number(k.get("y2")+10)+" Z"),k.group.appendChild(be),k.group.subTag11=be;if("bigTriangle2"==k.options.arrowType1)(de=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options.strokeWidth),de.setAttribute("stroke-linecap",k.options.strokeLineCap),de.setAttribute("fill",k.options.fill),de.setAttribute("d","M"+k.get("x1")+" "+(k.get("y1")-10)+" L"+Number(k.get("x1")-10)+" "+Number(k.get("y1"))+" L"+Number(k.get("x1")+10)+" "+Number(k.get("y1"))+" Z"),k.group.appendChild(de),k.group.subTag1=de;if("bigTriangle2"==k.options.arrowType2)(be=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("stroke",k.options.stroke),be.setAttribute("stroke-width",k.options.strokeWidth),be.setAttribute("stroke-linecap",k.options.strokeLineCap),be.setAttribute("fill",k.options.fill),be.setAttribute("d","M"+k.get("x2")+" "+(k.get("y1")-10)+" L"+Number(k.get("x2")-10)+" "+Number(k.get("y2"))+" L"+Number(k.get("x2")+10)+" "+Number(k.get("y2"))+" Z"),k.group.appendChild(be),k.group.subTag11=be;if("bigTriangleBlank"==k.options.arrowType1)(de=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options.strokeWidth),de.setAttribute("stroke-linecap",k.options.strokeLineCap),de.setAttribute("fill","white"),de.setAttribute("d","M"+k.get("x1")+"  0 L"+Number(k.get("x1")-10)+" "+Number(k.get("y1")+10)+" L"+Number(k.get("x1")+10)+" "+Number(k.get("y1")+10)+" Z"),k.group.appendChild(de),k.group.subTag1=de;if("bigTriangleBlank"==k.options.arrowType2)(be=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("stroke",k.options.stroke),be.setAttribute("stroke-width",k.options.strokeWidth),be.setAttribute("stroke-linecap",k.options.strokeLineCap),be.setAttribute("fill","none"),be.setAttribute("d","M"+k.get("x2")+" "+k.get("y2")+" L"+Number(k.get("x2")-10)+" "+Number(k.get("y2")+10)+" L"+Number(k.get("x2")+10)+" "+Number(k.get("y2")+10)+" Z"),k.group.appendChild(be),k.group.subTag11=be;if("diamond"==k.options.arrowType1)(de=document.createElementNS("http://www.w3.org/2000/svg","polygon")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options.strokeWidth),de.setAttribute("stroke-linecap",k.options.strokeLineCap),de.setAttribute("fill",k.options.fill),de.setAttribute("points",k.get("x1")+","+k.get("y1")+" "+(k.get("x1")-10)+","+(k.get("y1")-10)+" "+(k.get("x1")-0)+","+(k.get("y1")-20)+" "+(k.get("x1")+10)+","+(k.get("y1")-10)),k.group.appendChild(de),k.group.subTag1=de;if("diamondBlank"==k.options.arrowType1)(de=document.createElementNS("http://www.w3.org/2000/svg","polygon")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options.strokeWidth),de.setAttribute("stroke-linecap",k.options.strokeLineCap),de.setAttribute("fill","white"),de.setAttribute("points",k.get("x1")+","+k.get("y1")+" "+(k.get("x1")-10)+","+(k.get("y1")-10)+" "+(k.get("x1")-0)+","+(k.get("y1")-20)+" "+(k.get("x1")+10)+","+(k.get("y1")-10)),k.group.appendChild(de),k.group.subTag1=de;if("diamond"==k.options.arrowType2)(be=document.createElementNS("http://www.w3.org/2000/svg","polygon")).setAttribute("stroke",k.options.stroke),be.setAttribute("stroke-width",k.options.strokeWidth),be.setAttribute("stroke-linecap",k.options.strokeLineCap),be.setAttribute("fill",k.options.fill),be.setAttribute("points",k.get("x2")+","+k.get("y2")+" "+(k.get("x2")-10)+","+(k.get("y2")-10)+" "+(k.get("x2")-0)+","+(k.get("y2")-20)+" "+(k.get("x2")+10)+","+(k.get("y2")-10)),k.group.appendChild(be),k.group.subTag11=be;if("diamond"==k.options.arrowType2)(be=document.createElementNS("http://www.w3.org/2000/svg","polygon")).setAttribute("stroke",k.options.stroke),be.setAttribute("stroke-width",k.options.strokeWidth),be.setAttribute("stroke-linecap",k.options.strokeLineCap),be.setAttribute("fill",k.options.fill),be.setAttribute("points",k.get("x2")+","+k.get("y2")+" "+(k.get("x2")-10)+","+(k.get("y2")-10)+" "+(k.get("x2")-0)+","+(k.get("y2")-20)+" "+(k.get("x2")+10)+","+(k.get("y2")-10)),k.group.appendChild(be),k.group.subTag11=be;if("circle"==k.options.arrowType1)(de=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("stroke",k.options.stroke),de.setAttribute("stroke-width",k.options.strokeWidth),de.setAttribute("stroke-linecap",k.options.strokeLineCap),de.setAttribute("fill",k.options.fill),de.setAttribute("cx",k.get("x1")-0),de.setAttribute("cy",k.get("y1")-5),de.setAttribute("r",5),k.group.appendChild(de),k.group.subTag1=de;if("circle"==k.options.arrowType2)(be=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("stroke",k.options.stroke),be.setAttribute("stroke-width",k.options.strokeWidth),be.setAttribute("stroke-linecap",k.options.strokeLineCap),be.setAttribute("fill",k.options.fill),be.setAttribute("cx",k.get("x2")-0),be.setAttribute("cy",k.get("y2")-5),be.setAttribute("r",5),k.group.appendChild(be),k.group.subTag11=be}return k}if("cube3d"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape3D(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.setBlockPos(k.options.row,k.options.col)}return k}if("pc3d"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape3D(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.setBlockPos(k.options.row,k.options.col)}return k}if("normal3d"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape3D(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.setBlockPos(k.options.row,k.options.col)}return k}if("groupBasic"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.group.tag.setAttribute("folder",!0),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),(ye=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("preserveAspectRatio","none"),ye.setAttribute("href","./img/se/shapes/folder/folderarrow.png"),ye.setAttribute("width",30),ye.setAttribute("height",30)}return k}if("groupRect"==k.tagName){if(1==t){var ye;o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.group.tag.setAttribute("groupAction",!0),(ye=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("preserveAspectRatio","none"),ye.setAttribute("href","./img/se/shapes/folder/folderarrow.png"),ye.setAttribute("width",30),ye.setAttribute("height",30),ye.setAttribute("groupAction",!0),k.group.appendChild(ye),k.group.subTagGroupTitle=ye;for(s=0;s<k.group.dots.length;s++)k.group.dots[s].setAttribute("groupAction",!0);k.group.rotateDot.setAttribute("groupAction",!0)}return null!=k.group.subTagGroupTitle&&(k.group.subTagGroupTitle.setAttribute("x",k.get("width")/-2),k.group.subTagGroupTitle.setAttribute("y",k.get("height")/-2-30)),k}if("groupNone"==k.tagName){if(1==t){o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}return k.group.tag.setAttribute("width",k.get("width")),k.group.tag.setAttribute("height",k.get("height")),k}if("classRect"==k.tagName){if(1==t){o="rect";f.text="클래스",sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.group.tag.setAttribute("groupAction",!0),k.group.tagText.setAttribute("groupAction",!0);for(s=0;s<k.group.dots.length;s++)k.group.dots[s].setAttribute("groupAction",!0)}if(null!=k.group.subObj1&&null!=k.group.subObj1){l=k.get("width"),g=k.get("height");setTimeout(function(){k.group.subObj1.set("width",l),k.group.subObj1.set("x",0),k.group.subObj1.set("y",g/-2+50+k.group.subObj1.get("height")/2),k.group.subObj1.resizePointTo(0,0,0),k.group.subObj2.set("width",l),k.group.subObj2.set("x",0),k.group.subObj2.set("height",g-50-k.group.subObj1.get("height")),k.group.subObj2.set("y",g/-2+50+k.group.subObj1.get("height")+k.group.subObj2.get("height")/2),k.group.subObj2.resizePointTo(0,0,0)},50)}return k}if("dbtable"==k.tagName){if(1==t){o="rect";f.text="테이블명",sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group),k.group.tag.setAttribute("groupAction",!0),k.group.tagText.setAttribute("groupAction",!0);for(s=0;s<k.group.dots.length;s++)k.group.dots[s].setAttribute("groupAction",!0)}if(null!=k.group.subObj1&&null!=k.group.subObj1){l=k.get("width"),g=k.get("height");setTimeout(function(){k.group.subObj1.set("width",l),k.group.subObj1.set("x",0),k.group.subObj1.set("y",g/-2+50+k.group.subObj1.get("height")/2),k.group.subObj1.resizePointTo(0,0,0),k.group.subObj2.set("width",l),k.group.subObj2.set("x",0),k.group.subObj2.set("height",g-50-k.group.subObj1.get("height")),k.group.subObj2.set("y",g/-2+50+k.group.subObj1.get("height")+k.group.subObj2.get("height")/2),k.group.subObj2.resizePointTo(0,0,0)},50)}return k}if("svg"==k.tagName){if(1==t){o="g";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group)}return k}if("mapContainer"!=k.tagName)return null;if(1==t){o="rect";sedLib.createBasicShape(k,f,o),k.set("parentLayer",k.sed.svg.selectedLayer.get("figureId")),k.parentLayer=k.sed.svg.selectedLayer,k.sed.svg.selectedLayer.group.appendChild(k.group);var me=document.createElementNS("http://www.w3.org/2000/svg","svg");k.group.appendChild(me),k.group.tagSvg=me,k.loadMapWorld=function(t){sedLib.loadJS(sedLib.jsPath+"/data/mapworld/_worldmap.dat",t)},k.loadMapKorea=function(t){sedLib.loadJS(sedLib.jsPath+"/data/mapkorea/_koreamap.dat",t)},k.loadMapUsa=function(t){sedLib.loadJS(sedLib.jsPath+"/data/mapusa/_usamap.dat",t)},k.setMapScale=function(t){if(k.options.mapScale=t,"korea"==k.options.mapKind)for(var e=0;e<k.group.map.length;e++)k.group.map[e].options.mapScale=5*k.options.mapScale,k.group.map[e].resizePointTo(0,0,0);else if("usa"==k.options.mapKind)for(e=0;e<k.group.map.length;e++)k.group.map[e].options.mapScale=2*k.options.mapScale,k.group.map[e].resizePointTo(0,0,0);else if("world"==k.options.mapKind)for(e=0;e<k.group.map.length;e++)k.group.map[e].options.mapScale=k.options.mapScale,k.group.map[e].resizePointTo(0,0,0)},k.setResource=function(t,e,o,i){"world"==k.options.mapKind?k.loadMapWorld(function(){k.setPos(t,e,o,i)}):"korea"==k.options.mapKind?k.loadMapKorea(function(){k.setPos(t,e,o,i)}):"usa"==k.options.mapKind&&k.loadMapUsa(function(){k.setPos(t,e,o,i)})},k.setPos=function(t,e,o,i){if(null!=k.group.map&&null!=k.group.map)for(var r=k.group.map.length-1;0<=r;r--)k.group.tagSvg.removeChild(k.group.map[r].group);Math.abs(o-t),Math.abs(i-e),k.options.width,k.options.height;(k.sed.svg.selectedMapContainer=k).options.startLongitude=t,k.options.startLatitude=e,k.options.endLongitude=o,k.options.endLatitude=i;var s=[],a=[];if("world"==k.options.mapKind){for(r=0;r<sedLib.mapworld.length;r++)for(var n=sedLib.mapworld[r],u=0;u<n.length;u+=2)if(180<o){if((-1!=n[u+1]&&n[u+1]>=t&&n[u+1]<=180||-1!=n[u+1]&&-180<=n[u+1]&&n[u+1]<=-360+o)&&-1!=n[u]&&n[u]>=i&&n[u]<=e){s.push(sedLib.mapworld[r]),a.push(sedLib.mapworldName[r]);break}}else if(-1!=n[u+1]&&n[u+1]>=t&&n[u+1]<=o&&-1!=n[u]&&n[u]>=i&&n[u]<=e){s.push(sedLib.mapworld[r]),a.push(sedLib.mapworldName[r]);break}}else if("korea"==k.options.mapKind)for(r=0;r<sedLib.mapkorea.length;r++){var p=sedLib.mapkorea[r];for(u=0;u<p.length;u+=2)if(-1!=p[u+1]&&p[u+1]>=t&&p[u+1]<=o&&-1!=p[u]&&p[u]>=i&&p[u]<=e){s.push(sedLib.mapkorea[r]),a.push(sedLib.mapkoreaName[r]);break}}else if("usa"==k.options.mapKind)for(r=0;r<sedLib.mapusa.length;r++){var l=sedLib.mapusa[r];for(u=0;u<l.length;u+=2)if(-1!=l[u+1]&&l[u+1]>=t&&l[u+1]<=o&&-1!=l[u]&&l[u]>=i&&l[u]<=e){s.push(sedLib.mapusa[r]),a.push(sedLib.mapusaName[r]);break}}k.group.map=[];var g=1;"korea"==k.options.mapKind?g=5:"usa"==k.options.mapKind&&(g=2);for(r=0;r<s.length;r++){var d=k.sed.createFg({baseFg:!0,baseSp:!0,centerSp:!0,sameWh:!0,figure:"mapChild",figureId:sedLib.createFigureId("mapChild"),src:"",baseMap:!0,hideDots:!0,rotate:0,mapScale:k.options.mapScale,strokeWidth:.5,x:N,y:D,width:100,height:100,parentFigureId:k.options.figureId,text:"",textHAlign:"center",textVAlign:"middle",textFill:"#000000",textFontFamily:"돋움",textFontSize:16,parentStartLongitude:t,parentStartLatitude:e,parentEndLogitude:o,parentEndLatitude:i,parentMapScale:k.options.mapScale*g,mapName:a[r],fgRef:a[r],rx:30,ry:30,map:s[r]});k.group.tagSvg.appendChild(d.group),k.group.map.push(d)}"world"==k.options.mapKind?k.setMapScale(4):"korea"==k.options.mapKind?k.setMapScale(20):"usa"==k.options.mapKind&&k.setMapScale(4)}}return k},setJoinDotsPos=function(t){if("basic3d"==t.tagName&&null!=t.parentLayer&&"layer3d"!=t.parentLayer.options.figure)for(var e=0;e<t.options.joinDotsPos.length;e++)try{t.options.joinDotsPos[e].x=t.options.joinDotsPosData[e].x*t.options.width/100,t.options.joinDotsPos[e].y=t.options.joinDotsPosData[e].y*t.options.height/100,t.options.joinDotsPos[e].dir=t.options.joinDotsPosData[e].dir}catch(t){}else if("basic3d"==t.tagName&&null!=t.parentLayer&&"layer3d"==t.parentLayer.options.figure)for(e=0;e<t.options.joinDotsPos.length;e++)try{t.options.joinDotsPos[e].x=t.options.joinDotsPosData[e].x*t.options.width/100,t.options.joinDotsPos[e].y=t.options.joinDotsPosData[e].y*t.options.height/100,t.options.joinDotsPos[e].dir=t.options.joinDotsPosData[e].dir}catch(t){}else{if(1==t.options.d3)return;if("circle"==t.tagName||"connector"==t.tagName){t.options.joinDotsPos[0]={x:t.options.width/2*0,y:t.options.height/2*-1};var o=sedLib.getRotatePos(45,0,t.options.height/2*-1);t.options.joinDotsPos[1]={x:o.x,y:o.y},t.options.joinDotsPos[2]={x:t.options.width/2*1,y:t.options.height/2*0};var i=sedLib.getRotatePos(135,0,t.options.height/2*-1);t.options.joinDotsPos[3]={x:i.x,y:i.y},t.options.joinDotsPos[4]={x:t.options.width/2*0,y:t.options.height/2*1};var r=sedLib.getRotatePos(225,0,t.options.height/2*-1);t.options.joinDotsPos[5]={x:r.x,y:r.y},t.options.joinDotsPos[6]={x:t.options.width/2*-1,y:t.options.height/2*0};var s=sedLib.getRotatePos(315,0,t.options.height/2*-1);t.options.joinDotsPos[7]={x:s.x,y:s.y}}else if("triangle"==t.tagName)t.options.joinDotsPos[0]={x:t.options.width/2*0,y:t.options.height/2*-1},t.options.joinDotsPos[1]={x:t.options.width/2*.5,y:t.options.height/2*0},t.options.joinDotsPos[2]={x:t.options.width/2*1,y:t.options.height/2*1},t.options.joinDotsPos[3]={x:t.options.width/2*.5,y:t.options.height/2*1},t.options.joinDotsPos[4]={x:t.options.width/2*0,y:t.options.height/2*1},t.options.joinDotsPos[5]={x:t.options.width/2*-.5,y:t.options.height/2*1},t.options.joinDotsPos[6]={x:t.options.width/2*-1,y:t.options.height/2*1},t.options.joinDotsPos[7]={x:t.options.width/2*-.5,y:t.options.height/2*0};else if("righttriangle"==t.tagName)t.options.joinDotsPos[0]={x:t.options.width/2*-1,y:t.options.height/2*-1},t.options.joinDotsPos[1]={x:t.options.width/2*0,y:t.options.height/2*0},t.options.joinDotsPos[2]={x:t.options.width/2*1,y:t.options.height/2*1},t.options.joinDotsPos[3]={x:t.options.width/2*.5,y:t.options.height/2*1},t.options.joinDotsPos[4]={x:t.options.width/2*0,y:t.options.height/2*1},t.options.joinDotsPos[5]={x:t.options.width/2*-.5,y:t.options.height/2*1},t.options.joinDotsPos[6]={x:t.options.width/2*-1,y:t.options.height/2*1},t.options.joinDotsPos[7]={x:t.options.width/2*-1,y:t.options.height/2*0};else if("user"==t.tagName||"diagram"==t.tagName)for(e=0;e<t.options.joinDotsPos.length;e++)try{t.options.joinDotsPos[e].x=t.options.joinDotsPosData[e].x*t.options.width/100,t.options.joinDotsPos[e].y=t.options.joinDotsPosData[e].y*t.options.height/100,t.options.joinDotsPos[e].dir=t.options.joinDotsPosData[e].dir}catch(t){}else if("basic"==t.tagName)for(e=0;e<t.options.joinDotsPos.length;e++)try{t.options.joinDotsPos[e].x=t.options.joinDotsPosData[e].x*t.options.width/100,t.options.joinDotsPos[e].y=t.options.joinDotsPosData[e].y*t.options.height/100,t.options.joinDotsPos[e].dir=t.options.joinDotsPosData[e].dir}catch(t){}else"layer3d"==t.tagName||(t.options.joinDotsPos[0]={x:t.options.width/2*0,y:t.options.height/2*-1},t.options.joinDotsPos[1]={x:t.options.width/2*1,y:t.options.height/2*-1},t.options.joinDotsPos[2]={x:t.options.width/2*1,y:t.options.height/2*0},t.options.joinDotsPos[3]={x:t.options.width/2*1,y:t.options.height/2*1},t.options.joinDotsPos[4]={x:t.options.width/2*0,y:t.options.height/2*1},t.options.joinDotsPos[5]={x:t.options.width/2*-1,y:t.options.height/2*1},t.options.joinDotsPos[6]={x:t.options.width/2*-1,y:t.options.height/2*0},t.options.joinDotsPos[7]={x:t.options.width/2*-1,y:t.options.height/2*-1})}};