sedLib.createBasicLine3D=function(t,i,o){sedLib.setBasicLineOptions(t,i);var e=sedLib.createTag(o,i),s=sedLib.createDots(i),r=sedLib.createJoinDots(i),u=sedLib.createDefs(i),b=sedLib.createFilter(i),n=sedLib.createGroup(i);(n.fg=t).group=n,t.group.appendChild(e),t.group.appendChild(u);for(var g=0;g<r.length;g++)t.group.appendChild(r[g]);for(g=0;g<s.length;g++)t.group.appendChild(s[g]);if(t.group.appendChild(u),t.group.defs=u,t.group.defs.appendChild(b),t.group.defs.filter=b,t.group.tag=e,"flowline3d"==t.tagName){var p=sedLib.createLineDots(i);for(g=0;g<p.length;g++)t.group.appendChild(p[g]);t.group.lineDots=p}t.group.defs=u,t.group.joinDots=r,t.group.dots=s,null!=t.sed.editMode&&0!=t.sed.editMode||t.hideDot()},sedLib.createBasicLayer3D=function(t,i,o){sedLib.setBasicOptions3D(t,i);var e=sedLib.createTag3D(o,i),s=sedLib.createTagText(i),r=sedLib.createTagImg(i),u=sedLib.createDots(i),b=sedLib.createJoinDots(i),n=sedLib.createDefs(i),g=sedLib.createFilter(i),p=sedLib.createLayer(i);(p.fg=t).group=p,t.group.appendChild(e),null!=r&&t.group.appendChild(r),t.group.appendChild(n),t.group.appendChild(s);for(var l=0;l<b.length;l++)t.group.appendChild(b[l]);for(l=0;l<u.length;l++)t.group.appendChild(u[l]);t.group.appendChild(n),t.group.defs=n,t.group.defs.appendChild(g),t.group.defs.filter=g,t.group.tag=e,t.group.img=r,t.group.defs=n,t.group.tagText=s,t.group.joinDots=b,t.group.dots=u;var a=!1;null!=i.filterImage&&null!=i.filterImage&&""!=i.filterImage&&(a=!0),null!=i.gaussianBlurStdDeviation&&null!=i.gaussianBlurStdDeviation&&""!=i.gaussianBlurStdDeviation&&(a=!0),null!=i.shadowStdDeviation&&null!=i.shadowStdDeviation&&""!=i.shadowStdDeviation&&(a=!0),1==a&&sedLib.addFilter(t.group.defs.filter,i),null!=t.sed.editMode&&0!=t.sed.editMode||t.hideDot()},sedLib.createTag3D=function(t,i){var o=document.createElementNS("http://www.w3.org/2000/svg",t);for(var e in i)"text"!=e&&o.setAttribute(e,i[e]);return o.setAttribute("baseFg",!0),o.setAttribute("figureId",i.figureId),o.setAttribute("x",0),o.setAttribute("y",0),o.setAttribute("width",i.width),o.setAttribute("height",i.height),o.setAttribute("stroke",i.stroke),null!=i.strokeDasharray&&o.setAttribute("stroke-dasharray",i.strokeDasharray),o.setAttribute("stroke-width",i.strokeWidth),o.setAttribute("stroke-dasharry",i.strokeDasharray),o.setAttribute("fill",i.fill),o.setAttribute("fill-opacity",i.fillOpacity),o.setAttribute("visibility","visible"),o},sedLib.createTagText3D=function(t){var i;for(var o in(i=(sedLib.browserCls,document.createElementNS("http://www.w3.org/2000/svg","text"))).setAttribute("x",t.width/2),i.setAttribute("y",t.height/2),i.setAttribute("width",t.width),i.setAttribute("height",t.height),t)"text"==o?(sedLib.browserCls,i.textContent=t.text):"textFontSize"==o&&i.setAttribute("font-size",t[o]);return i},sedLib.createTagImg3D=function(t){if(null==t.src||null==t.src||""==t.src)return null;var i=document.createElementNS("http://www.w3.org/2000/svg","image");return i.setAttribute("preserveAspectRatio","none"),null!=t.srcIn&&null!=t.srcIn&&1==t.srcIn?null==t.rotate||null==t.rotate||0==t.rotate?i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",sedLib.imgPath+t.src0):1==t.rotate?i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",sedLib.imgPath+t.src1):2==t.rotate?i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",sedLib.imgPath+t.src2):3==t.rotate&&i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",sedLib.imgPath+t.src3):null==t.rotate||null==t.rotate||0==t.rotate?i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src0):1==t.rotate?i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src1):2==t.rotate?i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src2):3==t.rotate&&i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src3),i.setAttribute("x",t.imgPosX),i.setAttribute("y",t.imgPosY),i.setAttribute("width",t.imgWidth),i.setAttribute("height",t.imgHeight),i},sedLib.createTopDot=function(t){var i=document.createElementNS("http://www.w3.org/2000/svg","circle");return i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("cx",t.topDotPos.x),i.setAttribute("cy",t.topDotPos.y),i.setAttribute("fill-opacity",1),i.setAttribute("r",5),i.setAttribute("stroke","black"),i.setAttribute("fill","green"),i.setAttribute("visibility","visible"),i},sedLib.createBottomDot=function(t){var i=document.createElementNS("http://www.w3.org/2000/svg","circle");return i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("cx",t.bottomDotPos.x),i.setAttribute("cy",t.bottomDotPos.y),i.setAttribute("fill-opacity",1),i.setAttribute("r",5),i.setAttribute("stroke","black"),i.setAttribute("fill","green"),i.setAttribute("visibility","visible"),i},sedLib.createDots3D=function(t){for(var i=[],o=0;o<t.dotsPos.length;o++){var e=document.createElementNS("http://www.w3.org/2000/svg","circle");e.setAttribute("cx",t.dotsPos[o].x),e.setAttribute("cy",t.dotsPos[o].y),e.setAttribute("fill-opacity",1),e.setAttribute("r",5),e.setAttribute("stroke","black"),e.setAttribute("fill","blue"),e.setAttribute("visibility","visible"),e.setAttribute("dotIndex",o),e.connected=[],e.connectedIndex=[],i.push(e)}return i},sedLib.createJoinDots3D=function(t){var i=[];if(null==t.joinDotsPos3D)return[];for(var o=0;o<t.joinDotsPos3D.length;o++){var e=document.createElementNS("http://www.w3.org/2000/svg","circle");e.setAttribute("cx",0),e.setAttribute("cy",0),e.setAttribute("fill-opacity",1),e.setAttribute("r",5),e.setAttribute("stroke","black"),e.setAttribute("fill","yellow"),e.setAttribute("visibility","visible"),e.setAttribute("dotIndex",o),e.connected=[],e.connectedIndex=[],e.setAttribute("cx",t.joinDotsPos3D[o].x),e.setAttribute("cy",t.joinDotsPos3D[o].y),i.push(e)}return i},sedLib.createRotateLine3D=function(t){var i=document.createElementNS("http://www.w3.org/2000/svg","line");return i.setAttribute("stroke",t.stroke),i.setAttribute("stroke-width",t.strokeWidth),i.setAttribute("fill",t.fill),i.setAttribute("x1",t.dotsPos[0].x),i.setAttribute("y1",t.dotsPos[0].y),i.setAttribute("x2",t.rotateDotPos.x),i.setAttribute("y2",t.rotateDotPos.y),null!=t.rotatable&&1==t.rotatable?i.setAttribute("visibility","visible"):i.setAttribute("visibility","hidden"),i},sedLib.createRotateDot3D=function(t){var i=document.createElementNS("http://www.w3.org/2000/svg","circle");return i.setAttribute("cx",0),i.setAttribute("cy",0),i.setAttribute("fill-opacity",1),i.setAttribute("r",5),i.setAttribute("stroke","black"),i.setAttribute("fill","yellowgreen"),null!=t.rotatable&&1==t.rotatable?i.setAttribute("visibility","visible"):i.setAttribute("visibility","hidden"),i},sedLib.createDefs3D=function(t){return document.createElementNS("http://www.w3.org/2000/svg","defs")},sedLib.createFilter3D=function(t){var i=document.createElementNS("http://www.w3.org/2000/svg","filter");return i.setAttribute("id","filter"+t.figureId),i},sedLib.createGroup3D=function(t){var i=document.createElementNS("http://www.w3.org/2000/svg","g");return i.setAttribute("groupId",t.figureId),i},sedLib.setBasicOptions3D=function(t,i){var o=i.heightBlock;t.options.dotsPos=[];var e=t.options.rowBlock*t.unitWidth*1,s=t.options.colBlock*t.unitWidth,r=(t.options.colBlock+t.options.rowBlock)*t.unitWidth,u=t.options.rowBlock*t.unitHeight*1,b=t.options.colBlock*t.unitHeight*-1,n=(t.options.colBlock-t.options.rowBlock)*t.unitHeight*-1,g=(s+r)/2,p=(b+n)/2,l=r,a=n,d=(r+e)/2,A=(n+u)/2,y=e,D=u,x=(0+e)/2,v=(0+u)/2,T=(0+s)/2,P=(0+b)/2,c=s,C=b,M=(s+r)/2,L=(b+n)/2-o,h=(r+e)/2,V=(n+u)/2-o,m=(0+e)/2,X=(0+u)/2-o,Y=(0+s)/2,f=(0+b)/2-o,H=b-o;null!=t.options.imgPosX&&null!=t.options.imgPosX||(t.options.imgPosX=0),null!=t.options.imgPosY&&null!=t.options.imgPosY||(t.options.imgPosY=H),null!=t.options.imgWidth&&null!=t.options.imgWidth||(t.options.imgWidth=l-0),null!=t.options.imgHeight&&null!=t.options.imgHeight||(t.options.imgHeight=D-H),null==t.options.filters&&(t.options.filters=[]),null==t.options.patterns&&(t.options.patterns=[]),t.options.dotsPos.push({x:M,y:L}),t.options.dotsPos.push({x:h,y:V}),t.options.dotsPos.push({x:m,y:X}),t.options.dotsPos.push({x:Y,y:f}),t.options.dotsPosCalc=[],t.options.dotsPosCalc.push({x:M,y:L}),t.options.dotsPosCalc.push({x:h,y:V}),t.options.dotsPosCalc.push({x:m,y:X}),t.options.dotsPosCalc.push({x:Y,y:f}),t.options.rotateDotPos={x:(M+m)/2,y:(L+X)/2-60},t.options.joinDotsPos=[],t.options.joinDotsPos.push({x:g,y:p}),t.options.joinDotsPos.push({x:l,y:a}),t.options.joinDotsPos.push({x:d,y:A}),t.options.joinDotsPos.push({x:y,y:D}),t.options.joinDotsPos.push({x:x,y:v}),t.options.joinDotsPos.push({x:0,y:0}),t.options.joinDotsPos.push({x:T,y:P}),t.options.joinDotsPos.push({x:c,y:C}),t.options.joinDotsPosCalc=[],t.options.joinDotsPosCalc.push({x:g,y:p}),t.options.joinDotsPosCalc.push({x:l,y:a}),t.options.joinDotsPosCalc.push({x:d,y:A}),t.options.joinDotsPosCalc.push({x:y,y:D}),t.options.joinDotsPosCalc.push({x:x,y:v}),t.options.joinDotsPosCalc.push({x:0,y:0}),t.options.joinDotsPosCalc.push({x:T,y:P}),t.options.joinDotsPosCalc.push({x:c,y:C}),setJoinDotsPos(t),t.options.topDot={x:0,y:0},t.options.bottomDot={b:0,y:0},t.options.connectedId=[],t.options.connectedId.push([]),t.options.connectedId.push([]),t.options.connectedId.push([]),t.options.connectedId.push([]),t.options.connectedId.push([]),t.options.connectedId.push([]),t.options.connectedId.push([]),t.options.connectedId.push([]),t.options.connectedIndex=[],t.options.connectedIndex.push([]),t.options.connectedIndex.push([]),t.options.connectedIndex.push([]),t.options.connectedIndex.push([]),t.options.connectedIndex.push([]),t.options.connectedIndex.push([]),t.options.connectedIndex.push([]),t.options.connectedIndex.push([])},sedLib.createBasicShape3D=function(t,i,o){sedLib.setBasicOptions3D(t,i);var e=sedLib.createTag3D(o,i);if(null!=i.simpleMode&&"all"==i.simpleMode){((s=sedLib.createGroup3D(i)).fg=t).group=s,t.group.appendChild(e),t.group.tag=e}else{var s,r=sedLib.createTagText3D(i),u=sedLib.createTagImg3D(i),b=sedLib.createRotateLine3D(i),n=sedLib.createRotateDot3D(i),g=sedLib.createDots3D(i),p=sedLib.createJoinDots3D(i),l=sedLib.createDefs3D(i),a=sedLib.createFilter3D(i);((s=sedLib.createGroup3D(i)).fg=t).group=s,t.group.appendChild(e),null!=u&&t.group.appendChild(u),t.group.appendChild(b),t.group.appendChild(l),t.group.appendChild(r),t.group.appendChild(n);for(var d=0;d<p.length;d++)t.group.appendChild(p[d]);for(d=0;d<g.length;d++)t.group.appendChild(g[d]);t.group.appendChild(l),t.group.defs=l,t.group.defs.appendChild(a),t.group.defs.filter=a,t.group.tag=e,t.group.img=u,t.group.rotateLine=b,t.group.rotateDot=n,t.group.defs=l,t.group.tagText=r,t.group.joinDots=p,t.group.dots=g,null!=t.sed.editMode&&0!=t.sed.editMode||t.hideDot()}},sedLib.getJoinPosInfo3D=function(t,i){for(var o,e,s=0;s<t.group.joinDots.length;s++)if(null==t.options.joinDotsPosData)"N"==i?(o=t.options.joinDotsPos[0].x+18,e=t.options.joinDotsPos[0].y-12):"E"==i?(o=t.options.joinDotsPos[2].x-18,e=t.options.joinDotsPos[2].y+12):"S"==i?(o=t.options.joinDotsPos[4].x-18,e=t.options.joinDotsPos[4].y-12):"W"==i&&(o=t.options.joinDotsPos[6].x+18,e=t.options.joinDotsPos[6].y+12);else if(t.options.joinDotsPosData[s].dir==i){o=t.get("x")+t.options.joinDotsPosCalc[s].x,e=t.get("y")+t.options.joinDotsPosCalc[s].y,"N"==i?(o+=18,e-=12):"S"==i?(o-=18,e+=12):"W"==i?(o-=18,e-=12):"E"==i&&(o+=18,e+=12);break}return{x:o,y:e}},sedLib.getPointXYCross=function(t,i){var o=t.y-6/9*t.x,e=i.y+6/9*i.x;return{x:9*(e-o)/12,y:(o+e)/2}},sedLib.getVirRow=function(t,i){return t/9-i/6},sedLib.getVirCol=function(t,i){return t/9+i/6},sedLib.drawFlowline3d=function(t){var i,o,e,s,r,u,b,n,g=Number(t.get("x1")),p=Number(t.get("y1")),l=Number(t.get("x2")),a=Number(t.get("y2")),d=1,A=3;if(0<t.group.joinDots[0].connected.length&&0<t.group.joinDots[1].connected.length)if("M"==t.options.lineMoveMode){var y=t.group.joinDots[0].connected[0].get("rotate3D"),D=t.group.joinDots[1].connected[0].get("rotate3D"),x=t.group.joinDots[0].connected[0],v=t.group.joinDots[0].connectedIndex[0];x.setGroupArea();var T=t.group.joinDots[1].connected[0],P=t.group.joinDots[1].connectedIndex[0];if(T.setGroupArea(),d=sedLib.getDir(v,y),A=sedLib.getDir(P,D),"basic"==x.tagName||"basic3d"==x.tagName)"N"==(c=x.options.joinDotsPosData[v].dir)?v=0:"NE"==c?v=1:"E"==c?v=2:"SE"==c?v=3:"S"==c?v=4:"SW"==c?v=5:"W"==c?v=6:"NW"==c?v=7:alert("error no direction"+c),d=sedLib.getDir(v,y);else d=sedLib.getDir(v,y);if("basic"==T.tagName||"basic3d"==T.tagName)"N"==(A=T.options.joinDotsPosData[P].dir)?P=0:"NE"==A?P=1:"E"==A?P=2:"SE"==A?P=3:"S"==A?P=4:"SW"==A?P=5:"W"==A?P=6:"NW"==A?P=7:alert("error no direction"+c),A=sedLib.getDir(P,D);else A=sedLib.getDir(P,D);0==A?(null!=t.group.subTag1&&(t.group.subTag1.setAttribute("x1",l),t.group.subTag1.setAttribute("y1",a),t.group.subTag1.setAttribute("x2",l-10),t.group.subTag1.setAttribute("y2",a-10)),null!=t.group.subTag2&&(t.group.subTag2.setAttribute("x1",l),t.group.subTag2.setAttribute("y1",a),t.group.subTag2.setAttribute("x2",l+10),t.group.subTag2.setAttribute("y2",a-10))):1==A?(null!=t.group.subTag1&&(t.group.subTag1.setAttribute("x1",l),t.group.subTag1.setAttribute("y1",a),t.group.subTag1.setAttribute("x2",l+10),t.group.subTag1.setAttribute("y2",a-10)),null!=t.group.subTag2&&(t.group.subTag2.setAttribute("x1",l),t.group.subTag2.setAttribute("y1",a),t.group.subTag2.setAttribute("x2",l+10),t.group.subTag2.setAttribute("y2",a+10))):2==A?(null!=t.group.subTag1&&(t.group.subTag1.setAttribute("x1",l),t.group.subTag1.setAttribute("y1",a),t.group.subTag1.setAttribute("x2",l-10),t.group.subTag1.setAttribute("y2",a+10)),null!=t.group.subTag2&&(t.group.subTag2.setAttribute("x1",l),t.group.subTag2.setAttribute("y1",a),t.group.subTag2.setAttribute("x2",l+10),t.group.subTag2.setAttribute("y2",a+10))):3==A&&(null!=t.group.subTag1&&(t.group.subTag1.setAttribute("x1",l),t.group.subTag1.setAttribute("y1",a),t.group.subTag1.setAttribute("x2",l-10),t.group.subTag1.setAttribute("y2",a-10)),null!=t.group.subTag2&&(t.group.subTag2.setAttribute("x1",l),t.group.subTag2.setAttribute("y1",a),t.group.subTag2.setAttribute("x2",l-10),t.group.subTag2.setAttribute("y2",a+10))),i=t.options.lineMovePos[0].x,o=t.options.lineMovePos[1].x,e=t.options.lineMovePos[2].x,s=t.options.lineMovePos[3].x,r=t.options.lineMovePos[0].y,u=t.options.lineMovePos[1].y,b=t.options.lineMovePos[2].y,n=t.options.lineMovePos[3].y}else{v=t.group.dots[0].connectedIndex,P=t.group.dots[1].connectedIndex,x=t.group.joinDots[0].connected[0],v=t.group.joinDots[0].connectedIndex[0];x.setGroupArea();T=t.group.joinDots[1].connected[0],P=t.group.joinDots[1].connectedIndex[0];T.setGroupArea();t.getObjBlockInfo(x),t.getObjBlockInfo(T);var c,C=sedLib.getJoinPosInfo3D(x,"E"),M=sedLib.getJoinPosInfo3D(x,"W"),L=sedLib.getJoinPosInfo3D(x,"N"),h=sedLib.getJoinPosInfo3D(x,"S"),V=(C.x+M.x)/2,m=(L.y+h.y)/2,X=sedLib.getVirRow(L.x,L.y),Y=sedLib.getVirRow(h.x,h.y),f=sedLib.getVirRow(C.x,C.y),H=sedLib.getVirRow(M.x,M.y),j=(sedLib.getVirCol(L.x,L.y),sedLib.getVirCol(h.x,h.y)),N=sedLib.getVirCol(C.x,C.y),w=sedLib.getVirCol(M.x,M.y),k=sedLib.getVirRow(V,m),B=sedLib.getVirCol(V,m),S=sedLib.getJoinPosInfo3D(T,"E"),I=sedLib.getJoinPosInfo3D(T,"W"),W=sedLib.getJoinPosInfo3D(T,"N"),E=sedLib.getJoinPosInfo3D(T,"S"),Z=(S.x+I.x)/2,J=(W.y+E.y)/2,R=sedLib.getVirRow(W.x,W.y),O=sedLib.getVirRow(E.x,E.y),z=sedLib.getVirRow(S.x,S.y),F=(sedLib.getVirRow(I.x,I.y),sedLib.getVirCol(W.x,W.y),sedLib.getVirCol(E.x,E.y)),G=sedLib.getVirCol(S.x,S.y),q=sedLib.getVirCol(I.x,I.y),U=sedLib.getVirRow(Z,J),K=sedLib.getVirCol(Z,J);y=t.group.joinDots[0].connected[0].get("rotate3D"),D=t.group.joinDots[1].connected[0].get("rotate3D");if("basic"==x.tagName||"basic3d"==x.tagName)"N"==(c=x.options.joinDotsPosData[v].dir)?v=0:"NE"==c?v=1:"E"==c?v=2:"SE"==c?v=3:"S"==c?v=4:"SW"==c?v=5:"W"==c?v=6:"NW"==c?v=7:alert("error no direction"+c),d=sedLib.getDir(v,y);else d=sedLib.getDir(v,y);if("basic"==T.tagName||"basic3d"==T.tagName)"N"==(A=T.options.joinDotsPosData[P].dir)?P=0:"NE"==A?P=1:"E"==A?P=2:"SE"==A?P=3:"S"==A?P=4:"SW"==A?P=5:"W"==A?P=6:"NW"==A?P=7:alert("error no direction"+c),A=sedLib.getDir(P,D);else A=sedLib.getDir(P,D);0==v?0==y?d=0:1==y?d=1:2==y?d=2:3==y&&(d=3):1==v?0==y?d=0:1==y?d=1:2==y?d=2:3==y&&(d=3):2==v?0==y?d=1:1==y?d=2:2==y?d=3:3==y&&(d=0):3==v?0==y?d=1:1==y?d=2:2==y?d=3:3==y&&(d=0):4==v?0==y?d=2:1==y?d=3:2==y?d=0:3==y&&(d=1):5==v?0==y?d=2:1==y?d=3:2==y?d=0:3==y&&(d=1):6==v?0==y?d=3:1==y?d=0:2==y?d=1:3==y&&(d=2):7==v&&(0==y?d=3:1==y?d=0:2==y?d=1:3==y&&(d=2)),0==P?0==D?A=0:1==D?A=1:2==D?A=2:3==D&&(A=3):1==P?0==D?A=0:1==D?A=1:2==D?A=2:3==D&&(A=3):2==P?0==D?A=1:1==D?A=2:2==D?A=3:3==D&&(A=0):3==P?0==D?A=1:1==D?A=2:2==D?A=3:3==D&&(A=0):4==P?0==D?A=2:1==D?A=3:2==D?A=0:3==D&&(A=1):5==P?0==D?A=2:1==D?A=3:2==D?A=0:3==D&&(A=1):6==P?0==D?A=3:1==D?A=0:2==D?A=1:3==D&&(A=2):7==P&&(0==D?A=3:1==D?A=0:2==D?A=1:3==D&&(A=2)),t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible);var Q={};if(0==d)if(0==A){i=(Q=sedLib.getPointXYCross(L,L)).x,r=Q.y,s=(Q=sedLib.getPointXYCross(W,W)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};R<=X?B<K?N<K?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(L,W)).x,u=Q.y,e=(Q=sedLib.getPointXYCross(W,W)).x,b=Q.y):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(L,C)).x,u=Q.y,e=(Q=sedLib.getPointXYCross(W,C)).x,b=Q.y,s=(Q=sedLib.getPointXYCross(W,W)).x,n=Q.y):K<w?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(L,W)).x,u=Q.y,e=(Q=sedLib.getPointXYCross(W,W)).x,b=Q.y):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(L,M)).x,u=Q.y,e=(Q=sedLib.getPointXYCross(W,M)).x,b=Q.y,s=(Q=sedLib.getPointXYCross(W,W)).x,n=Q.y):K<B?G<B?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(W,L)).x,u=Q.y,e=(Q=sedLib.getPointXYCross(W,L)).x,b=Q.y):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(L,S)).x,u=Q.y,e=(Q=sedLib.getPointXYCross(W,S)).x,b=Q.y,i=(Q=sedLib.getPointXYCross(L,L)).x,r=Q.y):B<q?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(W,L)).x,u=Q.y,e=(Q=sedLib.getPointXYCross(W,L)).x,b=Q.y):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(L,I)).x,u=Q.y,e=(Q=sedLib.getPointXYCross(W,I)).x,b=Q.y,i=(Q=sedLib.getPointXYCross(L,L)).x,r=Q.y)}else if(1==A){i=(Q=sedLib.getPointXYCross(L,L)).x,r=Q.y,s=(Q=sedLib.getPointXYCross(S,S)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};b=(e=X<=U?G<=B?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(S,L)).x,u=Q.y,Q.x):(u=(o=X<O?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),i=(Q=sedLib.getPointXYCross(E,L)).x,r=Q.y,(Q=sedLib.getPointXYCross(E,S)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),i=(Q=sedLib.getPointXYCross(W,L)).x,r=Q.y,(Q=sedLib.getPointXYCross(W,S)).x),Q.y),(Q=sedLib.getPointXYCross(S,S)).x):G<=w?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(L,L)).x,u=Q.y,(Q=sedLib.getPointXYCross(L,S)).x):G<=N?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(L,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(S,C)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(L,S)).x,u=Q.y,(Q=sedLib.getPointXYCross(S,S)).x),Q.y)}else if(2==A){i=(Q=sedLib.getPointXYCross(L,L)).x,r=Q.y,s=(Q=sedLib.getPointXYCross(E,E)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};b=(e=O<=X?K<=B?G<w?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(L,S)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,S)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(L,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,I)).x):N<q?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(L,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,I)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(L,S)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,S)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(E,L)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,E)).x),Q.y)}else if(3==A){i=(Q=sedLib.getPointXYCross(L,L)).x,r=Q.y,s=(Q=sedLib.getPointXYCross(I,I)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};b=(e=X<=U?B<=q?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(I,L)).x,u=Q.y,Q.x):X<O?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(L,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,I)).x):X<=R?(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(W,L)).x,u=Q.y,(Q=sedLib.getPointXYCross(W,I)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(L,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(I,I)).x):q<=N?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(L,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(I,I)).x):G<=w?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(L,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(S,C)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(L,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(I,I)).x),Q.y)}if(1==d)if(0==A){i=(Q=sedLib.getPointXYCross(C,C)).x,r=Q.y,s=(Q=sedLib.getPointXYCross(W,W)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};b=(e=R<f?N<K?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(C,W)).x,u=Q.y,Q.x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(C,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(W,C)).x):N<q?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(C,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(W,I)).x):X<R?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(W,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(W,W)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(L,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(L,W)).x),Q.y)}else if(1==A){i=(Q=sedLib.getPointXYCross(C,C)).x,r=Q.y,s=(Q=sedLib.getPointXYCross(S,S)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};k<O?b=(e=N<G?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(C,S)).x,u=Q.y,(Q=sedLib.getPointXYCross(S,S)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(C,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(S,C)).x),Q.y):R<k?b=(e=N<G?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(C,S)).x,u=Q.y,(Q=sedLib.getPointXYCross(S,S)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(C,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(S,C)).x),Q.y):k<=U?b=(e=G<w?(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),i=(Q=sedLib.getPointXYCross(C,C)).x,r=Q.y,o=(Q=sedLib.getPointXYCross(L,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(L,S)).x):(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),i=(Q=sedLib.getPointXYCross(C,I)).x,r=Q.y,o=(Q=sedLib.getPointXYCross(E,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,S)).x),Q.y):U<=k&&(b=(e=G<w?(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),i=(Q=sedLib.getPointXYCross(C,C)).x,r=Q.y,o=(Q=sedLib.getPointXYCross(h,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(h,S)).x):(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),i=(Q=sedLib.getPointXYCross(C,C)).x,r=Q.y,o=(Q=sedLib.getPointXYCross(L,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(L,S)).x),Q.y))}else if(2==A){i=(Q=sedLib.getPointXYCross(C,C)).x,r=Q.y,s=(Q=sedLib.getPointXYCross(E,E)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};b=(e=k<O?N<F?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(C,E)).x,u=Q.y,Q.x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(E,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,E)).x):N<q?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(C,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,I)).x):O<Y?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(E,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,E)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(h,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(h,E)).x),Q.y)}else if(3==A){i=(Q=sedLib.getPointXYCross(C,C)).x,r=Q.y,s=(Q=sedLib.getPointXYCross(I,I)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};b=(e=N<q?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(C,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(I,I)).x):X<O?(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(E,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,I)).x):R<Y?(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(E,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,I)).x):Y<O?(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(h,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(h,I)).x):(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(E,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,I)).x),Q.y)}if(2==d)if(0==A){i=(Q=sedLib.getPointXYCross(h,h)).x,r=Q.y,s=(Q=sedLib.getPointXYCross(W,W)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};b=(e=R<Y?(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(W,L)).x,u=Q.y,(Q=sedLib.getPointXYCross(W,W)).x):N<q?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(h,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(W,I)).x):G<w?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(h,S)).x,u=Q.y,(Q=sedLib.getPointXYCross(W,S)).x):N<G?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(h,S)).x,u=Q.y,(Q=sedLib.getPointXYCross(W,S)).x):R<=Y?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(h,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(L,C)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(h,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(W,C)).x),Q.y)}else if(1==A){i=(Q=sedLib.getPointXYCross(h,h)).x,r=Q.y,s=(Q=sedLib.getPointXYCross(S,S)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};b=(e=z<Y?G<j?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(S,h)).x,u=Q.y,Q.x):(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(h,S)).x,u=Q.y,(Q=sedLib.getPointXYCross(S,S)).x):G<w?O<f?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(h,S)).x,u=Q.y,(Q=sedLib.getPointXYCross(S,S)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(S,h)).x,u=Q.y,(Q=sedLib.getPointXYCross(S,h)).x):N<G?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(h,S)).x,u=Q.y,(Q=sedLib.getPointXYCross(S,S)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(h,C)).x,u=Q.y,(Q=sedLib.getPointXYCross(S,C)).x),Q.y)}else if(2==A){i=(Q=sedLib.getPointXYCross(h,h)).x,r=Q.y,s=(Q=sedLib.getPointXYCross(E,E)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};b=(e=O<Y?B<q&&G<B?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(E,h)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,C)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(h,S)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,S)).x):K<w&&N<K?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(E,E)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,E)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(h,M)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,M)).x),Q.y)}else if(3==A){i=(Q=sedLib.getPointXYCross(h,h)).x,r=Q.y,s=(Q=sedLib.getPointXYCross(I,I)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};b=(e=z<Y?j<q?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(I,h)).x,u=Q.y,Q.x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),i=(Q=sedLib.getPointXYCross(W,h)).x,r=Q.y,o=(Q=sedLib.getPointXYCross(W,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(I,I)).x):q<N?Y<O?w<q?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(h,M)).x,u=Q.y,(Q=sedLib.getPointXYCross(I,M)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(h,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(h,I)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),i=(Q=sedLib.getPointXYCross(E,h)).x,r=Q.y,o=(Q=sedLib.getPointXYCross(E,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,I)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(h,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(I,I)).x),Q.y)}if(3==d)if(i=(Q=sedLib.getPointXYCross(M,M)).x,r=Q.y,0==A){s=(Q=sedLib.getPointXYCross(W,W)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};R<H?b=(e=K<w?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(M,W)).x,u=Q.y,Q.x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(M,M)).x,u=Q.y,(Q=sedLib.getPointXYCross(W,M)).x),Q.y):G<w?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(M,S)).x,u=Q.y,e=(Q=sedLib.getPointXYCross(W,S)).x,b=Q.y):n=(s=R<X?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(M,M)).x,u=Q.y,e=(Q=sedLib.getPointXYCross(L,M)).x,b=Q.y,(Q=sedLib.getPointXYCross(L,W)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(M,M)).x,u=Q.y,e=(Q=sedLib.getPointXYCross(W,M)).x,b=Q.y,(Q=sedLib.getPointXYCross(W,W)).x),Q.y)}else if(1==A){i=(Q=sedLib.getPointXYCross(M,M)).x,r=Q.y,s=(Q=sedLib.getPointXYCross(S,S)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};b=(e=G<w?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(M,S)).x,u=Q.y,(Q=sedLib.getPointXYCross(S,S)).x):R<Y?(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(W,M)).x,u=Q.y,(Q=sedLib.getPointXYCross(W,S)).x):X<O?(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(E,M)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,S)).x):k<=U?(u=(o=(X<R?w<q?(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible)):(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),i=(Q=sedLib.getPointXYCross(M,S)).x,r=Q.y):(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),i=(Q=sedLib.getPointXYCross(M,M)).x,r=Q.y),(Q=sedLib.getPointXYCross(W,M)).x),Q.y),(Q=sedLib.getPointXYCross(W,S)).x):(u=(o=(X<R?w<q?(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible)):(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),i=(Q=sedLib.getPointXYCross(M,S)).x,r=Q.y):(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),i=(Q=sedLib.getPointXYCross(M,M)).x,r=Q.y),(Q=sedLib.getPointXYCross(E,M)).x),Q.y),(Q=sedLib.getPointXYCross(E,S)).x),Q.y)}else if(2==A){i=(Q=sedLib.getPointXYCross(M,M)).x,r=Q.y,s=(Q=sedLib.getPointXYCross(E,E)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};b=(e=k<O?K<w?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(M,E)).x,u=Q.y,Q.x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(M,M)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,M)).x):G<w?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(M,S)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,S)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility",t.editVisible),o=(Q=sedLib.getPointXYCross(M,M)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,M)).x),Q.y)}else if(3==A){i=(Q=sedLib.getPointXYCross(M,M)).x,r=Q.y,s=(Q=sedLib.getPointXYCross(I,I)).x,n=Q.y,t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H";Q={};b=(e=R<Y||X<O?q<w?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(M,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(I,I)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(M,M)).x,u=Q.y,(Q=sedLib.getPointXYCross(I,M)).x):w<q?U<Y?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(M,M)).x,u=Q.y,(Q=sedLib.getPointXYCross(I,M)).x):(t.options.lineMoveDir[0]="V",t.options.lineMoveDir[1]="H",t.options.lineMoveDir[2]="V",t.group.lineDots[0].setAttribute("visibility",t.editVisible),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(h,M)).x,u=Q.y,(Q=sedLib.getPointXYCross(h,I)).x):k<U?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(M,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(I,I)).x):R<k?(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility","hidden"),t.group.lineDots[2].setAttribute("visibility","hidden"),o=(Q=sedLib.getPointXYCross(M,I)).x,u=Q.y,(Q=sedLib.getPointXYCross(I,I)).x):(t.options.lineMoveDir[0]="H",t.options.lineMoveDir[1]="V",t.options.lineMoveDir[2]="H",t.group.lineDots[0].setAttribute("visibility","hidden"),t.group.lineDots[1].setAttribute("visibility",t.editVisible),t.group.lineDots[2].setAttribute("visibility","hidden"),i=(Q=sedLib.getPointXYCross(M,S)).x,r=Q.y,o=(Q=sedLib.getPointXYCross(E,S)).x,u=Q.y,(Q=sedLib.getPointXYCross(E,I)).x),Q.y)}}else s=e=o=i=(g+l)/2,u=r=p,n=b=a;var $=g+","+p+" "+i+","+r+" "+o+","+u+" "+e+","+b+" "+s+","+n+" "+l+","+a;if(t.options.lineMovePos[0].x=i,t.options.lineMovePos[1].x=o,t.options.lineMovePos[2].x=e,t.options.lineMovePos[3].x=s,t.options.lineMovePos[0].y=r,t.options.lineMovePos[1].y=u,t.options.lineMovePos[2].y=b,t.options.lineMovePos[3].y=n,t.options.lineDotsPos[0].x=(i+o)/2,t.options.lineDotsPos[1].x=(o+e)/2,t.options.lineDotsPos[2].x=(e+s)/2,t.options.lineDotsPos[0].y=(r+u)/2,t.options.lineDotsPos[1].y=(u+b)/2,t.options.lineDotsPos[2].y=(b+n)/2,t.group.tag.setAttribute("points",$),"line"==t.options.arrowType1&&(0==d?(t.group.subTag1.setAttribute("x1",g),t.group.subTag1.setAttribute("y1",p),t.group.subTag1.setAttribute("x2",g-10),t.group.subTag1.setAttribute("y2",p-10),t.group.subTag2.setAttribute("x1",g),t.group.subTag2.setAttribute("y1",p),t.group.subTag2.setAttribute("x2",g+10),t.group.subTag2.setAttribute("y2",p-10)):1==d?(t.group.subTag1.setAttribute("x1",g),t.group.subTag1.setAttribute("y1",p),t.group.subTag1.setAttribute("x2",g+10),t.group.subTag1.setAttribute("y2",p-10),t.group.subTag2.setAttribute("x1",g),t.group.subTag2.setAttribute("y1",p),t.group.subTag2.setAttribute("x2",g+10),t.group.subTag2.setAttribute("y2",p+10)):2==d?(t.group.subTag1.setAttribute("x1",g),t.group.subTag1.setAttribute("y1",p),t.group.subTag1.setAttribute("x2",g-10),t.group.subTag1.setAttribute("y2",p+10),t.group.subTag2.setAttribute("x1",g),t.group.subTag2.setAttribute("y1",p),t.group.subTag2.setAttribute("x2",g+10),t.group.subTag2.setAttribute("y2",p+10)):3==d&&(t.group.subTag1.setAttribute("x1",g),t.group.subTag1.setAttribute("y1",p),t.group.subTag1.setAttribute("x2",g-10),t.group.subTag1.setAttribute("y2",p-10),t.group.subTag2.setAttribute("x1",g),t.group.subTag2.setAttribute("y1",p),t.group.subTag2.setAttribute("x2",g-10),t.group.subTag2.setAttribute("y2",p+10)),t.group.subTag1.setAttribute("fill","none"),t.group.subTag2.setAttribute("fill","none")),"line"==t.options.arrowType2&&(0==A?(t.group.subTag11.setAttribute("x1",l),t.group.subTag11.setAttribute("y1",a),t.group.subTag11.setAttribute("x2",l-10),t.group.subTag11.setAttribute("y2",a-10),t.group.subTag12.setAttribute("x1",l),t.group.subTag12.setAttribute("y1",a),t.group.subTag12.setAttribute("x2",l+10),t.group.subTag12.setAttribute("y2",a-10)):1==A?(t.group.subTag11.setAttribute("x1",l),t.group.subTag11.setAttribute("y1",a),t.group.subTag11.setAttribute("x2",l+10),t.group.subTag11.setAttribute("y2",a-10),t.group.subTag12.setAttribute("x1",l),t.group.subTag12.setAttribute("y1",a),t.group.subTag12.setAttribute("x2",l+10),t.group.subTag12.setAttribute("y2",a+10)):2==A?(t.group.subTag11.setAttribute("x1",l),t.group.subTag11.setAttribute("y1",a),t.group.subTag11.setAttribute("x2",l-10),t.group.subTag11.setAttribute("y2",a+10),t.group.subTag12.setAttribute("x1",l),t.group.subTag12.setAttribute("y1",a),t.group.subTag12.setAttribute("x2",l+10),t.group.subTag12.setAttribute("y2",a+10)):3==A&&(t.group.subTag11.setAttribute("x1",l),t.group.subTag11.setAttribute("y1",a),t.group.subTag11.setAttribute("x2",l-10),t.group.subTag11.setAttribute("y2",a-10),t.group.subTag12.setAttribute("x1",l),t.group.subTag12.setAttribute("y1",a),t.group.subTag12.setAttribute("x2",l-10),t.group.subTag12.setAttribute("y2",a+10)),t.group.subTag11.setAttribute("fill","none"),t.group.subTag12.setAttribute("fill","none")),"triangle"==t.options.arrowType1){if(0==d){var _="M"+Number(g)+" "+Number(p)+" L"+Number(g-5)+" "+Number(p-5)+" L"+Number(g+5)+" "+Number(p-5)+" Z";t.group.subTag1.setAttribute("d",_)}else 1==d?t.group.subTag1.setAttribute("d","M"+Number(g)+" "+Number(p)+" L"+Number(g+5)+" "+Number(p-5)+" L"+Number(g+5)+" "+Number(p+5)+" Z"):2==d?t.group.subTag1.setAttribute("d","M"+Number(g)+" "+Number(p)+" L"+Number(g-5)+" "+Number(p+5)+" L"+Number(g+5)+" "+Number(p+5)+" Z"):3==d&&t.group.subTag1.setAttribute("d","M"+Number(g)+" "+Number(p)+" L"+Number(g-5)+" "+Number(p-5)+" L"+Number(g-5)+" "+Number(p+5)+" Z");t.group.subTag1.setAttribute("fill",t.options.fill)}if("triangle"==t.options.arrowType2&&(0==A?t.group.subTag11.setAttribute("d","M"+Number(l)+" "+Number(a)+" L"+Number(l-5)+" "+Number(a-5)+" L"+Number(l+5)+" "+Number(a-5)+" Z"):1==A?t.group.subTag11.setAttribute("d","M"+Number(l)+" "+Number(a)+" L"+Number(l+5)+" "+Number(a-5)+" L"+Number(l+5)+" "+Number(a+5)+" Z"):2==A?t.group.subTag11.setAttribute("d","M"+Number(l)+" "+Number(a)+" L"+Number(l-5)+" "+Number(a+5)+" L"+Number(l+5)+" "+Number(a+5)+" Z"):3==A&&t.group.subTag11.setAttribute("d","M"+Number(l)+" "+Number(a)+" L"+Number(l-5)+" "+Number(a-5)+" L"+Number(l-5)+" "+Number(a+5)+" Z"),t.group.subTag11.setAttribute("fill",t.options.fill)),"bigTriangle"==t.options.arrowType1||"bigTriangleBlank"==t.options.arrowType1){if(0==d){_="M"+Number(g)+" "+Number(p)+" L"+Number(g-10)+" "+Number(p-10)+" L"+Number(g+10)+" "+Number(p-10)+" Z";t.group.subTag1.setAttribute("d",_)}else 1==d?t.group.subTag1.setAttribute("d","M"+Number(g)+" "+Number(p)+" L"+Number(g+10)+" "+Number(p-10)+" L"+Number(g+10)+" "+Number(p+10)+" Z"):2==d?t.group.subTag1.setAttribute("d","M"+Number(g)+" "+Number(p)+" L"+Number(g-10)+" "+Number(p+10)+" L"+Number(g+10)+" "+Number(p+10)+" Z"):3==d&&t.group.subTag1.setAttribute("d","M"+Number(g)+" "+Number(p)+" L"+Number(g-10)+" "+Number(p-10)+" L"+Number(g-10)+" "+Number(p+10)+" Z");t.group.subTag1.setAttribute("fill",t.options.fill)}if("bigTriangle"!=t.options.arrowType2&&"bigTriangleBlank"!=t.options.arrowType1||(0==A?t.group.subTag11.setAttribute("d","M"+Number(l)+" "+Number(a)+" L"+Number(l-10)+" "+Number(a-10)+" L"+Number(l+10)+" "+Number(a-10)+" Z"):1==A?t.group.subTag11.setAttribute("d","M"+Number(l)+" "+Number(a)+" L"+Number(l+10)+" "+Number(a-10)+" L"+Number(l+10)+" "+Number(a+10)+" Z"):2==A?t.group.subTag11.setAttribute("d","M"+Number(l)+" "+Number(a)+" L"+Number(l-10)+" "+Number(a+10)+" L"+Number(l+10)+" "+Number(a+10)+" Z"):3==A&&t.group.subTag11.setAttribute("d","M"+Number(l)+" "+Number(a)+" L"+Number(l-10)+" "+Number(a-10)+" L"+Number(l-10)+" "+Number(a+10)+" Z"),t.group.subTag11.setAttribute("fill",t.options.fill)),"bigTriangle2"==t.options.arrowType1){if(0==d){_="M"+Number(g)+" "+Number(p-10)+" L"+Number(g-10)+" "+Number(p)+" L"+Number(g+10)+" "+Number(p)+" Z";t.group.subTag1.setAttribute("d",_)}else 1==d?t.group.subTag1.setAttribute("d","M"+Number(g-10)+" "+Number(p)+" L"+Number(g)+" "+Number(p-10)+" L"+Number(g)+" "+Number(p+10)+" Z"):2==d?t.group.subTag1.setAttribute("d","M"+Number(g)+" "+Number(p+10)+" L"+Number(g-10)+" "+Number(p)+" L"+Number(g+10)+" "+Number(p)+" Z"):3==d&&t.group.subTag1.setAttribute("d","M"+Number(g+10)+" "+Number(p)+" L"+Number(g)+" "+Number(p-10)+" L"+Number(g)+" "+Number(p+10)+" Z");t.group.subTag1.setAttribute("fill",t.options.fill)}if("bigTriangle2"==t.options.arrowType11){if(0==d){_="M"+Number(l)+" "+Number(a-10)+" L"+Number(l-10)+" "+Number(a)+" L"+Number(l+10)+" "+Number(a)+" Z";t.group.arrowType11.setAttribute("d",_)}else 1==d?t.group.arrowType11.setAttribute("d","M"+Number(l-10)+" "+Number(a)+" L"+Number(l)+" "+Number(a-10)+" L"+Number(l)+" "+Number(a+10)+" Z"):2==d?t.group.arrowType11.setAttribute("d","M"+Number(l)+" "+Number(a+10)+" L"+Number(l-10)+" "+Number(a)+" L"+Number(l+10)+" "+Number(a)+" Z"):3==d&&t.group.arrowType11.setAttribute("d","M"+Number(l+10)+" "+Number(a)+" L"+Number(l)+" "+Number(a-10)+" L"+Number(l)+" "+Number(a+10)+" Z");t.group.arrowType11.setAttribute("fill",t.options.fill)}"diamond"!=t.options.arrowType1&&"diamondBlank"!=t.options.arrowType1||(0==d?t.group.subTag1.setAttribute("points",g+","+p+" "+(g-10)+","+(p-10)+" "+(g-0)+","+(p-20)+" "+(g+10)+","+(p-10)):1==d?t.group.subTag1.setAttribute("points",g+","+p+" "+(g+10)+","+(p-10)+" "+(g+20)+","+p+" "+(g+10)+","+(p+10)):2==d?t.group.subTag1.setAttribute("points",g+","+p+" "+(g-10)+","+(p+10)+" "+(g-0)+","+(p+20)+" "+(g+10)+","+(p+10)):3==d&&t.group.subTag1.setAttribute("points",g+","+p+" "+(g-10)+","+(p-10)+" "+(g-20)+","+p+" "+(g-10)+","+(p+10)),t.group.subTag1.setAttribute("fill",t.options.fill)),"diamond"!=t.options.arrowType2&&"diamondBlank"!=t.options.arrowType2||(0==A?t.group.subTag11.setAttribute("points",l+","+a+" "+(l-10)+","+(a-10)+" "+(l-0)+","+(a-20)+" "+(l+10)+","+(a-10)):1==A?t.group.subTag11.setAttribute("points",l+","+a+" "+(l+10)+","+(a-10)+" "+(l+20)+","+a+" "+(l+10)+","+(a+10)):2==A?t.group.subTag11.setAttribute("points",l+","+a+" "+(l-10)+","+(a+10)+" "+(l-0)+","+(a+20)+" "+(l+10)+","+(a+10)):3==A&&t.group.subTag11.setAttribute("points",l+","+a+" "+(l-10)+","+(a-10)+" "+(l-20)+","+a+" "+(l-10)+","+(a+10)),t.group.subTag11.setAttribute("fill",t.options.fill)),"circle"==t.options.arrowType1&&(0==d?(t.group.subTag1.setAttribute("cx",g),t.group.subTag1.setAttribute("cy",p-10),t.group.subTag1.setAttribute("r",8)):1==d?(t.group.subTag1.setAttribute("cx",g+10),t.group.subTag1.setAttribute("cy",p-0),t.group.subTag1.setAttribute("r",8)):2==d?(t.group.subTag1.setAttribute("cx",g+0),t.group.subTag1.setAttribute("cy",p+10),t.group.subTag1.setAttribute("r",8)):3==d&&(t.group.subTag1.setAttribute("cx",g-10),t.group.subTag1.setAttribute("cy",p-0),t.group.subTag1.setAttribute("r",8)),t.group.subTag1.setAttribute("fill",t.options.fill)),"circle"==t.options.arrowType2&&(0==A?(t.group.subTag11.setAttribute("cx",l),t.group.subTag11.setAttribute("cy",a-10),t.group.subTag11.setAttribute("r",8)):1==A?(t.group.subTag11.setAttribute("cx",l+10),t.group.subTag11.setAttribute("cy",a-0),t.group.subTag11.setAttribute("r",8)):2==A?(t.group.subTag11.setAttribute("cx",l+0),t.group.subTag11.setAttribute("cy",a+10),t.group.subTag11.setAttribute("r",8)):3==A&&(t.group.subTag11.setAttribute("cx",l-10),t.group.subTag11.setAttribute("cy",a-0),t.group.subTag11.setAttribute("r",8)),t.group.subTag11.setAttribute("fill",t.options.fill)),"many"==t.options.arrowType1&&(0==d?(t.group.subTag1.setAttribute("x1",g),t.group.subTag1.setAttribute("y1",p-10),t.group.subTag1.setAttribute("x2",g-10),t.group.subTag1.setAttribute("y2",p),t.group.subTag2.setAttribute("x1",g),t.group.subTag2.setAttribute("y1",p-10),t.group.subTag2.setAttribute("x2",g+10),t.group.subTag2.setAttribute("y2",p)):1==d?(t.group.subTag1.setAttribute("x1",g+10),t.group.subTag1.setAttribute("y1",p),t.group.subTag1.setAttribute("x2",g),t.group.subTag1.setAttribute("y2",p-10),t.group.subTag2.setAttribute("x1",g+10),t.group.subTag2.setAttribute("y1",p),t.group.subTag2.setAttribute("x2",g),t.group.subTag2.setAttribute("y2",p+10)):2==d?(t.group.subTag1.setAttribute("x1",g),t.group.subTag1.setAttribute("y1",p+10),t.group.subTag1.setAttribute("x2",g-10),t.group.subTag1.setAttribute("y2",p),t.group.subTag2.setAttribute("x1",g),t.group.subTag2.setAttribute("y1",p+10),t.group.subTag2.setAttribute("x2",g+10),t.group.subTag2.setAttribute("y2",p)):3==d&&(t.group.subTag1.setAttribute("x1",g-10),t.group.subTag1.setAttribute("y1",p),t.group.subTag1.setAttribute("x2",g),t.group.subTag1.setAttribute("y2",p-10),t.group.subTag2.setAttribute("x1",g-10),t.group.subTag2.setAttribute("y1",p),t.group.subTag2.setAttribute("x2",g),t.group.subTag2.setAttribute("y2",p+10)),t.group.subTag1.setAttribute("fill","none"),t.group.subTag2.setAttribute("fill","none")),"many"==t.options.arrowType2&&(0==A?(t.group.subTag11.setAttribute("x1",l),t.group.subTag11.setAttribute("y1",a-10),t.group.subTag11.setAttribute("x2",l-10),t.group.subTag11.setAttribute("y2",a),t.group.subTag12.setAttribute("x1",l),t.group.subTag12.setAttribute("y1",a-10),t.group.subTag12.setAttribute("x2",l+10),t.group.subTag12.setAttribute("y2",a)):1==A?(t.group.subTag11.setAttribute("x1",l+10),t.group.subTag11.setAttribute("y1",a),t.group.subTag11.setAttribute("x2",l),t.group.subTag11.setAttribute("y2",a-10),t.group.subTag12.setAttribute("x1",l+10),t.group.subTag12.setAttribute("y1",a),t.group.subTag12.setAttribute("x2",l),t.group.subTag12.setAttribute("y2",a+10)):2==A?(t.group.subTag11.setAttribute("x1",l),t.group.subTag11.setAttribute("y1",a+10),t.group.subTag11.setAttribute("x2",l-10),t.group.subTag11.setAttribute("y2",a),t.group.subTag12.setAttribute("x1",l),t.group.subTag12.setAttribute("y1",a+10),t.group.subTag12.setAttribute("x2",l+10),t.group.subTag12.setAttribute("y2",a)):3==A&&(t.group.subTag11.setAttribute("x1",l-10),t.group.subTag11.setAttribute("y1",a),t.group.subTag11.setAttribute("x2",l),t.group.subTag11.setAttribute("y2",a-10),t.group.subTag12.setAttribute("x1",l-10),t.group.subTag12.setAttribute("y1",a),t.group.subTag12.setAttribute("x2",l),t.group.subTag12.setAttribute("y2",a+10)),t.group.subTag11.setAttribute("fill","none"),t.group.subTag12.setAttribute("fill","none")),"one"==t.options.arrowType1&&(0==d?(t.group.subTag1.setAttribute("x1",g-10),t.group.subTag1.setAttribute("y1",p-10),t.group.subTag1.setAttribute("x2",g+10),t.group.subTag1.setAttribute("y2",p-10)):1==d?(t.group.subTag1.setAttribute("x1",g+10),t.group.subTag1.setAttribute("y1",p-10),t.group.subTag1.setAttribute("x2",g+10),t.group.subTag1.setAttribute("y2",p+10)):2==d?(t.group.subTag1.setAttribute("x1",g-10),t.group.subTag1.setAttribute("y1",p+10),t.group.subTag1.setAttribute("x2",g+10),t.group.subTag1.setAttribute("y2",p+10)):3==d&&(t.group.subTag1.setAttribute("x1",g-10),t.group.subTag1.setAttribute("y1",p-10),t.group.subTag1.setAttribute("x2",g-10),t.group.subTag1.setAttribute("y2",p+10)),t.group.subTag1.setAttribute("fill",t.options.fill)),"one"==t.options.arrowType2&&(0==A?(t.group.subTag11.setAttribute("x1",g-10),t.group.subTag11.setAttribute("y1",p-10),t.group.subTag11.setAttribute("x2",g+10),t.group.subTag11.setAttribute("y2",p-10)):1==A?(t.group.subTag11.setAttribute("x1",g+10),t.group.subTag11.setAttribute("y1",p-10),t.group.subTag11.setAttribute("x2",g+10),t.group.subTag11.setAttribute("y2",p+10)):2==A?(t.group.subTag11.setAttribute("x1",g-10),t.group.subTag11.setAttribute("y1",p+10),t.group.subTag11.setAttribute("x2",g+10),t.group.subTag11.setAttribute("y2",p+10)):3==A&&(t.group.subTag11.setAttribute("x1",g-10),t.group.subTag11.setAttribute("y1",p-10),t.group.subTag11.setAttribute("x2",g-10),t.group.subTag11.setAttribute("y2",p+10)),t.group.subTag11.setAttribute("fill",t.options.fill)),"zeroOne"==t.options.arrowType1&&(0==d?(t.group.subTag1.setAttribute("x1",g-10),t.group.subTag1.setAttribute("y1",p-10),t.group.subTag1.setAttribute("x2",g+10),t.group.subTag1.setAttribute("y2",p-10),t.group.subTag2.setAttribute("x",g),t.group.subTag2.setAttribute("y",p-20),t.group.subTag2.setAttribute("r",8)):1==d?(t.group.subTag1.setAttribute("x1",g+10),t.group.subTag1.setAttribute("y1",p-10),t.group.subTag1.setAttribute("x2",g+10),t.group.subTag1.setAttribute("y2",p+10),t.group.subTag2.setAttribute("x",g+20),t.group.subTag2.setAttribute("y",p),t.group.subTag2.setAttribute("r",8)):2==d?(t.group.subTag1.setAttribute("x1",g-10),t.group.subTag1.setAttribute("y1",p+10),t.group.subTag1.setAttribute("x2",g+10),t.group.subTag1.setAttribute("y2",p+10),t.group.subTag2.setAttribute("x",g),t.group.subTag2.setAttribute("y",p+20),t.group.subTag2.setAttribute("r",8)):3==d&&(t.group.subTag1.setAttribute("x1",g-10),t.group.subTag1.setAttribute("y1",p-10),t.group.subTag1.setAttribute("x2",g-10),t.group.subTag1.setAttribute("y2",p+10),t.group.subTag2.setAttribute("x",g-20),t.group.subTag2.setAttribute("y",p),t.group.subTag2.setAttribute("r",8)),t.group.subTag1.setAttribute("fill","none"),t.group.subTag2.setAttribute("fill",t.options.fill)),"zeroOne"==t.options.arrowType2&&(0==A?(t.group.subTag3.setAttribute("x1",g-10),t.group.subTag3.setAttribute("y1",p-10),t.group.subTag3.setAttribute("x2",g+10),t.group.subTag3.setAttribute("y2",p-10),t.group.subTag4.setAttribute("x",g),t.group.subTag4.setAttribute("y",p-20),t.group.subTag4.setAttribute("r",8)):1==A?(t.group.subTag3.setAttribute("x1",g+10),t.group.subTag3.setAttribute("y1",p-10),t.group.subTag3.setAttribute("x2",g+10),t.group.subTag3.setAttribute("y2",p+10),t.group.subTag4.setAttribute("x",g+20),t.group.subTag4.setAttribute("y",p),t.group.subTag4.setAttribute("r",8)):2==A?(t.group.subTag3.setAttribute("x1",g-10),t.group.subTag3.setAttribute("y1",p+10),t.group.subTag3.setAttribute("x2",g+10),t.group.subTag3.setAttribute("y2",p+10),t.group.subTag4.setAttribute("x",g),t.group.subTag4.setAttribute("y",p+20),t.group.subTag4.setAttribute("r",8)):3==A&&(t.group.subTag3.setAttribute("x1",g-10),t.group.subTag3.setAttribute("y1",p-10),t.group.subTag3.setAttribute("x2",g-10),t.group.subTag3.setAttribute("y2",p+10),t.group.subTag4.setAttribute("x",g-20),t.group.subTag4.setAttribute("y",p),t.group.subTag4.setAttribute("r",8)),t.group.subTag11.setAttribute("fill","none"),t.group.subTag12.setAttribute("fill",t.options.fill)),"onlyOne"==t.options.arrowType1&&(0==d?(t.group.subTag1.setAttribute("x1",g-10),t.group.subTag1.setAttribute("y1",p-10),t.group.subTag1.setAttribute("x2",g+10),t.group.subTag1.setAttribute("y2",p-10),t.group.subTag2.setAttribute("x1",g-10),t.group.subTag2.setAttribute("y1",p-5),t.group.subTag2.setAttribute("x2",g+10),t.group.subTag2.setAttribute("y2",p-5)):1==d?(t.group.subTag1.setAttribute("x1",g+10),t.group.subTag1.setAttribute("y1",p-10),t.group.subTag1.setAttribute("x2",g+10),t.group.subTag1.setAttribute("y2",p+10),t.group.subTag2.setAttribute("x1",g+5),t.group.subTag2.setAttribute("y1",p-10),t.group.subTag2.setAttribute("x2",g+5),t.group.subTag2.setAttribute("y2",p+10)):2==d?(t.group.subTag1.setAttribute("x1",g-10),t.group.subTag1.setAttribute("y1",p+10),t.group.subTag1.setAttribute("x2",g+10),t.group.subTag1.setAttribute("y2",p+10),t.group.subTag2.setAttribute("x1",g-10),t.group.subTag2.setAttribute("y1",p+5),t.group.subTag2.setAttribute("x2",g+10),t.group.subTag2.setAttribute("y2",p+5)):3==d&&(t.group.subTag1.setAttribute("x1",g-10),t.group.subTag1.setAttribute("y1",p-10),t.group.subTag1.setAttribute("x2",g-10),t.group.subTag1.setAttribute("y2",p+10),t.group.subTag2.setAttribute("x1",g-5),t.group.subTag2.setAttribute("y1",p-10),t.group.subTag2.setAttribute("x2",g-5),t.group.subTag2.setAttribute("y2",p+10)),t.group.subTag1.setAttribute("fill","none"),t.group.subTag2.setAttribute("fill","none")),"onlyOne"==t.options.arrowType2&&(0==A?(t.group.subTag11.setAttribute("x1",g-10),t.group.subTag11.setAttribute("y1",p-10),t.group.subTag11.setAttribute("x2",g+10),t.group.subTag11.setAttribute("y2",p-10),t.group.subTag12.setAttribute("x1",g-10),t.group.subTag12.setAttribute("y1",p-5),t.group.subTag12.setAttribute("x2",g+10),t.group.subTag12.setAttribute("y2",p-5)):1==A?(t.group.subTag11.setAttribute("x1",g+10),t.group.subTag11.setAttribute("y1",p-10),t.group.subTag11.setAttribute("x2",g+10),t.group.subTag11.setAttribute("y2",p+10),t.group.subTag12.setAttribute("x1",g+5),t.group.subTag12.setAttribute("y1",p-10),t.group.subTag12.setAttribute("x2",g+5),t.group.subTag12.setAttribute("y2",p+10)):2==A?(t.group.subTag11.setAttribute("x1",g-10),t.group.subTag11.setAttribute("y1",p+10),t.group.subTag11.setAttribute("x2",g+10),t.group.subTag11.setAttribute("y2",p+10),t.group.subTag12.setAttribute("x1",g-10),t.group.subTag12.setAttribute("y1",p+5),t.group.subTag12.setAttribute("x2",g+10),t.group.subTag12.setAttribute("y2",p+5)):3==A&&(t.group.subTag11.setAttribute("x1",g-10),t.group.subTag11.setAttribute("y1",p-10),t.group.subTag11.setAttribute("x2",g-10),t.group.subTag11.setAttribute("y2",p+10),t.group.subTag12.setAttribute("x1",g-5),t.group.subTag12.setAttribute("y1",p-10),t.group.subTag12.setAttribute("x2",g-5),t.group.subTag12.setAttribute("y2",p+10)),t.group.subTag11.setAttribute("fill","none"),t.group.subTag12.setAttribute("fill","none")),"oneMany"==t.options.arrowType1&&(0==d?(t.group.subTag1.setAttribute("x1",g),t.group.subTag1.setAttribute("y1",p-10),t.group.subTag1.setAttribute("x2",g-10),t.group.subTag1.setAttribute("y2",p),t.group.subTag2.setAttribute("x1",g),t.group.subTag2.setAttribute("y1",p-10),t.group.subTag2.setAttribute("x2",g+10),t.group.subTag2.setAttribute("y2",p),t.group.subTag3.setAttribute("x1",g-10),t.group.subTag3.setAttribute("y1",p-10),t.group.subTag3.setAttribute("x2",g+10),t.group.subTag3.setAttribute("y2",p-10)):1==d?(t.group.subTag1.setAttribute("x1",g+10),t.group.subTag1.setAttribute("y1",p),t.group.subTag1.setAttribute("x2",g),t.group.subTag1.setAttribute("y2",p-10),t.group.subTag2.setAttribute("x1",g+10),t.group.subTag2.setAttribute("y1",p),t.group.subTag2.setAttribute("x2",g),t.group.subTag2.setAttribute("y2",p+10),t.group.subTag3.setAttribute("x1",g+10),t.group.subTag3.setAttribute("y1",p-10),t.group.subTag3.setAttribute("x2",g+10),t.group.subTag3.setAttribute("y2",p+10)):2==d?(t.group.subTag1.setAttribute("x1",g),t.group.subTag1.setAttribute("y1",p+10),t.group.subTag1.setAttribute("x2",g-10),t.group.subTag1.setAttribute("y2",p),t.group.subTag2.setAttribute("x1",g),t.group.subTag2.setAttribute("y1",p+10),t.group.subTag2.setAttribute("x2",g+10),t.group.subTag2.setAttribute("y2",p),t.group.subTag3.setAttribute("x1",g-10),t.group.subTag3.setAttribute("y1",p+10),t.group.subTag3.setAttribute("x2",g+10),t.group.subTag3.setAttribute("y2",p+10)):3==d&&(t.group.subTag1.setAttribute("x1",g-10),t.group.subTag1.setAttribute("y1",p),t.group.subTag1.setAttribute("x2",g),t.group.subTag1.setAttribute("y2",p-10),t.group.subTag2.setAttribute("x1",g-10),t.group.subTag2.setAttribute("y1",p),t.group.subTag2.setAttribute("x2",g),t.group.subTag2.setAttribute("y2",p+10),t.group.subTag3.setAttribute("x1",g-10),t.group.subTag3.setAttribute("y1",p-10),t.group.subTag3.setAttribute("x2",g-10),t.group.subTag3.setAttribute("y2",p+10)),t.group.subTag1.setAttribute("fill","none"),t.group.subTag2.setAttribute("fill","none"),t.group.subTag3.setAttribute("fill","none")),"zeroMany"==t.options.arrowType1&&(0==d?(t.group.subTag1.setAttribute("x1",g),t.group.subTag1.setAttribute("y1",p-10),t.group.subTag1.setAttribute("x2",g-10),t.group.subTag1.setAttribute("y2",p),t.group.subTag2.setAttribute("x1",g),t.group.subTag2.setAttribute("y1",p-10),t.group.subTag2.setAttribute("x2",g+10),t.group.subTag2.setAttribute("y2",p),t.group.subTag3.setAttribute("x",g),t.group.subTag3.setAttribute("y",p-20),t.group.subTag3.setAttribute("r",8)):1==d?(t.group.subTag1.setAttribute("x1",g+10),t.group.subTag1.setAttribute("y1",p),t.group.subTag1.setAttribute("x2",g),t.group.subTag1.setAttribute("y2",p-10),t.group.subTag2.setAttribute("x1",g+10),t.group.subTag2.setAttribute("y1",p),t.group.subTag2.setAttribute("x2",g),t.group.subTag2.setAttribute("y2",p+10),t.group.subTag3.setAttribute("x",g+20),t.group.subTag3.setAttribute("y",p),t.group.subTag3.setAttribute("r",8)):2==d?(t.group.subTag1.setAttribute("x1",g),t.group.subTag1.setAttribute("y1",p+10),t.group.subTag1.setAttribute("x2",g-10),t.group.subTag1.setAttribute("y2",p),t.group.subTag2.setAttribute("x1",g),t.group.subTag2.setAttribute("y1",p+10),t.group.subTag2.setAttribute("x2",g+10),t.group.subTag2.setAttribute("y2",p),t.group.subTag3.setAttribute("x",g),t.group.subTag3.setAttribute("y",p+20),t.group.subTag3.setAttribute("r",8)):3==d&&(t.group.subTag1.setAttribute("x1",g-10),t.group.subTag1.setAttribute("y1",p),t.group.subTag1.setAttribute("x2",g),t.group.subTag1.setAttribute("y2",p-10),t.group.subTag2.setAttribute("x1",g-10),t.group.subTag2.setAttribute("y1",p),t.group.subTag2.setAttribute("x2",g),t.group.subTag2.setAttribute("y2",p+10),t.group.subTag3.setAttribute("x",g-20),t.group.subTag3.setAttribute("y",p),t.group.subTag3.setAttribute("r",8)),t.group.subTag1.setAttribute("fill","none"),t.group.subTag2.setAttribute("fill","none"),t.group.subTag3.setAttribute("fill",t.options.fill)),"zeroMany"==t.options.arrowType2&&(0==A?(t.group.subTag4.setAttribute("x1",g),t.group.subTag4.setAttribute("y1",p-10),t.group.subTag4.setAttribute("x2",g-10),t.group.subTag4.setAttribute("y2",p),t.group.subTag5.setAttribute("x1",g),t.group.subTag5.setAttribute("y1",p-10),t.group.subTag5.setAttribute("x2",g+10),t.group.subTag5.setAttribute("y2",p),t.group.subTag6.setAttribute("x",g),t.group.subTag6.setAttribute("y",p-20),t.group.subTag6.setAttribute("r",8)):1==A?(t.group.subTag4.setAttribute("x1",g+10),t.group.subTag4.setAttribute("y1",p),t.group.subTag4.setAttribute("x2",g),t.group.subTag4.setAttribute("y2",p-10),t.group.subTag5.setAttribute("x1",g+10),t.group.subTag5.setAttribute("y1",p),t.group.subTag5.setAttribute("x2",g),t.group.subTag5.setAttribute("y2",p+10),t.group.subTag6.setAttribute("x",g+20),t.group.subTag6.setAttribute("y",p),t.group.subTag6.setAttribute("r",8)):2==A?(t.group.subTag4.setAttribute("x1",g),t.group.subTag4.setAttribute("y1",p+10),t.group.subTag4.setAttribute("x2",g-10),t.group.subTag4.setAttribute("y2",p),t.group.subTag5.setAttribute("x1",g),t.group.subTag5.setAttribute("y1",p+10),t.group.subTag5.setAttribute("x2",g+10),t.group.subTag5.setAttribute("y2",p),t.group.subTag6.setAttribute("x",g),t.group.subTag6.setAttribute("y",p+20),t.group.subTag6.setAttribute("r",8)):3==A&&(t.group.subTag4.setAttribute("x1",g-10),t.group.subTag4.setAttribute("y1",p),t.group.subTag4.setAttribute("x2",g),t.group.subTag4.setAttribute("y2",p-10),t.group.subTag5.setAttribute("x1",g-10),t.group.subTag5.setAttribute("y1",p),t.group.subTag5.setAttribute("x2",g),t.group.subTag5.setAttribute("y2",p+10),t.group.subTag6.setAttribute("x",g-20),t.group.subTag6.setAttribute("y",p),t.group.subTag6.setAttribute("r",8)),t.group.subTag1.setAttribute("fill","none"),t.group.subTag2.setAttribute("fill","none"),t.group.subTag3.setAttribute("fill",t.options.fill)),"oneMany"==t.options.arrowType2&&(0==A?(t.group.subTag11.setAttribute("x1",g),t.group.subTag11.setAttribute("y1",p-10),t.group.subTag11.setAttribute("x2",g-10),t.group.subTag11.setAttribute("y2",p),t.group.subTag12.setAttribute("x1",g),t.group.subTag12.setAttribute("y1",p-10),t.group.subTag12.setAttribute("x2",g+10),t.group.subTag12.setAttribute("y2",p),t.group.subTag13.setAttribute("x1",g-10),t.group.subTag13.setAttribute("y1",p-10),t.group.subTag13.setAttribute("x2",g+10),t.group.subTag13.setAttribute("y2",p-10)):1==A?(t.group.subTag11.setAttribute("x1",g+10),t.group.subTag11.setAttribute("y1",p),t.group.subTag11.setAttribute("x2",g),t.group.subTag11.setAttribute("y2",p-10),t.group.subTag12.setAttribute("x1",g+10),t.group.subTag12.setAttribute("y1",p),t.group.subTag12.setAttribute("x2",g),t.group.subTag12.setAttribute("y2",p+10),t.group.subTag13.setAttribute("x1",g+10),t.group.subTag13.setAttribute("y1",p-10),t.group.subTag13.setAttribute("x2",g+10),t.group.subTag13.setAttribute("y2",p+10)):2==A?(t.group.subTag11.setAttribute("x1",g),t.group.subTag11.setAttribute("y1",p+10),t.group.subTag11.setAttribute("x2",g-10),t.group.subTag11.setAttribute("y2",p),t.group.subTag12.setAttribute("x1",g),t.group.subTag12.setAttribute("y1",p+10),t.group.subTag12.setAttribute("x2",g+10),t.group.subTag12.setAttribute("y2",p),t.group.subTag13.setAttribute("x1",g-10),t.group.subTag13.setAttribute("y1",p+10),t.group.subTag13.setAttribute("x2",g+10),t.group.subTag13.setAttribute("y2",p+10)):3==A&&(t.group.subTag11.setAttribute("x1",g-10),t.group.subTag11.setAttribute("y1",p),t.group.subTag11.setAttribute("x2",g),t.group.subTag11.setAttribute("y2",p-10),t.group.subTag12.setAttribute("x1",g-10),t.group.subTag12.setAttribute("y1",p),t.group.subTag12.setAttribute("x2",g),t.group.subTag12.setAttribute("y2",p+10),t.group.subTag13.setAttribute("x1",g-10),t.group.subTag13.setAttribute("y1",p-10),t.group.subTag13.setAttribute("x2",g-10),t.group.subTag13.setAttribute("y2",p+10)),t.group.subTag11.setAttribute("fill","none"),t.group.subTag12.setAttribute("fill","none"),t.group.subTag13.setAttribute("fill","none")),t.drawDots()},sedLib.resizePointTo3D=function(t,i,o,e){var s=t.get("rotate3D"),r=o/90+e/60,u=-1*(e/60-o/90),b=t.get("rowBlock"),n=t.get("colBlock");0==s?0==i?n+=u:1==i?b+=r:2==i?(n-=u,t.moveTo(90*u/2*1,60*u/2*-1)):3==i&&(b-=r,t.moveTo(90*r/2*1,60*r/2*1)):1==s?3==i?n+=u:0==i?b+=r:1==i?(n-=u,t.moveTo(90*u/2*1,60*u/2*-1)):2==i&&(b-=r,t.moveTo(90*r/2*1,60*r/2*1)):2==s?2==i?n+=u:3==i?b+=r:0==i?(n-=u,t.moveTo(90*u/2*1,60*u/2*-1)):1==i&&(b-=r,t.moveTo(90*r/2*1,60*r/2*1)):3==s&&(1==i?n+=u:2==i?b+=r:3==i?(n-=u,t.moveTo(90*u/2*1,60*u/2*-1)):0==i&&(b-=r,t.moveTo(90*r/2*1,60*r/2*1))),b<=1&&(b=1),n<=1&&(n=1),t.set("rowBlock",b),t.set("colBlock",n),setTagsShape(t,t.options,!1,400),null!=t.group.tagText&&(t.group.tagText.setAttribute("width",t.get("width")),t.group.tagText.setAttribute("height",t.get("height")));var g=t.options.heightBlock;t.options.rotateDotPos={x:(f+w)/2,y:(H+k)/2-60};var p=t.options.rowBlock*t.unitWidth*1,l=t.options.colBlock*t.unitWidth,a=(t.options.colBlock+t.options.rowBlock)*t.unitWidth,d=t.options.rowBlock*t.unitHeight*1,A=t.options.colBlock*t.unitHeight*-1,y=(t.options.colBlock-t.options.rowBlock)*t.unitHeight*-1,D=(l+a)/2,x=(A+y)/2,v=a,T=y,P=(a+p)/2,c=(y+d)/2,C=p,M=d,L=(0+p)/2,h=(0+d)/2,V=(0+l)/2,m=(0+A)/2,X=l,Y=A,f=(l+a)/2,H=(A+y)/2-g,j=(a+p)/2,N=(y+d)/2-g,w=(0+p)/2,k=(0+d)/2-g,B=(0+l)/2,S=(0+A)/2-g,I=A-g;t.options.imgPosX=0,t.options.imgPosY=I,t.options.imgWidth=v-0,t.options.imgHeight=M-I,t.options.rotateDotPos={x:(f+w)/2,y:(H+k)/2-60},0==s?(t.options.dotsPosCalc[0].x=f,t.options.dotsPosCalc[0].y=H,t.options.dotsPosCalc[1].x=j,t.options.dotsPosCalc[1].y=N,t.options.dotsPosCalc[2].x=w,t.options.dotsPosCalc[2].y=k,t.options.dotsPosCalc[3].x=B,t.options.dotsPosCalc[3].y=S,t.options.joinDotsPosCalc[0].x=D,t.options.joinDotsPosCalc[0].y=x,t.options.joinDotsPosCalc[1].x=v,t.options.joinDotsPosCalc[1].y=T,t.options.joinDotsPosCalc[2].x=P,t.options.joinDotsPosCalc[2].y=c,t.options.joinDotsPosCalc[3].x=C,t.options.joinDotsPosCalc[3].y=M,t.options.joinDotsPosCalc[4].x=L,t.options.joinDotsPosCalc[4].y=h,t.options.joinDotsPosCalc[5].x=0,t.options.joinDotsPosCalc[5].y=0,t.options.joinDotsPosCalc[6].x=V,t.options.joinDotsPosCalc[6].y=m,t.options.joinDotsPosCalc[7].x=X,t.options.joinDotsPosCalc[7].y=Y):1==s?(t.options.dotsPosCalc[0].x=j,t.options.dotsPosCalc[0].y=N,t.options.dotsPosCalc[1].x=w,t.options.dotsPosCalc[1].y=k,t.options.dotsPosCalc[2].x=B,t.options.dotsPosCalc[2].y=S,t.options.dotsPosCalc[3].x=f,t.options.dotsPosCalc[3].y=H,t.options.joinDotsPosCalc[0].x=P,t.options.joinDotsPosCalc[0].y=c,t.options.joinDotsPosCalc[1].x=C,t.options.joinDotsPosCalc[1].y=M,t.options.joinDotsPosCalc[2].x=L,t.options.joinDotsPosCalc[2].y=h,t.options.joinDotsPosCalc[3].x=0,t.options.joinDotsPosCalc[3].y=0,t.options.joinDotsPosCalc[4].x=V,t.options.joinDotsPosCalc[4].y=m,t.options.joinDotsPosCalc[5].x=X,t.options.joinDotsPosCalc[5].y=Y,t.options.joinDotsPosCalc[6].x=D,t.options.joinDotsPosCalc[6].y=x,t.options.joinDotsPosCalc[7].x=v,t.options.joinDotsPosCalc[7].y=T):2==s?(t.options.dotsPosCalc[0].x=w,t.options.dotsPosCalc[0].y=k,t.options.dotsPosCalc[1].x=B,t.options.dotsPosCalc[1].y=S,t.options.dotsPosCalc[2].x=f,t.options.dotsPosCalc[2].y=H,t.options.dotsPosCalc[3].x=j,t.options.dotsPosCalc[3].y=N,t.options.joinDotsPosCalc[0].x=L,t.options.joinDotsPosCalc[0].y=h,t.options.joinDotsPosCalc[1].x=0,t.options.joinDotsPosCalc[1].y=0,t.options.joinDotsPosCalc[2].x=V,t.options.joinDotsPosCalc[2].y=m,t.options.joinDotsPosCalc[3].x=X,t.options.joinDotsPosCalc[3].y=Y,t.options.joinDotsPosCalc[4].x=D,t.options.joinDotsPosCalc[4].y=x,t.options.joinDotsPosCalc[5].x=v,t.options.joinDotsPosCalc[5].y=T,t.options.joinDotsPosCalc[6].x=P,t.options.joinDotsPosCalc[6].y=c,t.options.joinDotsPosCalc[7].x=C,t.options.joinDotsPosCalc[7].y=M):3==s&&(t.options.dotsPosCalc[0].x=B,t.options.dotsPosCalc[0].y=S,t.options.dotsPosCalc[1].x=f,t.options.dotsPosCalc[1].y=H,t.options.dotsPosCalc[2].x=j,t.options.dotsPosCalc[2].y=N,t.options.dotsPosCalc[3].x=w,t.options.dotsPosCalc[3].y=k,t.options.joinDotsPosCalc[0].x=V,t.options.joinDotsPosCalc[0].y=m,t.options.joinDotsPosCalc[1].x=X,t.options.joinDotsPosCalc[1].y=Y,t.options.joinDotsPosCalc[2].x=D,t.options.joinDotsPosCalc[2].y=x,t.options.joinDotsPosCalc[3].x=v,t.options.joinDotsPosCalc[3].y=T,t.options.joinDotsPosCalc[4].x=P,t.options.joinDotsPosCalc[4].y=c,t.options.joinDotsPosCalc[5].x=C,t.options.joinDotsPosCalc[5].y=M,t.options.joinDotsPosCalc[6].x=L,t.options.joinDotsPosCalc[6].y=h,t.options.joinDotsPosCalc[7].x=0,t.options.joinDotsPosCalc[7].y=0);for(var W=0;W<t.options.dotsPos.length;W++)t.options.dotsPos[W]=t.options.dotsPosCalc[W];for(W=0;W<t.options.joinDotsPos.length;W++)t.options.joinDotsPos[W]=t.options.joinDotsPosCalc[W];null!=t.options.src&&""!=t.options.src&&(0==s?t.group.img.setAttribute("href",sedLib.imgPath+t.options.src0):1==s?t.group.img.setAttribute("href",sedLib.imgPath+t.options.src1):2==s?t.group.img.setAttribute("href",sedLib.imgPath+t.options.src2):3==s&&t.group.img.setAttribute("href",sedLib.imgPath+t.options.src3),t.group.img.setAttribute("x",t.options.imgPosX),t.group.img.setAttribute("y",t.options.imgPosY),t.group.img.setAttribute("width",t.options.imgWidth),t.group.img.setAttribute("height",t.options.imgHeight)),setTagsShape(t,t.options,!1,401),setJoinDotsPos(t),t.moveJoinDots(),t.draw(401),t.drawText(2)},sedLib.resizePointToLayer3D=function(t,i,o,e){var s=Math.round(o/90+e/60),r=-1*Math.round(e/60-o/90),u=t.get("rowBlock"),b=t.get("colBlock");if(0==i)b+=r;else if(1==i){u+=s;var n=t.get("x"),g=t.get("y");n+=90*s/2,g+=60*s/2}else if(2==i){b-=r;n=t.get("x"),g=t.get("y");n+=90*r/2,g-=60*r/2,t.set("x",n),t.set("y",g);for(var p=t.group.querySelectorAll("[baseFg=true]"),l=0;l<p.length;l++){(a=p[l].parentNode.fg)!=t&&a.moveTo(90*r/2*-1,60*r/2)}}else if(3==i){u-=s;n=t.get("x"),g=t.get("y");n+=90*s/2,g+=60*s/2,t.set("x",n),t.set("y",g);for(p=t.group.querySelectorAll("[baseFg=true]"),l=0;l<p.length;l++){var a;(a=p[l].parentNode.fg)!=t&&a.moveTo(90*s/2*-1,60*s/2*-1)}}u<=1&&(u=1),b<=1&&(b=1),t.set("rowBlock",u),t.set("colBlock",b),setTagsShape(t,t.options,!1,402),null!=t.group.tagText&&(t.group.tagText.setAttribute("width",t.get("width")),t.group.tagText.setAttribute("height",t.get("height")));var d=t.options.heightBlock,A=t.options.rowBlock*t.unitWidth*1,y=t.options.colBlock*t.unitWidth,D=(t.options.colBlock+t.options.rowBlock)*t.unitWidth,x=t.options.rowBlock*t.unitHeight*1,v=t.options.colBlock*t.unitHeight*-1,T=(t.options.colBlock-t.options.rowBlock)*t.unitHeight*-1,P=(y+D)/2,c=(v+T)/2,C=D,M=T,L=(D+A)/2,h=(T+x)/2,V=A,m=x,X=(0+A)/2,Y=(0+x)/2,f=(0+y)/2,H=(0+v)/2,j=y,N=v,w=(y+D)/2,k=(v+T)/2-d,B=(D+A)/2,S=(T+x)/2-d,I=(0+A)/2,W=(0+x)/2-d,E=(0+y)/2,Z=(0+v)/2-d;t.options.dotsPos[0]={x:w,y:k},t.options.dotsPos[1]={x:B,y:S},t.options.dotsPos[2]={x:I,y:W},t.options.dotsPos[3]={x:E,y:Z},t.options.dotsPosCalc[0]={x:w,y:k},t.options.dotsPosCalc[1]={x:B,y:S},t.options.dotsPosCalc[2]={x:I,y:W},t.options.dotsPosCalc[3]={x:E,y:Z},t.options.rotateDotPos={x:(w+I)/2,y:(k+W)/2-60},1==t.options.baseSp&&(t.options.joinDotsPos[0]={x:P,y:c},t.options.joinDotsPos[1]={x:C,y:M},t.options.joinDotsPos[2]={x:L,y:h},t.options.joinDotsPos[3]={x:V,y:m},t.options.joinDotsPos[4]={x:X,y:Y},t.options.joinDotsPos[5]={x:0,y:0},t.options.joinDotsPos[6]={x:f,y:H},t.options.joinDotsPos[7]={x:j,y:N},setJoinDotsPos(t),t.options.joinDotsPosCalc[0]={x:P,y:c},t.options.joinDotsPosCalc[1]={x:C,y:M},t.options.joinDotsPosCalc[2]={x:L,y:h},t.options.joinDotsPosCalc[3]={x:V,y:m},t.options.joinDotsPosCalc[4]={x:X,y:Y},t.options.joinDotsPosCalc[5]={x:0,y:0},t.options.joinDotsPosCalc[6]={x:f,y:H},t.options.joinDotsPosCalc[7]={x:j,y:N}),null!=t.options.src&&null!=t.options.src&&""!=t.options.src&&(t.group.img.setAttribute("x",t.get("width")/-2),t.group.img.setAttribute("y",t.get("height")/-1),t.group.img.setAttribute("width",t.get("width")),t.group.img.setAttribute("height",t.get("height"))),setTagsShape(t,t.options,!1,403),setJoinDotsPos(t),t.moveJoinDots(),t.draw(402),t.drawText(3)},sedLib.setRotate3D=function(t){var i=t.get("rotate3D"),o=t.get("heightBlock"),e=t.get("rowBlock"),s=t.get("colBlock");t.set("rowBlock",s),t.set("colBlock",e);var r=t.options.rowBlock*t.unitWidth*1,u=t.options.colBlock*t.unitWidth,b=(t.options.colBlock+t.options.rowBlock)*t.unitWidth,n=t.options.rowBlock*t.unitHeight*1,g=t.options.colBlock*t.unitHeight*-1,p=(t.options.colBlock-t.options.rowBlock)*t.unitHeight*-1,l=(u+b)/2,a=(g+p)/2,d=b,A=p,y=(b+r)/2,D=(p+n)/2,x=r,v=n,T=(0+r)/2,P=(0+n)/2,c=(0+u)/2,C=(0+g)/2,M=u,L=g,h=(u+b)/2,V=(g+p)/2-o,m=(b+r)/2,X=(p+n)/2-o,Y=(0+r)/2,f=(0+n)/2-o,H=(0+u)/2,j=(0+g)/2-o,N=g-o;t.options.imgPosX=0,t.options.imgPosY=N,t.options.imgWidth=d-0,t.options.imgHeight=v-N,0==i?(t.options.dotsPosCalc[0].x=h,t.options.dotsPosCalc[0].y=V,t.options.dotsPosCalc[1].x=m,t.options.dotsPosCalc[1].y=X,t.options.dotsPosCalc[2].x=Y,t.options.dotsPosCalc[2].y=f,t.options.dotsPosCalc[3].x=H,t.options.dotsPosCalc[3].y=j,t.options.joinDotsPosCalc[0].x=l,t.options.joinDotsPosCalc[0].y=a,t.options.joinDotsPosCalc[1].x=d,t.options.joinDotsPosCalc[1].y=A,t.options.joinDotsPosCalc[2].x=y,t.options.joinDotsPosCalc[2].y=D,t.options.joinDotsPosCalc[3].x=x,t.options.joinDotsPosCalc[3].y=v,t.options.joinDotsPosCalc[4].x=T,t.options.joinDotsPosCalc[4].y=P,t.options.joinDotsPosCalc[5].x=0,t.options.joinDotsPosCalc[5].y=0,t.options.joinDotsPosCalc[6].x=c,t.options.joinDotsPosCalc[6].y=C,t.options.joinDotsPosCalc[7].x=M,t.options.joinDotsPosCalc[7].y=L):1==i?(t.options.dotsPosCalc[0].x=m,t.options.dotsPosCalc[0].y=X,t.options.dotsPosCalc[1].x=Y,t.options.dotsPosCalc[1].y=f,t.options.dotsPosCalc[2].x=H,t.options.dotsPosCalc[2].y=j,t.options.dotsPosCalc[3].x=h,t.options.dotsPosCalc[3].y=V,t.options.joinDotsPosCalc[0].x=y,t.options.joinDotsPosCalc[0].y=D,t.options.joinDotsPosCalc[1].x=x,t.options.joinDotsPosCalc[1].y=v,t.options.joinDotsPosCalc[2].x=T,t.options.joinDotsPosCalc[2].y=P,t.options.joinDotsPosCalc[3].x=0,t.options.joinDotsPosCalc[3].y=0,t.options.joinDotsPosCalc[4].x=c,t.options.joinDotsPosCalc[4].y=C,t.options.joinDotsPosCalc[5].x=M,t.options.joinDotsPosCalc[5].y=L,t.options.joinDotsPosCalc[6].x=l,t.options.joinDotsPosCalc[6].y=a,t.options.joinDotsPosCalc[7].x=d,t.options.joinDotsPosCalc[7].y=A):2==i?(t.options.dotsPosCalc[0].x=Y,t.options.dotsPosCalc[0].y=f,t.options.dotsPosCalc[1].x=H,t.options.dotsPosCalc[1].y=j,t.options.dotsPosCalc[2].x=h,t.options.dotsPosCalc[2].y=V,t.options.dotsPosCalc[3].x=m,t.options.dotsPosCalc[3].y=X,t.options.joinDotsPosCalc[0].x=T,t.options.joinDotsPosCalc[0].y=P,t.options.joinDotsPosCalc[1].x=0,t.options.joinDotsPosCalc[1].y=0,t.options.joinDotsPosCalc[2].x=c,t.options.joinDotsPosCalc[2].y=C,t.options.joinDotsPosCalc[3].x=M,t.options.joinDotsPosCalc[3].y=L,t.options.joinDotsPosCalc[4].x=l,t.options.joinDotsPosCalc[4].y=a,t.options.joinDotsPosCalc[5].x=d,t.options.joinDotsPosCalc[5].y=A,t.options.joinDotsPosCalc[6].x=y,t.options.joinDotsPosCalc[6].y=D,t.options.joinDotsPosCalc[7].x=x,t.options.joinDotsPosCalc[7].y=v):3==i&&(t.options.dotsPosCalc[0].x=H,t.options.dotsPosCalc[0].y=j,t.options.dotsPosCalc[1].x=h,t.options.dotsPosCalc[1].y=V,t.options.dotsPosCalc[2].x=m,t.options.dotsPosCalc[2].y=X,t.options.dotsPosCalc[3].x=Y,t.options.dotsPosCalc[3].y=f,t.options.joinDotsPosCalc[0].x=c,t.options.joinDotsPosCalc[0].y=C,t.options.joinDotsPosCalc[1].x=M,t.options.joinDotsPosCalc[1].y=L,t.options.joinDotsPosCalc[2].x=l,t.options.joinDotsPosCalc[2].y=a,t.options.joinDotsPosCalc[3].x=d,t.options.joinDotsPosCalc[3].y=A,t.options.joinDotsPosCalc[4].x=y,t.options.joinDotsPosCalc[4].y=D,t.options.joinDotsPosCalc[5].x=x,t.options.joinDotsPosCalc[5].y=v,t.options.joinDotsPosCalc[6].x=T,t.options.joinDotsPosCalc[6].y=P,t.options.joinDotsPosCalc[7].x=0,t.options.joinDotsPosCalc[7].y=0);for(var w=0;w<t.options.dotsPos.length;w++)t.options.dotsPos[w]=t.options.dotsPosCalc[w];for(w=0;w<t.options.joinDotsPos.length;w++)t.options.joinDotsPos[w]=t.options.joinDotsPosCalc[w];null!=t.options.src&&""!=t.options.src&&(0==i?t.group.img.setAttribute("href",sedLib.imgPath+t.options.src0):1==i?t.group.img.setAttribute("href",sedLib.imgPath+t.options.src1):2==i?t.group.img.setAttribute("href",sedLib.imgPath+t.options.src2):3==i&&t.group.img.setAttribute("href",sedLib.imgPath+t.options.src3),t.group.img.setAttribute("x",t.options.imgPosX),t.group.img.setAttribute("y",t.options.imgPosY),t.group.img.setAttribute("width",t.options.imgWidth),t.group.img.setAttribute("height",t.options.imgHeight)),setTagsShape(t,t.options,!1,404)},sedLib.getLayerBlockPosXY=function(t,i,o){var e=t.get("rowUnitSize"),s=t.get("colUnitSize");return{x:Number((o+i)*e*.5+.5*e),y:Number((-1*i+o)*s*-.5)}};